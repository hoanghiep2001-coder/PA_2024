{"version":3,"sources":["assets\\Script\\Controller\\TouchController.js"],"names":["cc","Class","Component","properties","graphics","Prefab","nodesController","Node","audioManager","gameController","gamePlay","onLoad","window","isDraw","node","on","EventType","TOUCH_START","touch_start","TOUCH_END","touch_end","TOUCH_CANCEL","start","createGraphics","isWin","getComponent","installHandle","handleIronSourcePlaySound","playSound","drawSound","loop","hint","active","text_draw","event","StateForJs","isCanDraw","offEvent","stopSound","off","graphics_node","instantiate","x","addChild"],"mappings":";;;;;;AAAA;;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAILC,EAAAA,UAAU,EAAE;AACRC,IAAAA,QAAQ,EAAEJ,EAAE,CAACK,MADL;AAERC,IAAAA,eAAe,EAAEN,EAAE,CAACO,IAFZ;AAGRC,IAAAA,YAAY,EAAER,EAAE,CAACO,IAHT;AAIRE,IAAAA,cAAc,EAAET,EAAE,CAACO,IAJX;AAKRG,IAAAA,QAAQ,EAAEV,EAAE,CAACO;AALL,GAJP;AAaLI,EAAAA,MAbK,oBAaI;AACLC,IAAAA,MAAM,CAACC,MAAP,GAAgB,KAAhB;AACA,SAAKC,IAAL,CAAUC,EAAV,CAAaf,EAAE,CAACO,IAAH,CAAQS,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,WAAjD,EAA8D,IAA9D;AACA,SAAKJ,IAAL,CAAUC,EAAV,CAAaf,EAAE,CAACO,IAAH,CAAQS,SAAR,CAAkBG,SAA/B,EAA0C,KAAKC,SAA/C,EAA0D,IAA1D;AACA,SAAKN,IAAL,CAAUC,EAAV,CAAaf,EAAE,CAACO,IAAH,CAAQS,SAAR,CAAkBK,YAA/B,EAA6C,KAAKD,SAAlD,EAA6D,IAA7D;AACH,GAlBI;AAqBLE,EAAAA,KArBK,mBAqBG;AACJ,SAAKC,cAAL;AACH,GAvBI;AA0BLL,EAAAA,WA1BK,yBA0BS;AACV;AACA;AAEA,QAAGN,MAAM,CAACY,KAAV,EAAiB;AACb,WAAKf,cAAL,CAAoBgB,YAApB,CAAiC,gBAAjC,EAAmDC,aAAnD;AACH;;AAED,SAAKhB,QAAL,CAAce,YAAd,CAA2B,UAA3B,EAAuCE,yBAAvC;AACA,SAAKnB,YAAL,CAAkBiB,YAAlB,CAA+B,cAA/B,EAA+CG,SAA/C,CAAyD,WAAzD;AACA,SAAKpB,YAAL,CAAkBiB,YAAlB,CAA+B,cAA/B,EAA+CI,SAA/C,CAAyDC,IAAzD,GAAgE,IAAhE;AACA,SAAKxB,eAAL,CAAqBmB,YAArB,CAAkC,iBAAlC,EAAqDM,IAArD,CAA0DC,MAA1D,GAAmE,KAAnE;AACA,SAAK1B,eAAL,CAAqBmB,YAArB,CAAkC,iBAAlC,EAAqDQ,SAArD,CAA+DD,MAA/D,GAAwE,KAAxE;AACH,GAvCI;AA0CLZ,EAAAA,SAAS,EAAE,mBAAUc,KAAV,EAAiB;AACxB,QAAG,CAACC,uBAAWC,SAAZ,IAAyBxB,MAAM,CAACY,KAAnC,EAA0C;AACtC,WAAKa,QAAL;AACA,WAAKd,cAAL;AACH;;AACD,SAAKf,YAAL,CAAkBiB,YAAlB,CAA+B,cAA/B,EAA+Ca,SAA/C,CAAyD,WAAzD;AACH,GAhDI;AAmDLD,EAAAA,QAnDK,sBAmDM;AACP,SAAKvB,IAAL,CAAUyB,GAAV,CAAcvC,EAAE,CAACO,IAAH,CAAQS,SAAR,CAAkBC,WAAhC;AACA,SAAKH,IAAL,CAAUyB,GAAV,CAAcvC,EAAE,CAACO,IAAH,CAAQS,SAAR,CAAkBG,SAAhC;AACH,GAtDI;AAyDLI,EAAAA,cAzDK,4BAyDY;AACb,QAAIiB,aAAa,GAAGxC,EAAE,CAACyC,WAAH,CAAe,KAAKrC,QAApB,CAApB;AACAoC,IAAAA,aAAa,CAACE,CAAd,GAAkB,CAAlB;AACA,SAAK5B,IAAL,CAAU6B,QAAV,CAAmBH,aAAnB;AACH;AA7DI,CAAT","sourceRoot":"/","sourcesContent":["import { StateForJs } from \"../Data/StateForJS\";\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n\r\n    properties: {\r\n        graphics: cc.Prefab,\r\n        nodesController: cc.Node,\r\n        audioManager: cc.Node,\r\n        gameController: cc.Node,\r\n        gamePlay: cc.Node,\r\n    },\r\n\r\n\r\n    onLoad() {\r\n        window.isDraw = false;\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.touch_start, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touch_end, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.touch_end, this);\r\n    },\r\n\r\n\r\n    start() {\r\n        this.createGraphics();\r\n    },\r\n\r\n\r\n    touch_start() {\r\n        // toStore\r\n        // this.gameController.getComponent(\"GameController\").installHandle();\r\n\r\n        if(window.isWin) {\r\n            this.gameController.getComponent(\"GameController\").installHandle();\r\n        }\r\n\r\n        this.gamePlay.getComponent(\"GamePlay\").handleIronSourcePlaySound();\r\n        this.audioManager.getComponent(\"AudioManager\").playSound(\"drawSound\");\r\n        this.audioManager.getComponent(\"AudioManager\").drawSound.loop = true;\r\n        this.nodesController.getComponent(\"NodesController\").hint.active = false;\r\n        this.nodesController.getComponent(\"NodesController\").text_draw.active = false;\r\n    },\r\n\r\n\r\n    touch_end: function (event) {\r\n        if(!StateForJs.isCanDraw || window.isWin) {\r\n            this.offEvent();\r\n            this.createGraphics();\r\n        }\r\n        this.audioManager.getComponent(\"AudioManager\").stopSound(\"drawSound\");\r\n    },\r\n\r\n\r\n    offEvent() {\r\n        this.node.off(cc.Node.EventType.TOUCH_START);\r\n        this.node.off(cc.Node.EventType.TOUCH_END);\r\n    },\r\n\r\n\r\n    createGraphics() {\r\n        var graphics_node = cc.instantiate(this.graphics);\r\n        graphics_node.x = 0;\r\n        this.node.addChild(graphics_node);\r\n    },\r\n});\r\n"]}