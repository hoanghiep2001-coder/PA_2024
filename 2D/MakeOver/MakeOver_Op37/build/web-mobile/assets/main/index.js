window.__require=function o(t,e,n){function i(s,r){if(!e[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=e[s]={exports:{}};t[s][0].call(u.exports,function(o){return i(t[s][1][o]||o)},u,u.exports,o,t,e,n)}return e[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({Anims:[function(o,t,e){"use strict";var n;cc._RF.push(t,"7e978dmCj1F/oDQ09VgYDVK","Anims"),Object.defineProperty(e,"__esModule",{value:!0}),e.SpineAnims=void 0,function(o){o.Action1="action01_poke",o.Action2="action02_poke",o.Action3="action03_fade"}(n||(n={}));var i=function(){function o(){}return o.EarAnim=n,o}();e.SpineAnims=i,cc._RF.pop()},{}],AudioManager:[function(o,t,e){"use strict";cc._RF.push(t,"4c7cf9rDSJL36cJtz1lUze/","AudioManager");var n,i=this&&this.__extends||(n=function(o,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])})(o,t)},function(o,t){function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),a=this&&this.__decorate||function(o,t,e,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,t,e,n);else for(var r=o.length-1;r>=0;r--)(i=o[r])&&(s=(a<3?i(s):a>3?i(t,e,s):i(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s};Object.defineProperty(e,"__esModule",{value:!0});var s=o("../Data/constants"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.bgSound=null,t.spiderSound=null,t.hmmSound=null,t.moveItemSound=null,t.DoneStepSound=null,t.nhoMun1Sound=null,t.nhoMun2Sound=null,t.FaceWashSound=null,t.gapRuoiSound=null,t.bopMunSound=null,t}return i(t,o),t.prototype.playSound=function(o){if(s.Constants.ironSource.SoundState&&!s.Constants.ironSource.isEndGame)switch(o){case"bgSound":this.bgSound.play();break;case"bopMunSound":this.bopMunSound.play();break;case"gapRuoiSound":this.gapRuoiSound.play();break;case"FaceWashSound":this.FaceWashSound.play();break;case"nhoMun1Sound":this.nhoMun1Sound.play();break;case"nhoMun2Sound":this.nhoMun2Sound.play();break;case"DoneStepSound":this.DoneStepSound.play();break;case"moveItemSound":this.moveItemSound.play();break;case"hmmSound":this.hmmSound.play();break;case"spiderSound":this.spiderSound.play()}},t.prototype.stopSound=function(o){switch(o){case"bgSound":this.bgSound.stop();break;case"bopMunSound":this.bopMunSound.stop();break;case"gapRuoiSound":this.gapRuoiSound.stop();break;case"FaceWashSound":this.FaceWashSound.stop();break;case"nhoMun1Sound":this.nhoMun1Sound.stop();break;case"nhoMun2Sound":this.nhoMun2Sound.stop();break;case"DoneStepSound":this.DoneStepSound.stop();break;case"moveItemSound":this.moveItemSound.stop();break;case"spiderSound":this.spiderSound.stop();break;case"hmmSound":this.hmmSound.stop()}},t.prototype.stopAllSound=function(){this.nhoMun2Sound.stop(),this.bopMunSound.stop(),this.gapRuoiSound.stop(),this.nhoMun1Sound.stop(),this.DoneStepSound.stop(),this.FaceWashSound.stop(),this.moveItemSound.stop(),this.bgSound.stop(),this.spiderSound.stop(),this.hmmSound.stop()},a([l(cc.AudioSource)],t.prototype,"bgSound",void 0),a([l(cc.AudioSource)],t.prototype,"spiderSound",void 0),a([l(cc.AudioSource)],t.prototype,"hmmSound",void 0),a([l(cc.AudioSource)],t.prototype,"moveItemSound",void 0),a([l(cc.AudioSource)],t.prototype,"DoneStepSound",void 0),a([l(cc.AudioSource)],t.prototype,"nhoMun1Sound",void 0),a([l(cc.AudioSource)],t.prototype,"nhoMun2Sound",void 0),a([l(cc.AudioSource)],t.prototype,"FaceWashSound",void 0),a([l(cc.AudioSource)],t.prototype,"gapRuoiSound",void 0),a([l(cc.AudioSource)],t.prototype,"bopMunSound",void 0),a([c],t)}(cc.Component);e.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],GameController:[function(o,t,e){"use strict";cc._RF.push(t,"459a6fkmHFH5Z+5+z1O55SB","GameController");var n,i=this&&this.__extends||(n=function(o,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])})(o,t)},function(o,t){function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),a=this&&this.__decorate||function(o,t,e,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,t,e,n);else for(var r=o.length-1;r>=0;r--)(i=o[r])&&(s=(a<3?i(s):a>3?i(t,e,s):i(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.GameController=void 0;var s=o("../Data/constants"),r=o("../Plugin/AudioManager"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.AudioManager=null,t}return i(t,o),t.prototype.onLoad=function(){},t.prototype.start=function(){window.gameReady&&window.gameReady()},t.prototype.installHandle=function(){if(console.log("install"),s.Constants.ironSource.isEndGame=!0,this.AudioManager.stopAllSound(),window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.ANDROID?void mraid.open("https://play.google.com/store/apps/details?id=com.an.beauty.makeoverasmr"):cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.IPHONE||cc.sys.os==cc.sys.IPAD?void mraid.open("https://itunes.apple.com/us/app/id6449269733?mt=8"):void mraid.open("https://play.google.com/store/apps/details?id=com.an.beauty.makeoverasmr"):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},a([u(r.default)],t.prototype,"AudioManager",void 0),a([l],t)}(cc.Component);e.GameController=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(o,t,e){"use strict";cc._RF.push(t,"b1d34srP15JNoxtzOCtQ0oZ","GamePlay");var n,i=this&&this.__extends||(n=function(o,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])})(o,t)},function(o,t){function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),a=this&&this.__decorate||function(o,t,e,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,t,e,n);else for(var r=o.length-1;r>=0;r--)(i=o[r])&&(s=(a<3?i(s):a>3?i(t,e,s):i(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s};Object.defineProperty(e,"__esModule",{value:!0});var s=o("../Data/Anims"),r=o("../Data/constants"),c=o("../Plugin/AudioManager"),l=o("./GameController"),u=o("./NodeContanier"),d=cc._decorator,p=d.ccclass,h=d.property,y=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.AudioManager=null,t.GameController=null,t.NodeContainer=null,t.star=null,t.touchArea=null,t.hand=null,t.scratchAble=null,t.trackEnTry=null,t.isActiveRemoveSound1=!1,t.isActiveRemoveSound2=!1,t.isActiveRemoveSound3=!1,t.isActiveRemoveSound4=!1,t.isDoneScratchAble=!1,t.activeCTA=!1,t.CTA_steps=0,t.CTA_thumbnail=null,t.CTA_isBtn=!1,t.CTA_anyThumbnail=!0,t}return i(t,o),t.prototype.onLoad=function(){},t.prototype.start=function(){this.NodeContainer.CTA.active=!1,this.AudioManager.playSound(r.Constants.SoundTrack.bgSound),this.scaleToDollEar()},t.prototype.scaleToDollEar=function(){var o=this;this.scheduleOnce(function(){cc.tween(o.NodeContainer.Doll).to(1,{y:-100,scale:1.6}).call(function(){r.Constants.isCanTouch=!0,o.NodeContainer.Hint_Circle.active=!0,o.showTools(o.NodeContainer.Flow1_spineTool,!0)}).start()},1.5)},t.prototype.showHint=function(){this.NodeContainer.Hand.active=!0,this.NodeContainer.Hand.getComponent(cc.Animation).play(),r.Constants.isDoneStep1&&this.showHintFlow2()},t.prototype.showHintFlow2=function(){this.NodeContainer.Hint_Circle_2.active=!0},t.prototype.activeCTAAnim=function(){var o=this;this.NodeContainer.CTA.active=!0,this.CTA_thumbnail=this.NodeContainer.CTA_logo,cc.tween(this.NodeContainer.CTA_overlay).to(.5,{opacity:150}).call(function(){o.showThumbnailTween(o.CTA_thumbnail,o.CTA_anyThumbnail,o.CTA_isBtn)}).start()},t.prototype.showThumbnailTween=function(o,t,e){var n=this;switch(this.CTA_steps){case 0:this.CTA_thumbnail=this.NodeContainer.CTA_logo;break;case 1:this.CTA_thumbnail=this.NodeContainer.CTA_icon;break;case 2:this.CTA_thumbnail=this.NodeContainer.CTA_Btn,this.CTA_anyThumbnail=!1,this.CTA_isBtn=!0}this.CTA_steps+=1,cc.tween(o).to(.5,{opacity:255}).call(function(){t&&n.showThumbnailTween(n.CTA_thumbnail,n.CTA_anyThumbnail,n.CTA_isBtn),e&&n.activeBtnTween(n.CTA_thumbnail)}).start()},t.prototype.activeBtnTween=function(o){cc.tween(o).repeatForever(cc.tween(o).to(.5,{scale:.45}).to(.5,{scale:.5},{easing:cc.easing.elasticOut})).start()},t.prototype.showTools=function(o,t){var e=this;o.opacity=0,t||(o.active=!0),r.Constants.isCanTouch=!0,this.AudioManager.playSound(r.Constants.SoundTrack.moveItemSound);var n=o.getPosition();o.setPosition(n.x-30,n.y),cc.tween(o).to(.5,{x:n.x,opacity:255}).call(function(){e.showHint()}).start()},t.prototype.checkCollideAcne=function(){var o=this.NodeContainer.Flow1_ToolHead.getBoundingBox();this.NodeContainer.Flow1_Area.getBoundingBox().intersects(o)&&(r.Constants.isCanTouch=!1,this.NodeContainer.Doll_SpineRmMaggot.node.active=!0,this.trackEnTry=this.NodeContainer.Doll_SpineRmMaggot.setAnimation(0,"Action",!1),this.NodeContainer.Flow1_Tool.active=!1,this.NodeContainer.Flow1_spineTool.active=!1,this.NodeContainer.Flow1_Tool.opacity=0,this.setCompleteSpine(this.NodeContainer.Doll_SpineRmMaggot))},t.prototype.setCompleteSpine=function(o){var t=this;o.setCompleteListener(function(o){o.animation.name&&t.doneFlowAndShowNextOption()})},t.prototype.getCurentTimeOfTrack=function(){this.trackEnTry&&(this.trackEnTry.trackTime>=1.2&&!this.isActiveRemoveSound1&&(this.isActiveRemoveSound1=!0,this.NodeContainer.Doll_Maggot.active=!1,this.AudioManager.playSound(r.Constants.SoundTrack.nhoMun1Sound)),this.trackEnTry.trackTime>=1.5&&!this.isActiveRemoveSound2&&(this.isActiveRemoveSound2=!0,this.AudioManager.playSound(r.Constants.SoundTrack.nhoMun2Sound)),this.trackEnTry.trackTime>=5&&(this.isActiveRemoveSound4=!0,this.AudioManager.stopSound(r.Constants.SoundTrack.nhoMun2Sound),this.AudioManager.playSound(r.Constants.SoundTrack.gapRuoiSound)))},t.prototype.doneFlowAndShowNextOption=function(){var o=this;!r.Constants.isDoneStep1&&this.touchArea.getComponent("TouchAreaController").registerFlow2Event(),r.Constants.isDoneStep1=!0,this.AudioManager.playSound(r.Constants.SoundTrack.DoneStepSound),this.AudioManager.playSound(r.Constants.SoundTrack.hmmSound),this.star.getComponent(cc.Animation).play("StarAnim"),this.scheduleOnce(function(){o.showTools(o.NodeContainer.Flow2_Tool,!1)},1.5)},t.prototype.checkCollideEarsAcne=function(){var o=this,t=this.NodeContainer.Flow2_ToolHead.getBoundingBox();this.NodeContainer.Flow2_Area.getBoundingBox().intersects(t)&&(r.Constants.isCanTouch=!1,r.Constants.collideEarAcneNumber+=1,this.AudioManager.playSound(r.Constants.SoundTrack.nhoMun1Sound),this.scheduleOnce(function(){o.AudioManager.playSound(r.Constants.SoundTrack.bopMunSound)},.5),1===r.Constants.collideEarAcneNumber?(this.NodeContainer.Doll_Ear.setAnimation(0,s.SpineAnims.EarAnim.Action1,!1),this.NodeContainer.Doll_Poke.getComponent(cc.Animation).play("Poke_Anim1")):(this.NodeContainer.Doll_Ear.setAnimation(0,s.SpineAnims.EarAnim.Action2,!1),this.NodeContainer.Doll_Poke.getComponent(cc.Animation).play("Poke_Anim2"),this.donePA()),this.NodeContainer.Flow2_Tool.active=!1,this.NodeContainer.Flow2_Tool.opacity=0,this.NodeContainer.Flow2_Tool.setPosition(this.NodeContainer.initPosTool_Flow2),this.setCompleteSpine(this.NodeContainer.Doll_Ear))},t.prototype.donePA=function(){r.Constants.isToStore=!0},t.prototype.update=function(){!this.isActiveRemoveSound4&&this.getCurentTimeOfTrack()},a([h(c.default)],t.prototype,"AudioManager",void 0),a([h(l.GameController)],t.prototype,"GameController",void 0),a([h(u.default)],t.prototype,"NodeContainer",void 0),a([h(cc.Node)],t.prototype,"star",void 0),a([h(cc.Node)],t.prototype,"touchArea",void 0),a([h(cc.Node)],t.prototype,"hand",void 0),a([h(cc.Node)],t.prototype,"scratchAble",void 0),a([p],t)}(cc.Component);e.default=y,cc._RF.pop()},{"../Data/Anims":"Anims","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./NodeContanier":"NodeContanier"}],IronSource:[function(o,t,e){"use strict";cc._RF.push(t,"49c0ang8TBDWqCvjXG1XKDi","IronSource");var n,i=this&&this.__extends||(n=function(o,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])})(o,t)},function(o,t){function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),a=this&&this.__decorate||function(o,t,e,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,t,e,n);else for(var r=o.length-1;r>=0;r--)(i=o[r])&&(s=(a<3?i(s):a>3?i(t,e,s):i(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s};Object.defineProperty(e,"__esModule",{value:!0});var s=o("../Data/constants"),r=o("../Plugin/AudioManager"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.AudioManager=null,t}return i(t,o),t.prototype.handleIronSourcePlaySound=function(){s.Constants.ironSource.isPlayBgSound||(s.Constants.ironSource.isPlayBgSound=!0,s.Constants.ironSource.SoundState&&this.AudioManager.playSound(s.Constants.SoundTrack.bgSound))},t.prototype.handleMuteSoundIronSource=function(){s.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),s.Constants.ironSource.State&&(1!==s.Constants.ironSource.State||s.Constants.ironSource.SoundState||s.Constants.ironSource.isEndGame||(s.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(s.Constants.SoundTrack.bgSound)),2===s.Constants.ironSource.State&&s.Constants.ironSource.SoundState&&(s.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},t.prototype.update=function(){},a([u(r.default)],t.prototype,"AudioManager",void 0),a([l],t)}(cc.Component);e.default=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],MaskGamePlay:[function(o,t){"use strict";cc._RF.push(t,"1e413qp47tDJaKLlYhUb7NL","MaskGamePlay");var e=o("Scratchable");cc.Class({extends:cc.Component,properties:{pointClear:cc.Node,touchArea:cc.Node},onLoad:function(){this.scratchables=this.getComponentsInChildren(e)},update:function(){if(this.isTouch=this.touchArea.getComponent("TouchAreaController").isTouch,this.pointClear.active&&this.isTouch){var o=cc.v2(this.pointClear.x+cc.winSize.width/2,this.pointClear.y+cc.winSize.height/2);this.scratchables.forEach(function(t){t.isScratchable&&t.isInBound(o)&&t.scratchHole(o)})}}}),cc._RF.pop()},{Scratchable:"Scratchable"}],NodeContanier:[function(o,t,e){"use strict";cc._RF.push(t,"69c3bsb3chPmrdB+4j36B25","NodeContanier");var n,i=this&&this.__extends||(n=function(o,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])})(o,t)},function(o,t){function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),a=this&&this.__decorate||function(o,t,e,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,t,e,n);else for(var r=o.length-1;r>=0;r--)(i=o[r])&&(s=(a<3?i(s):a>3?i(t,e,s):i(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s};Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.GamePlay=null,t.UI=null,t.Scratchable=null,t.Bg_2=null,t.HideMask=null,t.CTA=null,t.Btn_1=null,t.Hand=null,t.Hint_Circle=null,t.Hint_Circle_2=null,t.Doll=null,t.Doll_Ear=null,t.Doll_Maggot=null,t.Doll_SpineRmMaggot=null,t.Doll_Poke=null,t.Flow1=null,t.Flow2=null,t.ToolArea=null,t.Flow1_Tool=null,t.Flow1_ToolHead=null,t.Flow1_spineTool=null,t.Flow1_DollSpineTool=null,t.Flow2_Tool=null,t.Flow2_ToolHead=null,t.Flow1_Area=null,t.Flow1_Acnes=[],t.Flow2_Area=null,t.CTA_Btn=null,t.CTA_icon=null,t.CTA_logo=null,t.CTA_overlay=null,t.initPosTool_Flow2=null,t}return i(t,o),t.prototype.start=function(){this.Hand=this.UI.getChildByName("hand2"),this.Doll=this.UI.getChildByName("Doll"),this.Doll_Poke=this.Doll.getChildByName("poke"),this.Doll_Ear=this.Doll.getChildByName("Malear").getComponent(sp.Skeleton),this.Hint_Circle=this.Doll.getChildByName("Maggot").getChildByName("circle"),this.Hint_Circle_2=this.Doll.getChildByName("Maggot").getChildByName("circle_2"),this.Doll_Maggot=this.Doll.getChildByName("Maggot").getChildByName("Mask_Maggot"),this.Doll_SpineRmMaggot=this.Doll.getChildByName("Maggot").getChildByName("Mask").getChildByName("spine_tool").getComponent(sp.Skeleton),this.Flow1=this.UI.getChildByName("Flow_1"),this.Flow1_DollSpineTool=this.Doll.getChildByName("Maggot").getChildByName("Mask").getChildByName("spine_tool").getComponent(sp.Skeleton),this.Flow1_Tool=this.Flow1.getChildByName("Tool"),this.Flow1_ToolHead=this.Flow1.getChildByName("ToolHead"),this.Flow1_spineTool=this.Flow1.getChildByName("spine_Tool"),this.Flow1_Area=this.Flow1.getChildByName("Area"),this.Flow2=this.UI.getChildByName("Flow_2"),this.Flow2_Tool=this.Flow2.getChildByName("poke"),this.Flow2_ToolHead=this.Flow2.getChildByName("ToolHead"),this.Flow2_Area=this.Flow2.getChildByName("Area"),this.CTA_Btn=this.CTA.getChildByName("btnNext"),this.CTA_logo=this.CTA.getChildByName("logo"),this.CTA_icon=this.CTA.getChildByName("icon"),this.CTA_overlay=this.CTA.getChildByName("Overlay"),this.init()},t.prototype.init=function(){this.initPosTool_Flow2=this.Flow2_Tool.getPosition(),this.ToolArea=this.Flow1_Tool},a([c(cc.Node)],t.prototype,"GamePlay",void 0),a([c(cc.Node)],t.prototype,"UI",void 0),a([c(cc.Node)],t.prototype,"Scratchable",void 0),a([c(cc.Node)],t.prototype,"Bg_2",void 0),a([c(cc.Node)],t.prototype,"HideMask",void 0),a([c(cc.Node)],t.prototype,"CTA",void 0),a([r],t)}(cc.Component);e.default=l,cc._RF.pop()},{}],Responsive:[function(o,t,e){"use strict";cc._RF.push(t,"d3abaWwEQhAi5Yf4wF9VZxN","Responsive");var n,i=this&&this.__extends||(n=function(o,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])})(o,t)},function(o,t){function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),a=this&&this.__decorate||function(o,t,e,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,t,e,n);else for(var r=o.length-1;r>=0;r--)(i=o[r])&&(s=(a<3?i(s):a>3?i(t,e,s):i(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s};Object.defineProperty(e,"__esModule",{value:!0});var s=o("../Controller/NodeContanier"),r=o("../Data/constants"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.NodeContainer=null,t.device="",t.isRotate=!1,t.HORIZONTAL_IPX="horizontal_IPX",t.HORIZONTAL_TABLET="horizontal_Tablet",t.VERTICAL_IPX="vertical_IPX",t.VERTICAL_MOBILE="vertical_Mobile",t}return i(t,o),t.prototype.onLoad=function(){},t.prototype.start=function(){this.handleRotate()},t.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(r.Constants.isRotate=!0,this.setHorizontal()):(r.Constants.isRotate=!1,this.setVertical())},t.prototype.setHorizontal=function(){var o=cc.view.getFrameSize().width;cc.view.getFrameSize().height/o<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},t.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,this.NodeContainer.Doll.scale=1.2)},t.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,this.NodeContainer.Doll.scale=1.2)},t.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},t.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,this.NodeContainer.Doll.scale=1.6,this.NodeContainer.Doll.y=-50)},t.prototype.setMobile=function(){if(this.VERTICAL_MOBILE!==this.device){this.device=this.VERTICAL_MOBILE;var o=cc.view.getFrameSize().width,t=cc.view.getFrameSize().height;this.NodeContainer.Doll.scale=t/o>1.5?1.4:1.2}},t.prototype.update=function(){},a([u(s.default)],t.prototype,"NodeContainer",void 0),a([l],t)}(cc.Component);e.default=d,cc._RF.pop()},{"../Controller/NodeContanier":"NodeContanier","../Data/constants":"constants"}],Scratchable:[function(o,t){"use strict";cc._RF.push(t,"0e71dUgp89ACJhqvD+hiH+q","Scratchable"),cc.Class({extends:cc.Component,properties:{isDone:0,isWin:cc.Boolean,eraserRadius:{type:cc.Int,default:60}},start:function(){this.percentToWin=.8;var o=this.getComponentInChildren(cc.Mask);this.graphics=o._graphics,this.graphics.fillColor=cc.color(255,255,255,0),this.reset()},calculateProgress:function(){if(this.isScratchable){var o=0;this.polygonPointsList.forEach(function(t){t.isHit&&(o+=1)}),this.progress=o/this.polygonPointsList.length,this.progress>=this.percentToWin&&(this.isWin=!0,this.isDone=1),this.isWin&&(this.fillInstantly(),this.completed=!0,this.isScratchable=!1,this.node.dispatchEvent(new cc.Event.EventCustom("completed",this)))}},reset:function(){this.callbackFlag=!0,this.graphics.clear(),this.tempDrawPoints=[],this.polygonPointsList=[],this.progress=0,this.completed=!1,this.isScratchable=!0,this.initPolygonList()},initPolygonList:function(){for(var o=0;o<this.node.width;o+=this.eraserRadius)for(var t=0;t<this.node.height;t+=this.eraserRadius)this.polygonPointsList.push({rect:cc.rect(o-this.node.width/2,t-this.node.height/2,this.eraserRadius,this.eraserRadius),isHit:!1})},scratchHole:function(o){o=this.node.convertToNodeSpaceAR(o);var t=this.graphics,e=this.tempDrawPoints.length;if(this.tempDrawPoints.push(o),this.calculateProgress(),e<=1)t.circle(o.x,o.y,this.eraserRadius/2),t.fill(),this.polygonPointsList.forEach(function(t){if(!t.isHit){var e=o.x>t.rect.x&&o.x<t.rect.x+t.rect.width,n=o.y>t.rect.y&&o.y<t.rect.y+t.rect.height;e&&n&&(t.isHit=!0)}});else{var n=this.tempDrawPoints[e-2],i=this.tempDrawPoints[e-1];t.moveTo(n.x,n.y),t.lineTo(i.x,i.y),t.lineWidth=this.eraserRadius,t.lineCap=cc.Graphics.LineCap.ROUND,t.lineJoin=cc.Graphics.LineJoin.ROUND,t.strokeColor=cc.color(255,255,255,255),t.stroke(),this.polygonPointsList.forEach(function(o){o.isHit=o.isHit||cc.Intersection.lineRect(n,i,o.rect)})}},resetProgress:function(){this.clearInstantly(),this.polygonPointsList=[],this.tempDrawPoints=[],this.progress=0,this.initPolygonList()},isInBound:function(){return!0},clearInstantly:function(){this.graphics.clear()},fillInstantly:function(){this.graphics.moveTo(0,0),this.graphics.rect(0,0,this.node.width,this.node.height),this.graphics.fill()}}),cc._RF.pop()},{}],TouchAreaController:[function(o,t,e){"use strict";cc._RF.push(t,"85711X2lIBGPIPjaJXFSYaE","TouchAreaController");var n,i=this&&this.__extends||(n=function(o,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])})(o,t)},function(o,t){function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),a=this&&this.__decorate||function(o,t,e,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(o,t,e,n);else for(var r=o.length-1;r>=0;r--)(i=o[r])&&(s=(a<3?i(s):a>3?i(t,e,s):i(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TouchAreaController=void 0;var s=o("../Data/constants"),r=o("../Plugin/AudioManager"),c=o("./GameController"),l=o("./GamePlay"),u=o("./IronSource"),d=o("./NodeContanier"),p=cc._decorator,h=p.ccclass,y=p.property,C=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.IronSource=null,t.NodeContainer=null,t.AudioManager=null,t.GameController=null,t.GamePlay=null,t.Btn_1=null,t.Btn_2=null,t.isTouch=!1,t}return i(t,o),t.prototype.onLoad=function(){},t.prototype.start=function(){this.registerEvent()},t.prototype.debug=function(o){1===o||2===o&&(this.registerFlow2Event(),s.Constants.isCanTouch=!0,s.Constants.isDoneStep1=!0)},t.prototype.registerEvent=function(){this.NodeContainer.HideMask.on(cc.Node.EventType.TOUCH_START,this.hideMaskTouchStart,this),this.NodeContainer.ToolArea.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.NodeContainer.ToolArea.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.NodeContainer.ToolArea.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.NodeContainer.ToolArea.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.NodeContainer.CTA_Btn.on(cc.Node.EventType.TOUCH_START,this.GameController.installHandle,this)},t.prototype.registerFlow2Event=function(){this.NodeContainer.Flow2_Tool.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.NodeContainer.Flow2_Tool.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.NodeContainer.Flow2_Tool.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.NodeContainer.Flow2_Tool.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},t.prototype.hideMaskTouchStart=function(){s.Constants.isToStore&&this.GameController.installHandle()},t.prototype.enableTouch=function(){s.Constants.isCanTouch=!1},t.prototype.touchStart=function(o){if(s.Constants.isToStore&&this.GameController.installHandle(),this.NodeContainer.Hand.active=!1,this.NodeContainer.Hint_Circle.active=!1,this.NodeContainer.Hint_Circle_2.active=!1,s.Constants.isCanTouch){var t=o.touch.getLocation(),e=this.node.convertToNodeSpaceAR(t);this.moveTools(e,t)}},t.prototype.touchMove=function(o){if(s.Constants.isCanTouch&&!s.Constants.ironSource.isEndGame){var t=o.getLocation(),e=this.node.convertToNodeSpaceAR(t);this.moveTools(e,t)}},t.prototype.touchEnd=function(){this.isTouch=!1,this.AudioManager.stopSound(s.Constants.SoundTrack.FaceWashSound)},t.prototype.moveTools=function(o){s.Constants.isDoneStep1?(this.NodeContainer.Flow2_Tool.setPosition(o.x,o.y),this.NodeContainer.Flow2_ToolHead.setPosition(o.x,o.y+100),this.GamePlay.checkCollideEarsAcne()):(this.NodeContainer.ToolArea.setPosition(o.x,o.y),this.NodeContainer.Flow1_spineTool.setPosition(o.x+30,o.y+100),this.NodeContainer.Flow1_ToolHead.setPosition(o.x+20,o.y+70),this.GamePlay.checkCollideAcne())},a([y(u.default)],t.prototype,"IronSource",void 0),a([y(d.default)],t.prototype,"NodeContainer",void 0),a([y(r.default)],t.prototype,"AudioManager",void 0),a([y(c.GameController)],t.prototype,"GameController",void 0),a([y(l.default)],t.prototype,"GamePlay",void 0),a([y(cc.Node)],t.prototype,"Btn_1",void 0),a([y(cc.Node)],t.prototype,"Btn_2",void 0),a([h],t)}(cc.Component);e.TouchAreaController=C,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./GamePlay":"GamePlay","./IronSource":"IronSource","./NodeContanier":"NodeContanier"}],Ultils:[function(o,t,e){"use strict";cc._RF.push(t,"03f2ceupvBEfa9putmH215T","Ultils"),Object.defineProperty(e,"__esModule",{value:!0}),e.Ultils=void 0;var n=cc._decorator,i=(n.ccclass,n.property,{}),a=function(){function o(){}return o.TouchArea=i,o}();e.Ultils=a,cc._RF.pop()},{}],constants:[function(o,t,e){"use strict";cc._RF.push(t,"eaccb/69FZDu6rC4YmR+uAW","constants"),Object.defineProperty(e,"__esModule",{value:!0}),e.Constants=void 0;var n,i=cc._decorator,a=(i.ccclass,i.property,{SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1}),s={calculatedY:0,calculatedX:0,currentDevice:""};(function(o){o.bgSound="bgSound",o.spiderSound="spiderSound",o.walkSound="walkSound",o.scareSound="scareSound",o.FaceWashSound="FaceWashSound",o.IntroDelightSound="IntroDelightSound",o.hmmSound="hmmSound",o.whooseSound="whooseSound",o.moveItemSound="moveItemSound",o.DoneStepSound="DoneStepSound",o.crySound="crySound",o.gapRuoiSound="gapRuoiSound",o.screamHoooSound="screamHoooSound",o.nhoMun2Sound="nhoMun2Sound",o.nhoMun1Sound="nhoMun1Sound",o.bopMunSound="bopMunSound"})(n||(n={}));var r=function(){function o(){}return o.isRotate=!1,o.isTouch=!1,o.isCanTouch=!1,o.isToStore=!1,o.isDoneStep1=!1,o.collideEarAcneNumber=0,o.Event=Event,o.SoundTrack=n,o.ironSource=a,o.Responsive=s,o}();e.Constants=r,cc._RF.pop()},{}]},{},["GameController","GamePlay","IronSource","MaskGamePlay","NodeContanier","Scratchable","TouchAreaController","Anims","Ultils","constants","AudioManager","Responsive"]);