window.__require=function e(t,o,n){function i(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){return i(t[a][1][e]||e)},d,d.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"4c7cf9rDSJL36cJtz1lUze/","AudioManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Data/constants"),s=cc._decorator,c=s.ccclass,u=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSound=null,t.xitNuocSound=null,t.nhoMun1Sound=null,t.nhoMun2Sound=null,t.nhoMun3Sound=null,t.completeSound=null,t.conClearSound=null,t.moveItemSound=null,t.woaAnimeSound=null,t.girlScreamSound=null,t.dirtySound=null,t.wormBgSound=null,t.cleanSound=null,t}return i(t,e),t.prototype.playSound=function(e){if(a.Constants.ironSource.SoundState&&a.Constants.ironSource.isPlayBgSound)switch(e){case"bgSound":this.bgSound.play();break;case"wormBgSound":this.wormBgSound.play();break;case"cleanSound":this.cleanSound.play();break;case"xitNuocSound":this.xitNuocSound.play();break;case"nhoMun1Sound":this.nhoMun1Sound.play();break;case"nhoMun2Sound":this.nhoMun2Sound.play();break;case"nhoMun3Sound":this.nhoMun3Sound.play();break;case"completeSound":this.completeSound.play();break;case"conClearSound":this.conClearSound.play();break;case"moveItemSound":this.moveItemSound.play();break;case"woaAnimeSound":this.woaAnimeSound.play();break;case"girlScreamSound":this.girlScreamSound.play();break;case"dirtySound":this.dirtySound.play()}},t.prototype.stopSound=function(e){switch(e){case"bgSound":this.bgSound.stop();break;case"wormBgSound":this.wormBgSound.stop();break;case"cleanSound":this.cleanSound.stop();break;case"xitNuocSound":this.xitNuocSound.stop();break;case"nhoMun1Sound":this.nhoMun1Sound.stop();break;case"nhoMun2Sound":this.nhoMun2Sound.stop();break;case"nhoMun3Sound":this.nhoMun3Sound.stop();break;case"completeSound":this.completeSound.stop();break;case"conClearSound":this.conClearSound.stop();break;case"moveItemSound":this.moveItemSound.stop();break;case"girlScreamSound":this.girlScreamSound.stop();break;case"dirtySound":this.dirtySound.stop();break;case"woaAnimeSound":this.woaAnimeSound.stop()}},t.prototype.stopAllSound=function(){this.bgSound.stop(),this.wormBgSound.stop(),this.xitNuocSound.stop(),this.cleanSound.stop(),this.nhoMun1Sound.stop(),this.nhoMun2Sound.stop(),this.nhoMun3Sound.stop(),this.completeSound.stop(),this.conClearSound.stop(),this.moveItemSound.stop(),this.girlScreamSound.stop(),this.dirtySound.stop(),this.woaAnimeSound.stop()},r([u(cc.AudioSource)],t.prototype,"bgSound",void 0),r([u(cc.AudioSource)],t.prototype,"xitNuocSound",void 0),r([u(cc.AudioSource)],t.prototype,"nhoMun1Sound",void 0),r([u(cc.AudioSource)],t.prototype,"nhoMun2Sound",void 0),r([u(cc.AudioSource)],t.prototype,"nhoMun3Sound",void 0),r([u(cc.AudioSource)],t.prototype,"completeSound",void 0),r([u(cc.AudioSource)],t.prototype,"conClearSound",void 0),r([u(cc.AudioSource)],t.prototype,"moveItemSound",void 0),r([u(cc.AudioSource)],t.prototype,"woaAnimeSound",void 0),r([u(cc.AudioSource)],t.prototype,"girlScreamSound",void 0),r([u(cc.AudioSource)],t.prototype,"dirtySound",void 0),r([u(cc.AudioSource)],t.prototype,"wormBgSound",void 0),r([u(cc.AudioSource)],t.prototype,"cleanSound",void 0),r([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Data/constants":"constants"}],GameController:[function(e,t,o){"use strict";cc._RF.push(t,"459a6fkmHFH5Z+5+z1O55SB","GameController");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameController=void 0;var a=e("../Data/constants"),s=e("../Plugin/AudioManager"),c=cc._decorator,u=c.ccclass,d=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AudioManager=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){window.gameReady&&window.gameReady()},t.prototype.installHandle=function(){if(console.log("install"),a.Constants.ironSource.isEndGame=!0,this.AudioManager.stopAllSound(),window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.ANDROID?void mraid.open("https://play.google.com/store/apps/details?id=com.an.beauty.makeoverasmr"):cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.IPHONE||cc.sys.os==cc.sys.IPAD?void mraid.open("https://itunes.apple.com/us/app/id6449269733?mt=8"):void mraid.open("https://play.google.com/store/apps/details?id=com.an.beauty.makeoverasmr"):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},r([d(s.default)],t.prototype,"AudioManager",void 0),r([u],t)}(cc.Component);o.GameController=l,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(e,t,o){"use strict";cc._RF.push(t,"b1d34srP15JNoxtzOCtQ0oZ","GamePlay");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Data/constants"),s=e("../Plugin/AudioManager"),c=e("./GameController"),u=e("./NodeContanier"),d=cc._decorator,l=d.ccclass,p=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AudioManager=null,t.GameController=null,t.NodeContainer=null,t.checkCleanserFlag=!1,t.checkshowTweezersFlag=!1,t.isRemovingMaggot=!1,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.handleGamePlay(),this.NodeContainer.Tweezers.opacity=0,this.NodeContainer.Circle_1.active=!1,this.NodeContainer.Circle_2.active=!1},t.prototype.handleGamePlay=function(){var e=this;this.AudioManager.playSound(a.Constants.SoundTrack.dirtySound),this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.girlScreamSound)},.5),this.scheduleOnce(function(){e.getComponent(cc.Animation).play("GamePlay_SwtichStep")},2),this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.wormBgSound)},3),this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.moveItemSound)},4.3),this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.xitNuocSound),a.Constants.isCanTouch=!0},5.8),this.scheduleOnce(function(){a.Constants.isRotate?e.NodeContainer.Hand_1.getComponent(cc.Animation).play("Hand_HrzHintAnim"):e.NodeContainer.Hand_1.getComponent(cc.Animation).play("Hand_VtcHintAnim")},7)},t.prototype.activeCleanSound=function(){this.AudioManager.playSound(a.Constants.SoundTrack.cleanSound),this.AudioManager.cleanSound.loop=!0},t.prototype.handleDoneCleanser=function(){this.NodeContainer.Scratchable.getComponent("Scratchable").isWin&&(this.checkCleanserFlag=!0,this.NodeContainer.Scratchable.active=!1,this.NodeContainer.Cleanser_Point.active=!1,this.AudioManager.playSound(a.Constants.SoundTrack.completeSound),this.NodeContainer.Cleanser.getComponent(cc.Animation).play("Cleanser_HideAnim"),this.NodeContainer.Star_1.getComponent(cc.Animation).play("Star_BlinkAnim"),this.AudioManager.stopSound(a.Constants.SoundTrack.cleanSound),this.AudioManager.cleanSound.loop=!1)},t.prototype.showTweezers=function(){var e=this;this.checkshowTweezersFlag=!0,this.scheduleOnce(function(){a.Constants.isDoneCleanser=!0,e.NodeContainer.Circle_1.active=!0,e.NodeContainer.Circle_2.active=!0,e.NodeContainer.Tweezers.getComponent(cc.Animation).play("Tweezers_ShowAnim"),e.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.moveItemSound)},.2),e.scheduleOnce(function(){e.NodeContainer.Hand_2.active=!0,a.Constants.isRotate?e.NodeContainer.Hand_2.getComponent(cc.Animation).play("Hand_HrzHintAnim"):e.NodeContainer.Hand_2.getComponent(cc.Animation).play("Hand_VtcHintAnim")},1.5)},1.5)},t.prototype.handleCheckRemoveMaggots=function(){for(var e=this.NodeContainer.Tweezers_HeadPoint.getBoundingBox(),t=[this.NodeContainer.Tweezers_InteractPoint1,this.NodeContainer.Tweezers_InteractPoint2],o=0;o<t.length;o++){var n=t[o].getBoundingBox(),i=t[o].name;e.intersects(n)&&this.handleRemoveMaggot(i)}},t.prototype.handleRemoveMaggot=function(e){var t=this;switch(this.NodeContainer.Tweezers.opacity=0,this.NodeContainer.Circle_1.active=!1,this.NodeContainer.Circle_2.active=!1,this.isRemovingMaggot=!0,e){case"Tws_InteractPoint1":a.Constants.maggotRemoved+=1,this.NodeContainer.Spine_Maggot1.setAnimation(0,"idle01",!1),this.NodeContainer.Spine_RMMG1.node.active=!0,this.NodeContainer.Circle_1.opacity=0,this.scheduleOnce(function(){t.NodeContainer.Spine_Maggot1.node.active=!1},.75),this.activeRemoveMaggotSound(),this.setCompleteSpine(this.NodeContainer.Spine_RMMG1);break;case"Tws_InteractPoint2":a.Constants.maggotRemoved+=1,this.NodeContainer.Spine_Maggot2.setAnimation(0,"idle01",!1),this.NodeContainer.Spine_RMMG2.node.active=!0,this.NodeContainer.Circle_2.opacity=0,this.scheduleOnce(function(){t.NodeContainer.Spine_Maggot2.node.active=!1},.75),this.activeRemoveMaggotSound(),this.setCompleteSpine(this.NodeContainer.Spine_RMMG2)}},t.prototype.activeRemoveMaggotSound=function(){var e=this;this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.nhoMun1Sound)},.75),this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.nhoMun2Sound)},1.5),this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.nhoMun2Sound)},2.2),this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.nhoMun2Sound)},2.8),this.scheduleOnce(function(){e.AudioManager.playSound(a.Constants.SoundTrack.nhoMun3Sound)},4)},t.prototype.setCompleteSpine=function(e){var t=this;e.setCompleteListener(function(e){"Action"===e.animation.name&&(t.AudioManager.playSound(a.Constants.SoundTrack.completeSound),t.showTweezers())})},t.prototype.update=function(){!this.checkCleanserFlag&&this.handleDoneCleanser(),this.checkCleanserFlag&&!this.checkshowTweezersFlag&&this.showTweezers(),this.checkshowTweezersFlag&&!this.isRemovingMaggot&&this.handleCheckRemoveMaggots()},r([p(s.default)],t.prototype,"AudioManager",void 0),r([p(c.GameController)],t.prototype,"GameController",void 0),r([p(u.default)],t.prototype,"NodeContainer",void 0),r([l],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./NodeContanier":"NodeContanier"}],IronSource:[function(e,t,o){"use strict";cc._RF.push(t,"49c0ang8TBDWqCvjXG1XKDi","IronSource");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Data/constants"),s=e("../Plugin/AudioManager"),c=cc._decorator,u=c.ccclass,d=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AudioManager=null,t}return i(t,e),t.prototype.handleIronSourcePlaySound=function(){a.Constants.ironSource.isPlayBgSound||(a.Constants.ironSource.isPlayBgSound=!0,a.Constants.ironSource.SoundState&&this.AudioManager.playSound(a.Constants.SoundTrack.bgSound))},t.prototype.handleMuteSoundIronSource=function(){a.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),a.Constants.ironSource.State&&(1!==a.Constants.ironSource.State||a.Constants.ironSource.SoundState||a.Constants.ironSource.isEndGame||(a.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(a.Constants.SoundTrack.bgSound)),2===a.Constants.ironSource.State&&a.Constants.ironSource.SoundState&&(a.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},t.prototype.update=function(){this.handleMuteSoundIronSource()},r([d(s.default)],t.prototype,"AudioManager",void 0),r([u],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],MaskGamePlay:[function(e,t){"use strict";cc._RF.push(t,"1e413qp47tDJaKLlYhUb7NL","MaskGamePlay");var o=e("Scratchable");cc.Class({extends:cc.Component,properties:{pointClear:cc.Node,touchArea:cc.Node},onLoad:function(){this.scratchables=this.getComponentsInChildren(o)},update:function(){if(this.isTouch=this.touchArea.getComponent("TouchAreaController").isTouch,this.pointClear.active&&this.isTouch){console.log("Check");var e=cc.v2(this.pointClear.x+cc.winSize.width/2,this.pointClear.y+cc.winSize.height/2);this.scratchables.forEach(function(t){t.isScratchable&&t.isInBound(e)&&t.scratchHole(e)})}}}),cc._RF.pop()},{Scratchable:"Scratchable"}],NodeContanier:[function(e,t,o){"use strict";cc._RF.push(t,"69c3bsb3chPmrdB+4j36B25","NodeContanier");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GamePlay=null,t.UI=null,t.Scratchable=null,t.HideMask=null,t.Bg_1=null,t.Bg_1_1=null,t.Bg_1_2=null,t.Bg_2=null,t.Bg_2_1=null,t.Bg_2_2=null,t.Step1_Ponny=null,t.Step2_Ponny=null,t.Hand_1=null,t.Hand_2=null,t.Star_1=null,t.Circle_1=null,t.Circle_2=null,t.Cleanser_Point=null,t.Tweezers_Point=null,t.Tweezers_HeadPoint=null,t.Tweezers_InteractPoint1=null,t.Tweezers_InteractPoint2=null,t.Cleanser=null,t.Tweezers=null,t.Spine_Cleanser=null,t.Spine_Tweezers=null,t.Spine_Maggot1=null,t.Spine_Maggot2=null,t.Spine_RMMG1=null,t.Spine_RMMG2=null,t}return i(t,e),r([c(cc.Node)],t.prototype,"GamePlay",void 0),r([c(cc.Node)],t.prototype,"UI",void 0),r([c(cc.Node)],t.prototype,"Scratchable",void 0),r([c(cc.Node)],t.prototype,"HideMask",void 0),r([c(cc.Node)],t.prototype,"Bg_1",void 0),r([c(cc.Node)],t.prototype,"Bg_1_1",void 0),r([c(cc.Node)],t.prototype,"Bg_1_2",void 0),r([c(cc.Node)],t.prototype,"Bg_2",void 0),r([c(cc.Node)],t.prototype,"Bg_2_1",void 0),r([c(cc.Node)],t.prototype,"Bg_2_2",void 0),r([c(cc.Node)],t.prototype,"Step1_Ponny",void 0),r([c(cc.Node)],t.prototype,"Step2_Ponny",void 0),r([c(cc.Node)],t.prototype,"Hand_1",void 0),r([c(cc.Node)],t.prototype,"Hand_2",void 0),r([c(cc.Node)],t.prototype,"Star_1",void 0),r([c(cc.Node)],t.prototype,"Circle_1",void 0),r([c(cc.Node)],t.prototype,"Circle_2",void 0),r([c(cc.Node)],t.prototype,"Cleanser_Point",void 0),r([c(cc.Node)],t.prototype,"Tweezers_Point",void 0),r([c(cc.Node)],t.prototype,"Tweezers_HeadPoint",void 0),r([c(cc.Node)],t.prototype,"Tweezers_InteractPoint1",void 0),r([c(cc.Node)],t.prototype,"Tweezers_InteractPoint2",void 0),r([c(cc.Node)],t.prototype,"Cleanser",void 0),r([c(cc.Node)],t.prototype,"Tweezers",void 0),r([c(sp.Skeleton)],t.prototype,"Spine_Cleanser",void 0),r([c(sp.Skeleton)],t.prototype,"Spine_Tweezers",void 0),r([c(sp.Skeleton)],t.prototype,"Spine_Maggot1",void 0),r([c(sp.Skeleton)],t.prototype,"Spine_Maggot2",void 0),r([c(sp.Skeleton)],t.prototype,"Spine_RMMG1",void 0),r([c(sp.Skeleton)],t.prototype,"Spine_RMMG2",void 0),r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],Responsive:[function(e,t,o){"use strict";cc._RF.push(t,"d3abaWwEQhAi5Yf4wF9VZxN","Responsive");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Controller/NodeContanier"),s=e("../Data/constants"),c=cc._decorator,u=c.ccclass,d=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NodeContainer=null,t.device="",t.isRotate=!1,t.HORIZONTAL_IPX="horizontal_IPX",t.HORIZONTAL_TABLET="horizontal_Tablet",t.VERTICAL_IPX="vertical_IPX",t.VERTICAL_MOBILE="vertical_Mobile",t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(s.Constants.isRotate=!0,this.setHorizontal()):(s.Constants.isRotate=!1,this.setVertical())},t.prototype.setHorizontal=function(){cc.view.getFrameSize().height/cc.view.getFrameSize().width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},t.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,this.NodeContainer.Bg_1.scale=.8,this.NodeContainer.Bg_2.scale=.45,this.NodeContainer.Bg_2.y=45,this.NodeContainer.Bg_2.x=-45,this.NodeContainer.Bg_2_1.scale=.45,this.NodeContainer.Bg_2_1.y=45,this.NodeContainer.Bg_2_1.x=600,this.NodeContainer.Bg_2_2.scale=.45,this.NodeContainer.Bg_2_2.y=45,this.NodeContainer.Bg_2_2.x=-670,this.NodeContainer.Cleanser.x=155,this.NodeContainer.Cleanser.y=250,this.NodeContainer.Tweezers.x=155,this.NodeContainer.Tweezers.y=250,this.NodeContainer.Tweezers_InteractPoint1.x=-194,this.NodeContainer.Tweezers_InteractPoint1.y=-206.5,this.NodeContainer.Tweezers_InteractPoint2.x=-163,this.NodeContainer.Tweezers_InteractPoint2.y=-151.5,s.Constants.Responsive.calculatedX=155,s.Constants.Responsive.calculatedY=250,this.NodeContainer.Step1_Ponny.scale=.88,this.NodeContainer.Step1_Ponny.y=-210,this.NodeContainer.Step2_Ponny.y=-30)},t.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,this.NodeContainer.Bg_1.scale=.8,this.NodeContainer.Bg_2.scale=.4,this.NodeContainer.Bg_2.y=45,this.NodeContainer.Bg_2.x=-45,this.NodeContainer.Cleanser.x=155,this.NodeContainer.Cleanser.y=310,this.NodeContainer.Tweezers.x=155,this.NodeContainer.Tweezers.y=310,this.NodeContainer.Tweezers_InteractPoint1.x=-194,this.NodeContainer.Tweezers_InteractPoint1.y=-266.5,this.NodeContainer.Tweezers_InteractPoint2.x=-163,this.NodeContainer.Tweezers_InteractPoint2.y=-211.5,s.Constants.Responsive.calculatedX=155,s.Constants.Responsive.calculatedY=310,this.NodeContainer.Step1_Ponny.scale=.85,this.NodeContainer.Step1_Ponny.y=-210,this.NodeContainer.Step2_Ponny.y=-30)},t.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},t.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,this.NodeContainer.Bg_1.scale=.55,this.NodeContainer.Bg_2.scale=.48,this.NodeContainer.Bg_2.y=45,this.NodeContainer.Bg_2.x=-45,this.NodeContainer.Cleanser.x=0,this.NodeContainer.Cleanser.y=0,this.NodeContainer.Tweezers.x=0,this.NodeContainer.Tweezers.y=0)},t.prototype.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,cc.view.getFrameSize().height/cc.view.getFrameSize().width>1.5?(this.NodeContainer.Bg_1.scale=.45,this.NodeContainer.Bg_2.scale=.4,this.NodeContainer.Bg_2.y=45,this.NodeContainer.Bg_2.x=-45,this.NodeContainer.Cleanser.x=0,this.NodeContainer.Cleanser.y=0,this.NodeContainer.Tweezers.x=0,this.NodeContainer.Tweezers.y=0,this.NodeContainer.Tweezers_InteractPoint1.x=-39,this.NodeContainer.Tweezers_InteractPoint1.y=-73.5,this.NodeContainer.Tweezers_InteractPoint2.x=-8,this.NodeContainer.Tweezers_InteractPoint2.y=-128.5,s.Constants.Responsive.calculatedX=0,s.Constants.Responsive.calculatedY=0):(this.NodeContainer.Bg_1.scale=.5,this.NodeContainer.Bg_2.scale=.4,this.NodeContainer.Bg_2.y=45,this.NodeContainer.Bg_2.x=-45,this.NodeContainer.Cleanser.x=25,this.NodeContainer.Cleanser.y=25,this.NodeContainer.Tweezers.x=15,this.NodeContainer.Tweezers.y=25,this.NodeContainer.Tweezers_InteractPoint1.x=-54,this.NodeContainer.Tweezers_InteractPoint1.y=48.5,this.NodeContainer.Tweezers_InteractPoint2.x=-23,this.NodeContainer.Tweezers_InteractPoint2.y=103.5,s.Constants.Responsive.calculatedX=20,s.Constants.Responsive.calculatedY=25,this.NodeContainer.Step1_Ponny.scale=.85,this.NodeContainer.Step1_Ponny.y=-210))},t.prototype.update=function(){this.handleRotate()},r([d(a.default)],t.prototype,"NodeContainer",void 0),r([u],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../Controller/NodeContanier":"NodeContanier","../Data/constants":"constants"}],Scratchable:[function(e,t){"use strict";cc._RF.push(t,"0e71dUgp89ACJhqvD+hiH+q","Scratchable"),cc.Class({extends:cc.Component,properties:{isDone:0,isWin:cc.Boolean,eraserRadius:{type:cc.Int,default:60}},start:function(){this.percentToWin=.5;var e=this.getComponentInChildren(cc.Mask);this.graphics=e._graphics,this.graphics.fillColor=cc.color(255,255,255,0),this.reset()},calculateProgress:function(){if(this.isScratchable){var e=0;this.polygonPointsList.forEach(function(t){t.isHit&&(e+=1)}),this.progress=e/this.polygonPointsList.length,this.progress>=this.percentToWin&&(this.isWin=!0,this.isDone=1),this.isWin&&(this.fillInstantly(),this.completed=!0,this.isScratchable=!1,this.node.dispatchEvent(new cc.Event.EventCustom("completed",this)))}},reset:function(){this.callbackFlag=!0,this.graphics.clear(),this.tempDrawPoints=[],this.polygonPointsList=[],this.progress=0,this.completed=!1,this.isScratchable=!0,this.initPolygonList()},initPolygonList:function(){for(var e=0;e<this.node.width;e+=this.eraserRadius)for(var t=0;t<this.node.height;t+=this.eraserRadius)this.polygonPointsList.push({rect:cc.rect(e-this.node.width/2,t-this.node.height/2,this.eraserRadius,this.eraserRadius),isHit:!1})},scratchHole:function(e){e=this.node.convertToNodeSpaceAR(e);var t=this.graphics,o=this.tempDrawPoints.length;if(this.tempDrawPoints.push(e),this.calculateProgress(),o<=1)t.circle(e.x,e.y,this.eraserRadius/2),t.fill(),this.polygonPointsList.forEach(function(t){if(!t.isHit){var o=e.x>t.rect.x&&e.x<t.rect.x+t.rect.width,n=e.y>t.rect.y&&e.y<t.rect.y+t.rect.height;o&&n&&(t.isHit=!0)}});else{var n=this.tempDrawPoints[o-2],i=this.tempDrawPoints[o-1];t.moveTo(n.x,n.y),t.lineTo(i.x,i.y),t.lineWidth=this.eraserRadius,t.lineCap=cc.Graphics.LineCap.ROUND,t.lineJoin=cc.Graphics.LineJoin.ROUND,t.strokeColor=cc.color(255,255,255,255),t.stroke(),this.polygonPointsList.forEach(function(e){e.isHit=e.isHit||cc.Intersection.lineRect(n,i,e.rect)})}},resetProgress:function(){this.clearInstantly(),this.polygonPointsList=[],this.tempDrawPoints=[],this.progress=0,this.initPolygonList()},isInBound:function(){return!0},clearInstantly:function(){this.graphics.clear()},fillInstantly:function(){this.graphics.moveTo(0,0),this.graphics.rect(0,0,this.node.width,this.node.height),this.graphics.fill()}}),cc._RF.pop()},{}],TouchAreaController:[function(e,t,o){"use strict";cc._RF.push(t,"85711X2lIBGPIPjaJXFSYaE","TouchAreaController");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TouchAreaController=void 0;var a=e("../Data/constants"),s=e("../Plugin/AudioManager"),c=e("./GameController"),u=e("./GamePlay"),d=e("./IronSource"),l=e("./NodeContanier"),p=cc._decorator,h=p.ccclass,S=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.IronSource=null,t.NodeContainer=null,t.AudioManager=null,t.GameController=null,t.GamePlay=null,t.isTouch=!1,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.registerEvent()},t.prototype.registerEvent=function(){this.NodeContainer.Cleanser_Point.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.NodeContainer.Cleanser_Point.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.NodeContainer.Cleanser_Point.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.NodeContainer.Cleanser_Point.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.NodeContainer.Tweezers_Point.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.NodeContainer.Tweezers_Point.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.NodeContainer.Tweezers_Point.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.NodeContainer.Tweezers_Point.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.NodeContainer.HideMask.on(cc.Node.EventType.TOUCH_START,this.hideMaskTouchStart,this)},t.prototype.hideMaskTouchStart=function(){this.IronSource.handleIronSourcePlaySound()},t.prototype.touchStart=function(){a.Constants.isCanTouch&&(a.Constants.isDoneCleanser||(this.isTouch=!0),this.IronSource.handleIronSourcePlaySound(),a.Constants.isDoneCleanser||this.GamePlay.activeCleanSound(),a.Constants.maggotRemoved>=1&&this.GameController.installHandle(),this.NodeContainer.Hand_1.active=!1,this.NodeContainer.Hand_2.active=!1)},t.prototype.touchMove=function(e){if(a.Constants.isCanTouch&&!a.Constants.ironSource.isEndGame){var t=e.getLocation(),o=this.node.convertToNodeSpaceAR(t);!a.Constants.isDoneCleanser&&this.moveCleanser(o,t),a.Constants.isDoneCleanser&&this.moveTweezers(o,t)}},t.prototype.touchEnd=function(e){this.isTouch=!1;var t=e.getLocation();this.NodeContainer.Cleanser_Point.x=t.x-cc.winSize.width/2-a.Constants.Responsive.calculatedX,this.NodeContainer.Cleanser_Point.y=t.y-cc.winSize.height/2-a.Constants.Responsive.calculatedY,this.NodeContainer.Tweezers_Point.x=t.x-cc.winSize.width/2-a.Constants.Responsive.calculatedX,this.NodeContainer.Tweezers_Point.y=t.y-cc.winSize.height/2-a.Constants.Responsive.calculatedY,this.AudioManager.stopSound(a.Constants.SoundTrack.cleanSound),this.AudioManager.cleanSound.loop=!1},t.prototype.moveCleanser=function(e,t){this.NodeContainer.Cleanser_Point.setPosition(e),this.NodeContainer.Spine_Cleanser.node.x=t.x-cc.winSize.width/2-60-a.Constants.Responsive.calculatedX,this.NodeContainer.Spine_Cleanser.node.y=t.y-cc.winSize.height/2-80-a.Constants.Responsive.calculatedY},t.prototype.moveTweezers=function(e,t){this.NodeContainer.Tweezers_Point.setPosition(e),this.NodeContainer.Spine_Tweezers.node.x=t.x-cc.winSize.width/2-60-a.Constants.Responsive.calculatedX,this.NodeContainer.Spine_Tweezers.node.y=t.y-cc.winSize.height/2-100-a.Constants.Responsive.calculatedY,this.NodeContainer.Tweezers_HeadPoint.x=t.x-cc.winSize.width/2-45-a.Constants.Responsive.calculatedX,this.NodeContainer.Tweezers_HeadPoint.y=t.y-cc.winSize.height/2-85-a.Constants.Responsive.calculatedY},r([S(d.default)],t.prototype,"IronSource",void 0),r([S(l.default)],t.prototype,"NodeContainer",void 0),r([S(s.default)],t.prototype,"AudioManager",void 0),r([S(c.GameController)],t.prototype,"GameController",void 0),r([S(u.default)],t.prototype,"GamePlay",void 0),r([h],t)}(cc.Component);o.TouchAreaController=y,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./GamePlay":"GamePlay","./IronSource":"IronSource","./NodeContanier":"NodeContanier"}],Ultils:[function(e,t,o){"use strict";cc._RF.push(t,"03f2ceupvBEfa9putmH215T","Ultils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Ultils=void 0;var n=cc._decorator,i=(n.ccclass,n.property,{}),r=function(){function e(){}return e.TouchArea=i,e}();o.Ultils=r,cc._RF.pop()},{}],constants:[function(e,t,o){"use strict";cc._RF.push(t,"eaccb/69FZDu6rC4YmR+uAW","constants"),Object.defineProperty(o,"__esModule",{value:!0}),o.Constants=void 0;var n,i=cc._decorator;i.ccclass,i.property,function(e){e.touchStart="touchstart",e.touchMove="touchmove",e.touchEnd="touchend",e.touchCancel="touchcancel"}(n||(n={}));var r,a={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},s={calculatedY:0,calculatedX:0,currentDevice:""};(function(e){e.bgSound="bgSound",e.xitNuocSound="xitNuocSound",e.nhoMun1Sound="nhoMun1Sound",e.nhoMun2Sound="nhoMun2Sound",e.nhoMun3Sound="nhoMun3Sound",e.completeSound="completeSound",e.conClearSound="conClearSound",e.moveItemSound="moveItemSound",e.showerSound="showerSound",e.woaAnimeSound="woaAnimeSound",e.girlScreamSound="girlScreamSound",e.dirtySound="dirtySound",e.wormBgSound="wormBgSound",e.cleanSound="cleanSound"})(r||(r={}));var c=function(){function e(){}return e.currentPosition=new cc.Vec2(0,0),e.isRotate=!1,e.isDoneCleanser=!1,e.isTouch=!1,e.isCanTouch=!1,e.maggotRemoved=0,e.Event=n,e.SoundTrack=r,e.ironSource=a,e.Responsive=s,e}();o.Constants=c,cc._RF.pop()},{}]},{},["GameController","GamePlay","IronSource","MaskGamePlay","NodeContanier","Scratchable","TouchAreaController","Ultils","constants","AudioManager","Responsive"]);