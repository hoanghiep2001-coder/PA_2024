window.__require=function t(o,e,n){function i(a,c){if(!e[a]){if(!o[a]){var s=a.split("/");if(s=s[s.length-1],!o[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=e[a]={exports:{}};o[a][0].call(l.exports,function(t){return i(o[a][1][t]||t)},l,l.exports,t,o,e,n)}return e[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({Anims:[function(t,o,e){"use strict";var n,i,r,a,c;cc._RF.push(o,"7e978dmCj1F/oDQ09VgYDVK","Anims"),Object.defineProperty(e,"__esModule",{value:!0}),e.SpineAnims=void 0,function(t){t.Action="action01",t.Idle="idle01"}(n||(n={})),function(t){t.Walk="action01",t.Scare="action02",t.Idle="idle0"}(i||(i={})),function(t){t.Dry="action04",t.DirtySmell="action03",t.Idle="idle02"}(r||(r={})),function(t){t.Clean="action04_bubble_clean",t.Show="action03_only_bubble"}(a||(a={})),function(t){t.Idle="Idle1",t.Action="action01"}(c||(c={}));var s=function(){function t(){}return t.LipsAnim=r,t.Intro_DollAnim=i,t.Intro_SpiderAnim=n,t.bubbleAnim=a,t.waterToothAnim=c,t}();e.SpineAnims=s,cc._RF.pop()},{}],AudioManager:[function(t,o,e){"use strict";cc._RF.push(o,"4c7cf9rDSJL36cJtz1lUze/","AudioManager");var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),r=this&&this.__decorate||function(t,o,e,n){var i,r=arguments.length,a=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var a=t("../Data/constants"),c=cc._decorator,s=c.ccclass,u=c.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.bgSound=null,o.spiderSound=null,o.hmmSound=null,o.walkSound=null,o.scareSound=null,o.IntroDelightSound=null,o.whooseSound=null,o.moveItemSound=null,o.DoneStepSound=null,o.crySound=null,o.gapRuoiSound=null,o.screamHoooSound=null,o.nhoMun1Sound=null,o.nhoMun2Sound=null,o}return i(o,t),o.prototype.playSound=function(t){if(a.Constants.ironSource.SoundState&&!a.Constants.ironSource.isEndGame)switch(t){case"bgSound":this.bgSound.play();break;case"screamHoooSound":this.screamHoooSound.play();break;case"nhoMun1Sound":this.nhoMun1Sound.play();break;case"nhoMun2Sound":this.nhoMun2Sound.play();break;case"gapRuoiSound":this.gapRuoiSound.play();break;case"crySound":this.crySound.play();break;case"DoneStepSound":this.DoneStepSound.play();break;case"moveItemSound":this.moveItemSound.play();break;case"whooseSound":this.whooseSound.play();break;case"hmmSound":this.hmmSound.play();break;case"walkSound":this.walkSound.play();break;case"spiderSound":this.spiderSound.play();break;case"scareSound":this.scareSound.play();break;case"IntroDelightSound":this.IntroDelightSound.play()}},o.prototype.stopSound=function(t){switch(t){case"bgSound":this.bgSound.stop();break;case"nhoMun1Sound":this.nhoMun1Sound.stop();break;case"nhoMun2Sound":this.nhoMun2Sound.stop();break;case"screamHoooSound":this.screamHoooSound.stop();break;case"gapRuoiSound":this.gapRuoiSound.stop();break;case"crySound":this.crySound.stop();break;case"DoneStepSound":this.DoneStepSound.stop();break;case"moveItemSound":this.moveItemSound.stop();break;case"whooseSound":this.whooseSound.stop();break;case"spiderSound":this.spiderSound.stop();break;case"walkSound":this.walkSound.stop();break;case"hmmSound":this.hmmSound.stop();break;case"scareSound":this.scareSound.stop();break;case"IntroDelightSound":this.IntroDelightSound.stop()}},o.prototype.stopAllSound=function(){this.nhoMun2Sound.stop(),this.nhoMun1Sound.stop(),this.screamHoooSound.stop(),this.DoneStepSound.stop(),this.whooseSound.stop(),this.moveItemSound.stop(),this.bgSound.stop(),this.walkSound.stop(),this.spiderSound.stop(),this.scareSound.stop(),this.IntroDelightSound.stop(),this.hmmSound.stop(),this.crySound.stop(),this.gapRuoiSound.stop()},r([u(cc.AudioSource)],o.prototype,"bgSound",void 0),r([u(cc.AudioSource)],o.prototype,"spiderSound",void 0),r([u(cc.AudioSource)],o.prototype,"hmmSound",void 0),r([u(cc.AudioSource)],o.prototype,"walkSound",void 0),r([u(cc.AudioSource)],o.prototype,"scareSound",void 0),r([u(cc.AudioSource)],o.prototype,"IntroDelightSound",void 0),r([u(cc.AudioSource)],o.prototype,"whooseSound",void 0),r([u(cc.AudioSource)],o.prototype,"moveItemSound",void 0),r([u(cc.AudioSource)],o.prototype,"DoneStepSound",void 0),r([u(cc.AudioSource)],o.prototype,"crySound",void 0),r([u(cc.AudioSource)],o.prototype,"gapRuoiSound",void 0),r([u(cc.AudioSource)],o.prototype,"screamHoooSound",void 0),r([u(cc.AudioSource)],o.prototype,"nhoMun1Sound",void 0),r([u(cc.AudioSource)],o.prototype,"nhoMun2Sound",void 0),r([s],o)}(cc.Component);e.default=l,cc._RF.pop()},{"../Data/constants":"constants"}],GameController:[function(t,o,e){"use strict";cc._RF.push(o,"459a6fkmHFH5Z+5+z1O55SB","GameController");var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),r=this&&this.__decorate||function(t,o,e,n){var i,r=arguments.length,a=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.GameController=void 0;var a=t("../Data/constants"),c=t("../Plugin/AudioManager"),s=cc._decorator,u=s.ccclass,l=s.property,d=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.AudioManager=null,o}return i(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){window.gameReady&&window.gameReady()},o.prototype.installHandle=function(){if(console.log("install"),a.Constants.ironSource.isEndGame=!0,this.AudioManager.stopAllSound(),window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.ANDROID?void mraid.open("https://play.google.com/store/apps/details?id=com.an.beauty.makeoverasmr"):cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.IPHONE||cc.sys.os==cc.sys.IPAD?void mraid.open("https://itunes.apple.com/us/app/id6449269733?mt=8"):void mraid.open("https://play.google.com/store/apps/details?id=com.an.beauty.makeoverasmr"):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},r([l(c.default)],o.prototype,"AudioManager",void 0),r([u],o)}(cc.Component);e.GameController=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(t,o,e){"use strict";cc._RF.push(o,"b1d34srP15JNoxtzOCtQ0oZ","GamePlay");var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),r=this&&this.__decorate||function(t,o,e,n){var i,r=arguments.length,a=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var a=t("../Data/Anims"),c=t("../Data/constants"),s=t("../Plugin/AudioManager"),u=t("./GameController"),l=t("./NodeContanier"),d=cc._decorator,p=d.ccclass,h=d.property,y=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.AudioManager=null,o.GameController=null,o.NodeContainer=null,o.star=null,o.star1=null,o.star2=null,o.sp_mouth=null,o.sp_dryer=null,o.Teeth_scum=null,o.Options=null,o.hand=null,o.trackEnTry=null,o.isActiveRemoveSound1=!1,o.isActiveRemoveSound2=!1,o.isActiveRemoveSound3=!1,o.isActiveRemoveSound4=!1,o.activeCTA=!1,o.CTA_steps=0,o.CTA_thumbnail=null,o.CTA_isBtn=!1,o.CTA_anyThumbnail=!0,o}return i(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){var t=this;this.NodeContainer.CTA.active=!1,this.hideTears(),this.scheduleOnce(function(){t.showTools(t.NodeContainer.Tool,!0)},2.5),this.scheduleOnce(function(){t.NodeContainer.Delight_EyeAlert.active=!0,t.NodeContainer.Hand.active=!0},3)},o.prototype.debug=function(){var t=this;this.NodeContainer.Tears.forEach(function(o){return t.hideAnim(o)}),this.showTools(this.NodeContainer.Tool,!0)},o.prototype.hideTears=function(){var t=this;this.AudioManager.playSound(c.Constants.SoundTrack.crySound),this.scheduleOnce(function(){t.NodeContainer.Tears.forEach(function(o){return t.hideAnim(o)})},1.5)},o.prototype.activeCTAAnim=function(){var t=this;this.NodeContainer.CTA.active=!0,this.CTA_thumbnail=this.NodeContainer.CTA_logo,cc.tween(this.NodeContainer.CTA_overlay).to(.5,{opacity:150}).call(function(){t.showThumbnailTween(t.CTA_thumbnail,t.CTA_anyThumbnail,t.CTA_isBtn)}).start()},o.prototype.showThumbnailTween=function(t,o,e){var n=this;switch(console.log(this.NodeContainer.CTA.active),this.CTA_steps){case 0:this.CTA_thumbnail=this.NodeContainer.CTA_logo;break;case 1:this.CTA_thumbnail=this.NodeContainer.CTA_icon;break;case 2:this.CTA_thumbnail=this.NodeContainer.CTA_Btn,this.CTA_anyThumbnail=!1,this.CTA_isBtn=!0}this.CTA_steps+=1,cc.tween(t).to(.5,{opacity:255}).call(function(){o&&n.showThumbnailTween(n.CTA_thumbnail,n.CTA_anyThumbnail,n.CTA_isBtn),e&&n.activeBtnTween(n.CTA_thumbnail)}).start()},o.prototype.activeBtnTween=function(t){cc.tween(t).repeatForever(cc.tween(t).to(.5,{scale:.45}).to(.5,{scale:.5},{easing:cc.easing.elasticOut})).start()},o.prototype.showIntro=function(){var t=this;this.NodeContainer.Btn_1.active=!1,this.NodeContainer.MainGame.active=!1,this.NodeContainer.intro.active=!0,this.AudioManager.playSound(c.Constants.SoundTrack.walkSound);var o=this.NodeContainer.intro.getChildByName("Delight"),e=o.getChildByName("Spine_Delight").getComponent(sp.Skeleton),n=this.NodeContainer.intro.getChildByName("Spider");cc.tween(o).to(4,{scale:1.15}).start(),this.scheduleOnce(function(){n.active=!0,t.AudioManager.stopSound(c.Constants.SoundTrack.walkSound)},1.5),this.scheduleOnce(function(){t.AudioManager.playSound(c.Constants.SoundTrack.spiderSound)},2.5),this.scheduleOnce(function(){n.active=!1,e.setAnimation(0,a.SpineAnims.Intro_DollAnim.Scare,!1)},3.2),this.scheduleOnce(function(){t.AudioManager.playSound(c.Constants.SoundTrack.hmmSound)},5),this.scheduleOnce(function(){t.AudioManager.playSound(c.Constants.SoundTrack.scareSound)},6.5),this.scheduleOnce(function(){t.NodeContainer.CTA.active=!0,t.scheduleOnce(function(){cc.tween(t.NodeContainer.CTA_Btn).repeatForever(cc.tween(t.NodeContainer.CTA_Btn).to(.5,{scale:.45}).to(.5,{scale:.5},{easing:cc.easing.elasticOut})).start()},1.5)},7)},o.prototype.showHint=function(){},o.prototype.hideAnim=function(t){cc.tween(t).to(.5,{opacity:0}).start()},o.prototype.showTools=function(t,o){o||(t.active=!0),this.AudioManager.playSound(c.Constants.SoundTrack.moveItemSound);var e=t.getPosition();t.setPosition(e.x-30,e.y),cc.tween(t).to(.5,{x:e.x,opacity:255}).start(),this.showHint()},o.prototype.checkCollideFly=function(){var t=this.NodeContainer.ToolHeadArea.getBoundingBox(),o=this.NodeContainer.Fly.getBoundingBox();t.intersects(o)&&(c.Constants.isCanTouch=!1,c.Constants.isRemovedFly=!0,this.NodeContainer.Spine_Remove.node.active=!0,this.NodeContainer.Tool.active=!1,this.trackEnTry=this.NodeContainer.Spine_Remove.setAnimation(0,"Action",!1),this.setCompleteSpine())},o.prototype.setCompleteSpine=function(){var t=this;this.NodeContainer.Spine_Remove.setCompleteListener(function(o){"Action"===o.animation.name&&t.doneFlowAndShowNextOption()})},o.prototype.getCurentTimeOfTrack=function(){this.trackEnTry&&(this.trackEnTry.trackTime>=1.2&&!this.isActiveRemoveSound1&&(this.isActiveRemoveSound1=!0,this.NodeContainer.Fly.active=!1,this.NodeContainer.Delight_EyeFly.active=!1,this.AudioManager.playSound(c.Constants.SoundTrack.nhoMun1Sound)),this.trackEnTry.trackTime>=1.5&&!this.isActiveRemoveSound2&&(this.isActiveRemoveSound2=!0,this.NodeContainer.Fly.active=!1,this.AudioManager.playSound(c.Constants.SoundTrack.nhoMun2Sound)),this.trackEnTry.trackTime>=2&&!this.isActiveRemoveSound3&&(this.isActiveRemoveSound3=!0,this.NodeContainer.Fly.active=!1,this.AudioManager.playSound(c.Constants.SoundTrack.nhoMun2Sound)),this.trackEnTry.trackTime>=2.5&&(this.isActiveRemoveSound4=!0,this.AudioManager.playSound(c.Constants.SoundTrack.gapRuoiSound)))},o.prototype.doneFlowAndShowNextOption=function(){var t=this;this.AudioManager.playSound(c.Constants.SoundTrack.DoneStepSound),this.star2.getComponent(cc.Animation).play("StarAnim"),this.scheduleOnce(function(){t.NodeContainer.Btn_1.active=!0,cc.tween(t.NodeContainer.Btn_1).to(.5,{opacity:255}).call(function(){cc.tween(t.NodeContainer.Btn_1).repeatForever(cc.tween(t.NodeContainer.Btn_1).to(.5,{scale:.45}).to(.5,{scale:.5},{easing:cc.easing.elasticOut})).start()}).start()},1.5)},o.prototype.update=function(){!this.isActiveRemoveSound4&&this.getCurentTimeOfTrack()},r([h(s.default)],o.prototype,"AudioManager",void 0),r([h(u.GameController)],o.prototype,"GameController",void 0),r([h(l.default)],o.prototype,"NodeContainer",void 0),r([h(cc.Node)],o.prototype,"star",void 0),r([h(cc.Node)],o.prototype,"star1",void 0),r([h(cc.Node)],o.prototype,"star2",void 0),r([h(sp.Skeleton)],o.prototype,"sp_mouth",void 0),r([h(sp.Skeleton)],o.prototype,"sp_dryer",void 0),r([h(cc.Node)],o.prototype,"Teeth_scum",void 0),r([h(cc.Node)],o.prototype,"Options",void 0),r([h(cc.Node)],o.prototype,"hand",void 0),r([p],o)}(cc.Component);e.default=y,cc._RF.pop()},{"../Data/Anims":"Anims","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./NodeContanier":"NodeContanier"}],IronSource:[function(t,o,e){"use strict";cc._RF.push(o,"49c0ang8TBDWqCvjXG1XKDi","IronSource");var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),r=this&&this.__decorate||function(t,o,e,n){var i,r=arguments.length,a=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var a=t("../Data/constants"),c=t("../Plugin/AudioManager"),s=cc._decorator,u=s.ccclass,l=s.property,d=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.AudioManager=null,o}return i(o,t),o.prototype.handleIronSourcePlaySound=function(){a.Constants.ironSource.isPlayBgSound||(a.Constants.ironSource.isPlayBgSound=!0,a.Constants.ironSource.SoundState&&this.AudioManager.playSound(a.Constants.SoundTrack.bgSound))},o.prototype.handleMuteSoundIronSource=function(){a.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),a.Constants.ironSource.State&&(1!==a.Constants.ironSource.State||a.Constants.ironSource.SoundState||a.Constants.ironSource.isEndGame||(a.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(a.Constants.SoundTrack.bgSound)),2===a.Constants.ironSource.State&&a.Constants.ironSource.SoundState&&(a.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},o.prototype.update=function(){this.handleMuteSoundIronSource()},r([l(c.default)],o.prototype,"AudioManager",void 0),r([u],o)}(cc.Component);e.default=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],MaskGamePlay:[function(t,o){"use strict";cc._RF.push(o,"1e413qp47tDJaKLlYhUb7NL","MaskGamePlay");var e=t("Scratchable");cc.Class({extends:cc.Component,properties:{pointClear:cc.Node,touchArea:cc.Node},onLoad:function(){this.scratchables=this.getComponentsInChildren(e)},update:function(){if(this.isTouch=this.touchArea.getComponent("TouchAreaController").isTouch,this.pointClear.active&&this.isTouch){var t=cc.v2(this.pointClear.x+cc.winSize.width/2,this.pointClear.y+cc.winSize.height/2);this.scratchables.forEach(function(o){o.isScratchable&&o.isInBound(t)&&o.scratchHole(t)})}}}),cc._RF.pop()},{Scratchable:"Scratchable"}],NodeContanier:[function(t,o,e){"use strict";cc._RF.push(o,"69c3bsb3chPmrdB+4j36B25","NodeContanier");var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),r=this&&this.__decorate||function(t,o,e,n){var i,r=arguments.length,a=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.GamePlay=null,o.UI=null,o.Scratchable=null,o.Bg_2=null,o.HideMask=null,o.intro=null,o.MainGame=null,o.CTA=null,o.Hand=null,o.Btn_1=null,o.Spine_Delight=null,o.Delight_EyeFly=null,o.Delight_EyeAlert=null,o.Tears=[],o.CTA_Btn=null,o.CTA_icon=null,o.CTA_logo=null,o.CTA_overlay=null,o.Spine_Remove=null,o.Tool=null,o.ToolArea=null,o.ToolHeadArea=null,o.Fly=null,o}return i(o,t),o.prototype.start=function(){this.Btn_1=this.MainGame.getChildByName("btnNext"),this.Spine_Delight=this.MainGame.getChildByName("Spine_Delight").getComponent(sp.Skeleton),this.Tears=this.Spine_Delight.node.children.filter(function(t){return t.name.includes("Tears")}),this.Delight_EyeFly=this.Spine_Delight.node.getChildByName("fly"),this.Delight_EyeAlert=this.Spine_Delight.node.getChildByName("Alert"),this.Spine_Remove=this.Spine_Delight.node.getChildByName("Spine_Remove").getComponent(sp.Skeleton),this.Fly=this.MainGame.getChildByName("fly"),this.Tool=this.MainGame.getChildByName("Tools"),this.ToolArea=this.MainGame.getChildByName("Tools_Area"),this.ToolHeadArea=this.MainGame.getChildByName("Tools_HeadArea"),this.CTA_Btn=this.CTA.getChildByName("btnNext"),this.CTA_logo=this.CTA.getChildByName("logo"),this.CTA_icon=this.CTA.getChildByName("icon"),this.CTA_overlay=this.CTA.getChildByName("Overlay")},r([s(cc.Node)],o.prototype,"GamePlay",void 0),r([s(cc.Node)],o.prototype,"UI",void 0),r([s(cc.Node)],o.prototype,"Scratchable",void 0),r([s(cc.Node)],o.prototype,"Bg_2",void 0),r([s(cc.Node)],o.prototype,"HideMask",void 0),r([s(cc.Node)],o.prototype,"intro",void 0),r([s(cc.Node)],o.prototype,"MainGame",void 0),r([s(cc.Node)],o.prototype,"CTA",void 0),r([s(cc.Node)],o.prototype,"Hand",void 0),r([c],o)}(cc.Component);e.default=u,cc._RF.pop()},{}],Responsive:[function(t,o,e){"use strict";cc._RF.push(o,"d3abaWwEQhAi5Yf4wF9VZxN","Responsive");var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),r=this&&this.__decorate||function(t,o,e,n){var i,r=arguments.length,a=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a};Object.defineProperty(e,"__esModule",{value:!0});var a=t("../Controller/NodeContanier"),c=t("../Data/constants"),s=cc._decorator,u=s.ccclass,l=s.property,d=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.NodeContainer=null,o.device="",o.isRotate=!1,o.HORIZONTAL_IPX="horizontal_IPX",o.HORIZONTAL_TABLET="horizontal_Tablet",o.VERTICAL_IPX="vertical_IPX",o.VERTICAL_MOBILE="vertical_Mobile",o}return i(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){},o.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(c.Constants.isRotate=!0,this.setHorizontal()):(c.Constants.isRotate=!1,this.setVertical())},o.prototype.setHorizontal=function(){var t=cc.view.getFrameSize().width;cc.view.getFrameSize().height/t<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},o.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX)},o.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET)},o.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},o.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX)},o.prototype.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,cc.view.getFrameSize().width,cc.view.getFrameSize().height)},o.prototype.update=function(){this.handleRotate()},r([l(a.default)],o.prototype,"NodeContainer",void 0),r([u],o)}(cc.Component);e.default=d,cc._RF.pop()},{"../Controller/NodeContanier":"NodeContanier","../Data/constants":"constants"}],Scratchable:[function(t,o){"use strict";cc._RF.push(o,"0e71dUgp89ACJhqvD+hiH+q","Scratchable"),cc.Class({extends:cc.Component,properties:{isDone:0,isWin:cc.Boolean,eraserRadius:{type:cc.Int,default:60}},start:function(){this.percentToWin=.5;var t=this.getComponentInChildren(cc.Mask);this.graphics=t._graphics,this.graphics.fillColor=cc.color(255,255,255,0),this.reset()},calculateProgress:function(){if(this.isScratchable){var t=0;this.polygonPointsList.forEach(function(o){o.isHit&&(t+=1)}),this.progress=t/this.polygonPointsList.length,this.progress>=this.percentToWin&&(this.isWin=!0,this.isDone=1),this.isWin&&(this.fillInstantly(),this.completed=!0,this.isScratchable=!1,this.node.dispatchEvent(new cc.Event.EventCustom("completed",this)))}},reset:function(){this.callbackFlag=!0,this.graphics.clear(),this.tempDrawPoints=[],this.polygonPointsList=[],this.progress=0,this.completed=!1,this.isScratchable=!0,this.initPolygonList()},initPolygonList:function(){for(var t=0;t<this.node.width;t+=this.eraserRadius)for(var o=0;o<this.node.height;o+=this.eraserRadius)this.polygonPointsList.push({rect:cc.rect(t-this.node.width/2,o-this.node.height/2,this.eraserRadius,this.eraserRadius),isHit:!1})},scratchHole:function(t){t=this.node.convertToNodeSpaceAR(t);var o=this.graphics,e=this.tempDrawPoints.length;if(this.tempDrawPoints.push(t),this.calculateProgress(),e<=1)o.circle(t.x,t.y,this.eraserRadius/2),o.fill(),this.polygonPointsList.forEach(function(o){if(!o.isHit){var e=t.x>o.rect.x&&t.x<o.rect.x+o.rect.width,n=t.y>o.rect.y&&t.y<o.rect.y+o.rect.height;e&&n&&(o.isHit=!0)}});else{var n=this.tempDrawPoints[e-2],i=this.tempDrawPoints[e-1];o.moveTo(n.x,n.y),o.lineTo(i.x,i.y),o.lineWidth=this.eraserRadius,o.lineCap=cc.Graphics.LineCap.ROUND,o.lineJoin=cc.Graphics.LineJoin.ROUND,o.strokeColor=cc.color(255,255,255,255),o.stroke(),this.polygonPointsList.forEach(function(t){t.isHit=t.isHit||cc.Intersection.lineRect(n,i,t.rect)})}},resetProgress:function(){this.clearInstantly(),this.polygonPointsList=[],this.tempDrawPoints=[],this.progress=0,this.initPolygonList()},isInBound:function(){return!0},clearInstantly:function(){this.graphics.clear()},fillInstantly:function(){this.graphics.moveTo(0,0),this.graphics.rect(0,0,this.node.width,this.node.height),this.graphics.fill()}}),cc._RF.pop()},{}],TouchAreaController:[function(t,o,e){"use strict";cc._RF.push(o,"85711X2lIBGPIPjaJXFSYaE","TouchAreaController");var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),r=this&&this.__decorate||function(t,o,e,n){var i,r=arguments.length,a=r<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(o,e,a):i(o,e))||a);return r>3&&a&&Object.defineProperty(o,e,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.TouchAreaController=void 0;var a=t("../Data/constants"),c=t("../Plugin/AudioManager"),s=t("./GameController"),u=t("./GamePlay"),l=t("./IronSource"),d=t("./NodeContanier"),p=cc._decorator,h=p.ccclass,y=p.property,S=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.IronSource=null,o.NodeContainer=null,o.AudioManager=null,o.GameController=null,o.GamePlay=null,o.Btn_1=null,o.Btn_2=null,o.isTouch=!1,o}return i(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){this.NodeContainer.CTA.active=!1,this.NodeContainer.Btn_1.active=!1,this.registerEvent()},o.prototype.registerEvent=function(){this.NodeContainer.ToolArea.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.NodeContainer.ToolArea.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.NodeContainer.ToolArea.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.NodeContainer.ToolArea.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.NodeContainer.Btn_1.on(cc.Node.EventType.TOUCH_START,this.GamePlay.showIntro,this),this.NodeContainer.CTA_Btn.on(cc.Node.EventType.TOUCH_START,this.GameController.installHandle,this)},o.prototype.hideMaskTouchStart=function(){this.IronSource.handleIronSourcePlaySound()},o.prototype.enableTouch=function(){a.Constants.isCanTouch=!1},o.prototype.touchStart=function(){this.IronSource.handleIronSourcePlaySound(),a.Constants.isToStore&&this.GameController.installHandle(),a.Constants.isCanTouch&&(this.NodeContainer.Hand.active=!1,this.NodeContainer.Delight_EyeAlert.active=!1)},o.prototype.touchMove=function(t){if(a.Constants.isCanTouch&&!a.Constants.ironSource.isEndGame){var o=t.getLocation(),e=this.node.convertToNodeSpaceAR(o);this.moveTools(e,o),this.GamePlay.checkCollideFly()}},o.prototype.touchEnd=function(t){this.isTouch=!1,t.getLocation()},o.prototype.moveTools=function(t){this.NodeContainer.ToolArea.setPosition(t.x,t.y),this.NodeContainer.ToolHeadArea.setPosition(t.x-45,t.y-40),this.NodeContainer.Tool.setPosition(t.x-45,t.y-40)},r([y(l.default)],o.prototype,"IronSource",void 0),r([y(d.default)],o.prototype,"NodeContainer",void 0),r([y(c.default)],o.prototype,"AudioManager",void 0),r([y(s.GameController)],o.prototype,"GameController",void 0),r([y(u.default)],o.prototype,"GamePlay",void 0),r([y(cc.Node)],o.prototype,"Btn_1",void 0),r([y(cc.Node)],o.prototype,"Btn_2",void 0),r([h],o)}(cc.Component);e.TouchAreaController=S,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./GamePlay":"GamePlay","./IronSource":"IronSource","./NodeContanier":"NodeContanier"}],Ultils:[function(t,o,e){"use strict";cc._RF.push(o,"03f2ceupvBEfa9putmH215T","Ultils"),Object.defineProperty(e,"__esModule",{value:!0}),e.Ultils=void 0;var n=cc._decorator,i=(n.ccclass,n.property,{}),r=function(){function t(){}return t.TouchArea=i,t}();e.Ultils=r,cc._RF.pop()},{}],constants:[function(t,o,e){"use strict";cc._RF.push(o,"eaccb/69FZDu6rC4YmR+uAW","constants"),Object.defineProperty(e,"__esModule",{value:!0}),e.Constants=void 0;var n,i=cc._decorator,r=(i.ccclass,i.property,{SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1}),a={calculatedY:0,calculatedX:0,currentDevice:""};(function(t){t.bgSound="bgSound",t.spiderSound="spiderSound",t.walkSound="walkSound",t.scareSound="scareSound",t.IntroDelightSound="IntroDelightSound",t.hmmSound="hmmSound",t.whooseSound="whooseSound",t.moveItemSound="moveItemSound",t.DoneStepSound="DoneStepSound",t.crySound="crySound",t.gapRuoiSound="gapRuoiSound",t.screamHoooSound="screamHoooSound",t.nhoMun2Sound="nhoMun2Sound",t.nhoMun1Sound="nhoMun1Sound"})(n||(n={}));var c=function(){function t(){}return t.currentPosition=new cc.Vec2(0,0),t.isRotate=!1,t.isTouch=!1,t.isCanTouch=!0,t.isToStore=!1,t.isRemovedFly=!1,t.maggotRemoved=0,t.Event=Event,t.SoundTrack=n,t.ironSource=r,t.Responsive=a,t}();e.Constants=c,cc._RF.pop()},{}]},{},["GameController","GamePlay","IronSource","MaskGamePlay","NodeContanier","Scratchable","TouchAreaController","Anims","Ultils","constants","AudioManager","Responsive"]);