{"version":3,"sources":["assets\\Script\\MainGame\\GameField.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Circle } from \"./Circle\";\r\nimport { Cell } from \"./Cell\";\r\nimport { CheckerBoolean } from \"./ClassHelpers\";\r\nimport { tipeCircle } from \"./CircleEnums\";\r\nimport { typeColorCircle } from \"./CircleEnums\";\r\nimport { Constants } from \"../Data/constants\";\r\nimport AudioManager from \"../Plugin/AudioManager\";\r\nimport { GameController } from \"./GamesController\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class GameField extends cc.Component {\r\n\r\n  @property(cc.Prefab)\r\n  private Circle: cc.Prefab = null;\r\n  @property(cc.Prefab)\r\n  private Cell: cc.Prefab = null;\r\n  @property(AudioManager)\r\n  AudioManager: AudioManager = null;\r\n  @property(GameController)\r\n  GameController: GameController = null;\r\n\r\n  @property(cc.Node)\r\n  Hint: cc.Node = null;\r\n\r\n  @property\r\n  private needRandomVoidCell: boolean = true;\r\n  @property\r\n  private ChangeForCreateAnActiveCell: number = 25;\r\n  @property\r\n  private iter: number = 0.1;\r\n  @property\r\n  private StartCellPosX: number = -150;\r\n  @property\r\n  private StartCellPosY: number = 250;\r\n\r\n  @property\r\n  private lenghtCell: number = 62;\r\n  @property\r\n  private widthCell: number = 62;\r\n\r\n  private countCircle: number = 0;\r\n  countProgressStep: number = 0;\r\n\r\n  private previousCountCircle: number = 0;\r\n\r\n  busterClick: boolean = false;\r\n\r\n  private Cells: Cell[][] = [\r\n    [, , , , , , ,],\r\n    [, , , , , , ,],\r\n    [, , , , , , ,],\r\n    [, , , , , , ,],\r\n    [, , , , , , ,],\r\n    [, , , , , , ,],\r\n    [, , , , , , ,],\r\n    [, , , , , , ,],\r\n  ];\r\n\r\n  destroyTipeColors: number[];\r\n\r\n  private currentI_cell_click: number = 0;\r\n  private currentJ_cell_click: number = 0;\r\n  private timeForCheckFild: number = 0;\r\n\r\n  private prewCell: Cell;\r\n  private currentCell: Cell;\r\n  //todo \r\n  private tmpPrewCell: Cell;\r\n  private oneCheckField: boolean = true;\r\n\r\n  onLoad() {\r\n    this.node.on('wasClickOnCell', this.workWithClickedCell, this);\r\n    this.node.on('wasTwoClickOnCell', this.workWithTwoClickedCell, this);\r\n    // this.timeForCheckFild = this.Cells.length * this.iter + 0.1;\r\n    this.timeForCheckFild = this.Cells.length * this.iter + 0.1;\r\n  }\r\n\r\n  start() {\r\n    this.createCells();\r\n    // DHH\r\n    // this.setTypeCellsOnIandJ(4, 0, this.Cells.length, 4, 1);\r\n    this.CreateCircles();\r\n  }\r\n\r\n  onEnable() {\r\n    this.createCells();\r\n    // DHH\r\n    // this.setTypeCellsOnIandJ(4, 0, this.Cells.length, 4, 1);\r\n    this.CreateCircles();\r\n    this.destroyTipeColors = new Array(Object.keys(typeColorCircle).length);\r\n    for (var i = 0; i < this.destroyTipeColors.length; i++) this.destroyTipeColors[i] = 0;\r\n  }\r\n\r\n  onDisable() {\r\n    this.DestroyCircles();\r\n  }\r\n\r\n  workWithClickedCell() {\r\n    if (Constants.countScore >= 10) {\r\n      this.GameController.installHandle();\r\n    }\r\n\r\n    this.currentCell = this.getClickCell();\r\n    this.Hint.active = false;\r\n    Constants.isClickFirstTime = true;\r\n    if (this.currentCell === this.prewCell) this.prewCell = null;\r\n    if (this.currentCell != null) {\r\n      if (!this.buster()) {\r\n        this.setSelectPrewCell();\r\n        if (this.prewCell != null) {\r\n          this.tmpPrewCell = this.prewCell;\r\n          this.checkNeighboringCell();\r\n        }\r\n        this.prewCell = this.currentCell;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  workWithTwoClickedCell() {\r\n    cc.log(\"clear cells\")\r\n    // this.prewCell= null;\r\n    //this.currentCell=null;\r\n  }\r\n\r\n\r\n  private checkNeighboringCell() {\r\n    if (this.prewCell._circle.getComponent(Circle).CircleTypeColor !== this.currentCell._circle.getComponent(Circle).CircleTypeColor)\r\n      if (this.prewCell !== this.currentCell\r\n        && this.prewCell._circle != null\r\n        && this.currentI_cell_click != null) {\r\n        if (this.prewCell.irow + 1 == this.currentCell.irow\r\n          && this.prewCell.jcolumn == this.currentCell.jcolumn ||\r\n          this.prewCell.irow - 1 == this.currentCell.irow\r\n          && this.prewCell.jcolumn == this.currentCell.jcolumn ||\r\n          this.prewCell.irow == this.currentCell.irow\r\n          && this.prewCell.jcolumn + 1 == this.currentCell.jcolumn ||\r\n          this.prewCell.irow == this.currentCell.irow\r\n          && this.prewCell.jcolumn - 1 == this.currentCell.jcolumn) {\r\n          this.node.dispatchEvent(new cc.Event.EventCustom('setBlockTouch', true));\r\n          Constants.isCanTouch = false;\r\n          this.swapCircles(this.prewCell, this.currentCell);\r\n          this.needCheckFieldAfterSwapCircle();\r\n        }\r\n      }\r\n  }\r\n\r\n\r\n  private needCheckFieldAfterSwapCircle() {\r\n    this.scheduleOnce(() => {\r\n      this.node.dispatchEvent(new cc.Event.EventCustom('needCheckField', true));\r\n      this.setCellNoClick(this.prewCell);\r\n      this.setCellNoClick(this.currentCell);\r\n      this.oneCheckField = true;\r\n    }, this.iter + this.iter + this.iter);\r\n\r\n    this.scheduleOnce(() => {\r\n      if (!this.destroyExisted) {\r\n        cc.log(\"comeBackCircle\")\r\n        this.node.dispatchEvent(new cc.Event.EventCustom('setUnBlockTouch', true));\r\n        this.swapCircles(this.currentCell, this.tmpPrewCell);\r\n        this.setCellNoClick(this.tmpPrewCell);\r\n        this.setCellNoClick(this.currentCell);\r\n        this.prewCell = null;\r\n        this.currentCell = null;\r\n        this.tmpPrewCell = null;\r\n      } else {\r\n        cc.log(\"countProgressStep\")\r\n        this.node.dispatchEvent(new cc.Event.EventCustom('setUnBlockTouch', true));\r\n        this.node.dispatchEvent(new cc.Event.EventCustom('countProgressStep', true));\r\n        this.prewCell = null;\r\n        this.currentCell = null;\r\n        this.tmpPrewCell = null;\r\n      }\r\n    }, this.timeForCheckFild);\r\n  }\r\n\r\n\r\n  private swapCircles(cell1, cell2) {\r\n    cc.log(\"swapCirle\")\r\n    this.animateMoveCircle(cell1, cell2);\r\n    this.animateMoveCircle(cell2, cell1);\r\n    var tmpCircle = cell2._circle;\r\n    cell2._circle = cell1._circle;\r\n    cell1._circle = tmpCircle;\r\n    this.setCellNoClick(cell1);\r\n    this.setCellNoClick(cell2);\r\n  }\r\n\r\n\r\n  private setCellNoClick(cell) {\r\n    cell.countClick = 0;\r\n    cell.wasSelectCircle = false;\r\n    cell.wasClick = false;\r\n    cell.setNormalSize();\r\n  }\r\n\r\n\r\n  private animateMoveCircle(Cell1, Cell2) {\r\n    if (Cell1 == null || Cell2 == null) return;\r\n    Constants.isCanTouch = false;\r\n    // console.log(`checking ${Cell1._circle}`);\r\n\r\n    cc.tween(Cell1._circle)\r\n      .parallel(\r\n        cc.tween().to(this.iter, { scale: 1 }),\r\n        cc.tween().to(this.iter, { position: Cell2.node.position })\r\n      )\r\n      .call(() => {\r\n        this.scheduleOnce(() => {\r\n          Constants.isCanTouch = true;\r\n        }, 1)\r\n        cc.log(\"finish move\");\r\n      }).start()\r\n  }\r\n\r\n\r\n  setBuster() {\r\n    // cc.log(\"Buster Set\");\r\n    this.busterClick = true;\r\n  }\r\n\r\n\r\n  private buster() {\r\n    if (this.busterClick)\r\n      if (this.currentCell != null) {\r\n        // this.setSelectPrewCell(cell);\r\n        this.startTypeDestroer(this.currentCell);\r\n        this.animateDestroyCircle(this.currentCell);\r\n        this.setCellNoClick(this.currentCell);\r\n        this.busterClick = false;\r\n\r\n        this.eventDestoyArow();\r\n\r\n        this.currentCell = null;\r\n        this.node.dispatchEvent(new cc.Event.EventCustom('countProgressStep', true));\r\n        return true;\r\n      }\r\n    return false;\r\n  }\r\n\r\n\r\n  setSelectPrewCell() {\r\n    if (this.prewCell != null)\r\n      if (this.prewCell !== this.currentCell && this.prewCell.wasSelectCircle) {\r\n        this.prewCell.selectCircle();\r\n      }\r\n  }\r\n\r\n\r\n  setSelectCurrentCell() {\r\n    if (this.currentCell != null)\r\n      if (this.currentCell.wasSelectCircle) {\r\n        this.currentCell.selectCircle();\r\n      }\r\n  }\r\n\r\n\r\n  private getClickCell() {\r\n    this.AudioManager.playSound(Constants.SoundTrack.clickSound);\r\n    for (var j = 0; j < this.Cells.length; j++)\r\n      for (var i = 0; i < this.Cells[j].length; i++)\r\n        if (this.Cells[j][i].wasClick) {\r\n          this.Cells[j][i].wasClick = false;\r\n          // cc.log(\"clicked\")\r\n          return this.Cells[j][i];\r\n        }\r\n    return null;\r\n  }\r\n\r\n\r\n  clickDestroyCircleInCell() {\r\n    this.countCircle--;\r\n    this.node.dispatchEvent(new cc.Event.EventCustom('setPoint', true));\r\n    this.allCirclesMove();\r\n  }\r\n\r\n  createOneLineCircles() {\r\n    for (var i = 0; i < this.Cells[0].length; i++) {\r\n      this.createCircle(this.Cells[0][i]);\r\n    }\r\n    this.allCirclesMove();\r\n    if (this.oneCheckField) {\r\n      this.oneCheckField = false;\r\n      this.needCheckField();\r\n    }\r\n  }\r\n\r\n  private needCheckField() {\r\n    this.scheduleOnce(function () {\r\n      this.node.dispatchEvent(new cc.Event.EventCustom('needCheckField', true));\r\n      this.oneCheckField = true;\r\n    }, this.timeForCheckFild);\r\n  }\r\n\r\n  checkLine() {\r\n    this.destroyExisted = false;\r\n    this.InArow();\r\n    this.node.dispatchEvent(new cc.Event.EventCustom('setUnBlockTouch', true));\r\n  }\r\n\r\n  private createCells() {\r\n    var xPos: number = 0;\r\n    var yPos: number = 0;\r\n    var _cell;\r\n\r\n    for (var j = 0; j < this.Cells.length; j++) {\r\n      for (var i = 0; i < this.Cells[j].length; i++) {\r\n        _cell = cc.instantiate(this.Cell);\r\n        _cell.setContentSize(this.lenghtCell, this.widthCell);\r\n        _cell.setParent(this.node);\r\n        _cell.setPosition(this.StartCellPosX + xPos, this.StartCellPosY + yPos);\r\n        this.Cells[j][i] = _cell.getComponent(Cell);\r\n        if (i % 2 != 0 && j % 2 == 0) { this.Cells[j][i].setGrayColor(); }\r\n        if (i % 2 == 0 && j % 2 != 0) { this.Cells[j][i].setGrayColor(); }\r\n        // if (this.needRandomVoidCell) this.createAnyTypeCell(this.Cells[j][i], 1);\r\n        this.Cells[j][i].jcolumn = j;\r\n        this.Cells[j][i].irow = i;\r\n        xPos = xPos + this.lenghtCell;\r\n      }\r\n      xPos = 0;\r\n      yPos = yPos - this.widthCell;\r\n    }\r\n\r\n    Constants.Board = this.Cells;\r\n  }\r\n\r\n  private createAnyTypeCell(Cell, type) {\r\n    if (Math.floor((Math.random() * this.ChangeForCreateAnActiveCell) + 1) == 1) {\r\n      Cell.typeCell = type;\r\n      Cell.setColorInType();\r\n    }\r\n  }\r\n\r\n  private setTypeCellsOnIandJ(i_, j_, iLength, jLegth, type) {\r\n    for (var j = j_; j < jLegth; j++) {\r\n      for (var i = i_; i < iLength; i++) {\r\n        this.Cells[j][i].typeCell = type;\r\n        this.Cells[j][i].setColorInType();\r\n      }\r\n    }\r\n  }\r\n\r\n  private CreateCircles() {\r\n    for (var j = 0; j < this.Cells.length; j++)\r\n      for (var i = 0; i < this.Cells[j].length; i++) {\r\n        if (this.Cells[j][i].typeCell == 0) {\r\n          this.createCircle(this.Cells[j][i])\r\n        };\r\n      }\r\n      \r\n    this.node.dispatchEvent(new cc.Event.EventCustom('needCheckField', true));\r\n  }\r\n\r\n  private DestroyCircles() {\r\n    for (var j = 0; j < this.Cells.length; j++)\r\n      for (var i = 0; i < this.Cells[j].length; i++) {\r\n        if (this.Cells[j][i].circleIsNotNull()) {\r\n          this.Cells[j][i]._circle.destroy();\r\n          this.Cells[j][i]._circle = null;\r\n        }\r\n      }\r\n  }\r\n\r\n  private createCircle(Cell) {\r\n    if (!Cell.circleIsNotNull()) {\r\n      Cell._circle = cc.instantiate(this.Circle);\r\n      // Thiết lập loại và màu sắc cho Circle dựa vào circleType\r\n      \r\n      // let circleType = Cell._circle.getComponent(Circle).CircleTypeColor;\r\n      // do {      \r\n      //   console.log(\"?\");\r\n          \r\n      //   Cell._circle.getComponent(Circle).setRandomColor(true);\r\n      //   Cell._circle.getComponent(Circle).setColorTipe();\r\n      //   circleType = Cell._circle.getComponent(Circle).CircleTypeColor;\r\n      //   // Thiết lập loại và màu sắc cho Circle dựa vào circleType\r\n      // } while (!this.isValidPlacementForCircle(Cell.jcolumn, Cell.irow, circleType));\r\n\r\n      Cell._circle.setParent(this.node);\r\n      Cell._circle.setPosition(Cell.node.position);\r\n      Cell._circle.setContentSize(this.lenghtCell - 15, this.widthCell - 15);\r\n      this.countCircle++;\r\n    }\r\n  }\r\n\r\n\r\n  private isValidPlacementForCircle(j: number, i: number, circleType: number): boolean {\r\n    // Kiểm tra hàng\r\n    if (i >= 2 && this.Cells[j][i - 1]._circle && this.Cells[j][i - 2]._circle &&\r\n        this.Cells[j][i - 1]._circle.getComponent(Circle).CircleTypeColor === circleType &&\r\n        this.Cells[j][i - 2]._circle.getComponent(Circle).CircleTypeColor === circleType) {\r\n      return false;\r\n    }\r\n    // Kiểm tra cột\r\n    if (j >= 2 && this.Cells[j - 1][i]._circle && this.Cells[j - 2][i]._circle &&\r\n        this.Cells[j - 1][i]._circle.getComponent(Circle).CircleTypeColor === circleType &&\r\n        this.Cells[j - 2][i]._circle.getComponent(Circle).CircleTypeColor === circleType) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  cellExist: boolean = false;\r\n\r\n  allCirclesMove() {\r\n\r\n    for (var j = 0; j < this.Cells.length; j++)\r\n      for (var i = 0; i < this.Cells[j].length; i++) {\r\n        if (this.Cells[j][i].CellIsNotNull())\r\n          if (!this.Cells[j][i].circleIsNotNull() && this.Cells[j][i].typeCell == 0) {\r\n            if (j == 0) {\r\n              this.scheduleOnce(function () {\r\n                this.node.dispatchEvent(new cc.Event.EventCustom('moveCircleEnd', true));\r\n              }, this.iter);\r\n            }\r\n            if (j >= 1) {\r\n              this.swapCircleInCell(i, j, i, j - 1);\r\n            }\r\n            if (!this.cellExist) {\r\n              if (j >= 1 && i < this.Cells[j].length - 1) {\r\n                if (Math.floor(Math.random() * Math.floor(2)) == 1) {\r\n                  this.swapCircleInCell(i, j, i - 1, j - 1);\r\n                  if (!this.cellExist) this.swapCircleInCell(i, j, i + 1, j - 1);\r\n                }\r\n                else this.swapCircleInCell(i, j, i + 1, j - 1);\r\n                if (!this.cellExist) this.swapCircleInCell(i, j, i - 1, j - 1);\r\n              }\r\n              if (i == 0 && j >= 1) {\r\n                this.swapCircleInCell(i, j, i + 1, j - 1);\r\n              }\r\n              if (i == this.Cells[j].length - 1 && j >= 1) {\r\n                this.swapCircleInCell(i, j, i - 1, j - 1);\r\n              }\r\n            }\r\n          }\r\n      }\r\n\r\n  }\r\n\r\n  private swapCircleInCell(i, j, newi, newj) {\r\n    if (this.validateCircleMove(i, j, newi, newj)) {\r\n      this.Cells[j][i]._circle = this.Cells[newj][newi]._circle;\r\n      this.Cells[newj][newi]._circle = null;\r\n      this.moveCircle(this.Cells[j][i]._circle, this.Cells[j][i].node.position);\r\n      this.cellExist = true;\r\n      return;\r\n    }\r\n    this.cellExist = false;\r\n  }\r\n\r\n  private validateCircleMove(i, j, newi, newj) {\r\n    if (CheckerBoolean.checkTwoBoolean(this.Cells[j][i].CellIsNotNull(), this.Cells[newj][newi] != null))\r\n      if (CheckerBoolean.checkTwoBoolean(this.Cells[j][i].typeCell == 0, this.Cells[newj][newi].typeCell == 0))\r\n        if (CheckerBoolean.checkTwoBoolean(this.Cells[j][i]._circle == null, this.Cells[newj][newi]._circle != null)) return true;\r\n    return false;\r\n  }\r\n\r\n\r\n  private moveCircle(circle, toMove) {\r\n    var _circle = circle.getComponent(Circle);\r\n    _circle.inMove = true;\r\n    cc.tween(circle)\r\n      .parallel(\r\n        cc.tween().to(this.iter, { scale: 1 }),\r\n        cc.tween().to(this.iter, { position: toMove })\r\n      )\r\n      .call(() => {\r\n        this.node.dispatchEvent(new cc.Event.EventCustom('moveCircleEnd', true));\r\n        _circle.inMove = false;\r\n      })\r\n      .start()\r\n  }\r\n\r\n  private tmpCountCircle: number = 0;\r\n\r\n  //todo \r\n  private fieldOnFilledWithCircles() {\r\n    var allcirclenowinfield = 0;\r\n    var allcirclenowinfieldandmove = 0;\r\n    for (var j = 0; j < this.Cells[0].length; j++) {\r\n      for (var i = 0; i < this.Cells[j].length; i++)\r\n        if (CheckerBoolean.checkTwoBoolean(this.Cells[j][i].typeCell == 0, this.Cells[j][i].circleIsNotNull())) {\r\n          if (this.Cells[j][i]._circle.getComponent(Circle).inMove) allcirclenowinfieldandmove++;\r\n        }\r\n    }\r\n\r\n    cc.log(allcirclenowinfield);\r\n    cc.log(allcirclenowinfieldandmove);\r\n    if (allcirclenowinfieldandmove == allcirclenowinfield) return false;\r\n    return false;\r\n  }\r\n\r\n  private horizont: boolean = false;\r\n  private vertical: boolean = false;\r\n  private goDestroyThreeInArow: boolean = false;\r\n\r\n  private InArow() {\r\n\r\n    for (var j = 0; j < this.Cells.length; j++) {\r\n      for (var i = 0; i < this.Cells[j].length; i++) {\r\n        this.goDestroyThreeInArow = true;\r\n        if (j >= 2) {\r\n          this.vertical = false;\r\n          this.horizont = true;\r\n          this.InArowTmp(i, j, i, j - 1, i, j - 2);\r\n        }\r\n        if (i < this.Cells[j].length - 2) {\r\n          this.horizont = false;\r\n          this.vertical = true;\r\n          this.InArowTmp(i, j, i + 1, j, i + 2, j);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  private InArowTmp(i, j, iOne, jOne, iTwo, jTwo) {\r\n\r\n    if (this.Cells[j][i] != null && this.Cells[jOne][iOne] != null && this.Cells[jTwo][iTwo] != null) {\r\n      var tmpBool1 = CheckerBoolean.checkTwoBoolean(this.Cells[j][i].typeCell == 0, this.Cells[jOne][iOne].typeCell == 0);\r\n      var tmpBool2 = CheckerBoolean.checkTwoBoolean(tmpBool1, this.Cells[jTwo][iTwo].typeCell == 0);\r\n      if (!tmpBool2) return;\r\n      tmpBool1 = CheckerBoolean.checkTwoBoolean(this.Cells[j][i].circleIsNotNull(), this.Cells[jOne][iOne].circleIsNotNull());\r\n      tmpBool2 = CheckerBoolean.checkTwoBoolean(tmpBool1, this.Cells[jTwo][iTwo].circleIsNotNull())\r\n      if (!tmpBool2) return;\r\n      var tmpBool3 = CheckerBoolean.EqualsTrheeObj(this.Cells[j][i]._circle.getComponent(Circle).CircleTypeColor,\r\n        this.Cells[jOne][iOne]._circle.getComponent(Circle).CircleTypeColor,\r\n        this.Cells[jTwo][iTwo]._circle.getComponent(Circle).CircleTypeColor);\r\n      if (!tmpBool3) return;\r\n      if (this.vertical) {\r\n        if (i < this.Cells[j].length - 4) {\r\n          this.AudioManager.playSound(Constants.SoundTrack.rainbowSound);\r\n          this.createRainbowBall(i, j, iOne, jOne, iTwo, jTwo, jTwo, iTwo + 1, jTwo, iTwo + 2, 3);\r\n        }\r\n        if (i < this.Cells[j].length - 3 && this.goDestroyThreeInArow) {\r\n          this.AudioManager.playSound(Constants.SoundTrack.GemSound);\r\n          this.AudioManager.playSound(Constants.SoundTrack.woaSound);\r\n          this.createLightning(i, j, iOne, jOne, iTwo, jTwo, jTwo, iTwo + 1, 2);\r\n        }\r\n      }\r\n      if (this.horizont) {\r\n        if (j >= 4) {\r\n          this.AudioManager.playSound(Constants.SoundTrack.rainbowSound);\r\n          this.createRainbowBall(i, j, iOne, jOne, iTwo, jTwo, jTwo - 1, iTwo, jTwo - 2, iTwo, 3);\r\n        }\r\n        if (j >= 3 && this.goDestroyThreeInArow) {\r\n          this.AudioManager.playSound(Constants.SoundTrack.GemSound);\r\n          this.createLightning(i, j, iOne, jOne, iTwo, jTwo, jTwo - 1, iTwo, 1);\r\n        }\r\n      }\r\n      if (this.goDestroyThreeInArow) {\r\n        this.AudioManager.playSound(Constants.SoundTrack.GemSound);\r\n        this.check3Circle(this.Cells[j][i], this.Cells[jOne][iOne], this.Cells[jTwo][iTwo]);\r\n        this.eventDestoyArow();\r\n      }\r\n    }\r\n  }\r\n\r\n  private createRainbowBall(i, j, iOne, jOne, iTwo, jTwo, iThree, jThree, iFour, jFour, tipe) {\r\n    if (this.Cells[iThree][jThree] == null || this.Cells[iFour][jFour] == null) return;\r\n    var bool1 = CheckerBoolean.checkTwoBoolean(this.Cells[iThree][jThree].typeCell == 0, this.Cells[iThree][jThree].circleIsNotNull());\r\n    var bool2 = CheckerBoolean.checkTwoBoolean(this.Cells[iFour][jFour].typeCell == 0, this.Cells[iFour][jFour].circleIsNotNull());\r\n    if (CheckerBoolean.checkTwoBoolean(bool1, bool2)) {\r\n      var bool3 = CheckerBoolean.EqualsTrheeObj(this.Cells[jTwo][iTwo]._circle.getComponent(Circle).CircleTypeColor,\r\n        this.Cells[iThree][jThree]._circle.getComponent(Circle).CircleTypeColor,\r\n        this.Cells[iFour][jFour]._circle.getComponent(Circle).CircleTypeColor);\r\n      if (bool3) {\r\n        cc.log(\"RainbowCreate\");\r\n        this.AudioManager.playSound(Constants.SoundTrack.woaSound2)\r\n        this.Cells[j][i]._circle.getComponent(Circle).setTipe(tipe);\r\n        cc.log(this.Cells[j][i]._circle.getComponent(Circle).CircleType);\r\n        this.check3Circle(this.Cells[jOne][iOne], this.Cells[jTwo][iTwo], this.Cells[iThree][jThree]);\r\n        this.startCheckCircleForDestroy(this.Cells[iFour][jFour]);\r\n        this.goDestroyThreeInArow = false;\r\n        this.eventDestoyArow();\r\n      }\r\n    }\r\n  }\r\n\r\n  private createLightning(i, j, iOne, jOne, iTwo, jTwo, iThree, jThree, tipe) {\r\n    if (this.Cells[iThree][jThree] == null) return;\r\n    if (CheckerBoolean.checkTwoBoolean(this.Cells[iThree][jThree].typeCell == 0, this.Cells[iThree][jThree].circleIsNotNull()))\r\n      if (CheckerBoolean.EqualsTwoObj(this.Cells[jTwo][iTwo]._circle.getComponent(Circle).CircleTypeColor,\r\n        this.Cells[iThree][jThree]._circle.getComponent(Circle).CircleTypeColor)) {\r\n        console.log(\"create lightning\");\r\n        var circle = this.Cells[j][i]._circle.getComponent(Circle);\r\n\r\n        this.Cells[iThree][jThree].getComponent(cc.Sprite).enabled = false;\r\n        this.Cells[iThree][jThree].node.opacity = 0;\r\n        this.Cells[iThree][jThree]._circle.getComponent(Circle).getComponent(cc.Sprite).enabled = false;\r\n        this.Cells[iThree][jThree]._circle.opacity = 0;\r\n        circle.setTipe(tipe);\r\n        this.check3Circle(this.Cells[jOne][iOne], this.Cells[jTwo][iTwo], this.Cells[iThree][jThree]);\r\n        this.goDestroyThreeInArow = false;\r\n        this.eventDestoyArow();\r\n      }\r\n  }\r\n\r\n  private destroyRainbowBall(Cell, circle) {\r\n    for (var j = 0; j < this.Cells.length; j++) {\r\n      for (var i = 0; i < this.Cells[j].length; i++) {\r\n        if (this.Cells[j][i].circleIsNotNull()) var currentCircle = this.Cells[j][i]._circle.getComponent(Circle);\r\n        else return;\r\n        if (Cell != this.Cells[j][i] &&\r\n          circle.CircleTypeColor === currentCircle.CircleTypeColor) {\r\n          if (circle.CircleType === currentCircle.CircleType)\r\n            this.animateDestroyCircle(this.Cells[j][i]);\r\n          else this.startCheckCircleForDestroy(this.Cells[j][i])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private destroyLightningVertical(Cell, circle) {\r\n    console.log(\"boom lightning vertical\");\r\n\r\n    var j = Cell.jcolumn;\r\n    for (var i = 0; i < this.Cells[j].length; i++) {\r\n      if (Cell != this.Cells[j][i] || this.Cells[j][i].CellIsNotNull()) return;\r\n      if (this.Cells[j][i].circleIsNotNull()) var currentCircle = this.Cells[j][i]._circle.getComponent(Circle);\r\n      else return;\r\n      if (circle.CircleType === currentCircle.CircleType) this.animateDestroyCircle(this.Cells[j][i]);\r\n      else this.startCheckCircleForDestroy(this.Cells[j][i]);\r\n    }\r\n  }\r\n\r\n  private destroyLightningHorizont(Cell, circle) {\r\n    console.log(\"boom lightning horizont\");\r\n\r\n    var i = Cell.irow;\r\n    var thisCircle = circle.getComponent(Circle);\r\n    for (var j = 0; j < this.Cells.length; j++) {\r\n      if (Cell != this.Cells[j][i] || this.Cells[j][i] != null) return;\r\n      if (this.Cells[j][i].circleIsNotNull()) var currentCircle = this.Cells[j][i]._circle.getComponent(Circle);\r\n      if (currentCircle == null) return;\r\n      if (circle.CircleType === currentCircle.CircleType) this.animateDestroyCircle(this.Cells[j][i]);\r\n      else this.startCheckCircleForDestroy(this.Cells[j][i]);\r\n    }\r\n  }\r\n\r\n  private destroylightningVerticalAndlightningHorizont(Cell, circle) {\r\n    this.destroyLightningVertical(Cell, circle);\r\n    this.destroyLightningHorizont(Cell, circle);\r\n  }\r\n\r\n  private check3Circle(Cell1, Cell2, Cell3) {\r\n    this.startCheckCircleForDestroy(Cell1);\r\n    this.startCheckCircleForDestroy(Cell2);\r\n    this.startCheckCircleForDestroy(Cell3);\r\n  }\r\n\r\n  private startCheckCircleForDestroy(Cell) {\r\n    this.startTypeDestroer(Cell);\r\n    this.animateDestroyCircle(Cell);\r\n  }\r\n\r\n  private startTypeDestroer(Cell) {\r\n    if (Cell.circleIsNotNull()) {\r\n      var circle = Cell._circle.getComponent(Circle);\r\n      switch (circle.CircleType) {\r\n        case tipeCircle.rainbowBall: {\r\n          this.destroyRainbowBall(Cell, circle);\r\n          break;\r\n        }\r\n        case tipeCircle.lightningVertical: {\r\n          this.destroyLightningVertical(Cell, circle);\r\n          break;\r\n        }\r\n        case tipeCircle.lightningHorizont: {\r\n          this.destroyLightningHorizont(Cell, circle);\r\n          break;\r\n        }\r\n        case tipeCircle.normal: {\r\n          this.animateDestroyCircle(Cell);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private destroyEveryCircles() {\r\n    for (var j = 0; j < this.Cells.length; j++) {\r\n      for (var i = 0; i < this.Cells[j].length; i++) {\r\n        this.animateDestroyCircle(this.Cells[j][i]);\r\n      }\r\n    }\r\n    this.scheduleOnce(function () {\r\n      this.node.dispatchEvent(new cc.Event.EventCustom('destroyCircles', true));\r\n    }, this.iter + 0.1);\r\n    this.scheduleOnce(function () {\r\n      this.node.dispatchEvent(new cc.Event.EventCustom('needCheckField', true));\r\n    }, (this.iter + 0.2) * 4);\r\n\r\n  }\r\n\r\n  private destroyExisted: boolean = false;\r\n  private eventDestoyArow() {\r\n    this.scheduleOnce(function () {\r\n      this.node.dispatchEvent(new cc.Event.EventCustom('setBlockTouch', true));\r\n      this.node.dispatchEvent(new cc.Event.EventCustom('destroyCircles', true));\r\n      this.destroyExisted = true;\r\n    }, this.iter + this.iter);\r\n  }\r\n\r\n  animationStart: boolean = true;\r\n\r\n  private animateDestroyCircle(Cell) {\r\n    if (Cell == null) return;\r\n    Cell.blink.getComponent(cc.Animation).play(\"Blink_Anim\");\r\n    if (Constants.isClickFirstTime) {\r\n      Constants.countScore += 1;\r\n    }\r\n    cc.tween(Cell._circle)\r\n      .parallel(\r\n        cc.tween().to(this.iter, { scale: 0 }),\r\n        cc.tween().to(this.iter, {})\r\n      )\r\n      .call(() => {\r\n        if (Cell._circle == null) return;\r\n        this.countCircle--;\r\n        this.getTypeDestroyCircle(Cell._circle.getComponent(Circle));\r\n        this.node.dispatchEvent(new cc.Event.EventCustom('setPoint', true));\r\n        Cell._circle.destroy();\r\n        Cell._circle = null;\r\n\r\n      }).start()\r\n  }\r\n\r\n  getTypeDestroyCircle(circle) {\r\n    this.destroyTipeColors[circle.CircleTypeColor]++;\r\n    // cc.log(this.destroyTipeColors[circle.CircleTypeColor]);\r\n    this.node.dispatchEvent(new cc.Event.EventCustom('setDestroyCirclesType_', true));\r\n  }\r\n\r\n}"]}