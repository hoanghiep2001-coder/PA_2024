window.__require=function t(o,n,e){function s(r,a){if(!n[r]){if(!o[r]){var c=r.split("/");if(c=c[c.length-1],!o[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};o[r][0].call(p.exports,function(t){return s(o[r][1][t]||t)},p,p.exports,t,o,n,e)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<e.length;r++)s(e[r]);return s}({AudioManager:[function(t,o,n){"use strict";cc._RF.push(o,"4c7cf9rDSJL36cJtz1lUze/","AudioManager");var e,s=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__decorate||function(t,o,n,e){var s,i=arguments.length,r=i<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(i<3?s(r):i>3?s(o,n,r):s(o,n))||r);return i>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.bgSound=null,o.drawSound=null,o.stunSound=null,o.naniSound=null,o}return s(o,t),o.prototype.playSound=function(t){if(r.Constants.ironSource.SoundState)switch(t){case"bgSound":this.bgSound.play();break;case"drawSound":this.drawSound.play();break;case"stunSound":this.stunSound.play();break;case"naniSound":this.naniSound.play()}},o.prototype.stopSound=function(t){switch(t){case"bgSound":this.bgSound.stop();break;case"drawSound":this.drawSound.stop();break;case"stunSound":this.stunSound.stop();break;case"naniSound":this.naniSound.stop()}},o.prototype.stopAllSound=function(){this.bgSound.stop(),this.drawSound.stop(),this.stunSound.stop(),this.naniSound.stop()},i([l(cc.AudioSource)],o.prototype,"bgSound",void 0),i([l(cc.AudioSource)],o.prototype,"drawSound",void 0),i([l(cc.AudioSource)],o.prototype,"stunSound",void 0),i([l(cc.AudioSource)],o.prototype,"naniSound",void 0),i([c],o)}(cc.Component);n.default=p,cc._RF.pop()},{"../Data/constants":"constants"}],GameController:[function(t,o,n){"use strict";cc._RF.push(o,"459a6fkmHFH5Z+5+z1O55SB","GameController");var e,s=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__decorate||function(t,o,n,e){var s,i=arguments.length,r=i<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(i<3?s(r):i>3?s(o,n,r):s(o,n))||r);return i>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameController=void 0;var r=t("../Data/constants"),a=t("../Plugin/AudioManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.AudioManager=null,o}return s(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){window.gameReady&&window.gameReady()},o.prototype.installHandle=function(){if(console.log("install"),r.Constants.ironSource.isEndGame=!0,this.AudioManager.stopAllSound(),window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.ANDROID?void mraid.open("https://play.google.com/store/apps/details?id=com.tvc.thiefpuzzle"):cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.IPHONE||cc.sys.os==cc.sys.IPAD?void mraid.open("https://itunes.apple.com/us/app/id1589022394?mt=8"):void mraid.open("https://play.google.com/store/apps/details?id=com.tvc.thiefpuzzle"):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},i([p(a.default)],o.prototype,"AudioManager",void 0),i([l],o)}(cc.Component);n.GameController=u,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(t,o,n){"use strict";cc._RF.push(o,"b1d34srP15JNoxtzOCtQ0oZ","GamePlay");var e,s=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__decorate||function(t,o,n,e){var s,i=arguments.length,r=i<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(i<3?s(r):i>3?s(o,n,r):s(o,n))||r);return i>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("../Plugin/AudioManager"),c=t("./GameController"),l=t("./GraphicsController"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.AudioManager=null,o.GameController=null,o.GraphicsController=null,o.Hand=null,o.CTA=null,o.CTA_Button=null,o.background=null,o.thieftDefault=null,o.guardDefault=null,o.guardDefault_Flag=null,o.thieftCTA=null,o.guardCTA=null,o.tree=null,o.glass=null,o.cage=null,o}return s(o,t),o.prototype.onLoad=function(){this.initPhysics()},o.prototype.start=function(){this.thieftCTA.active=!1,this.guardCTA.active=!1,this.guardDefault_Flag.active=!1},o.prototype.loseGame=function(){var t=this;r.Constants.isLoseGame=!0,this.AudioManager.stopSound(r.Constants.SoundTrack.drawSound),this.AudioManager.playSound(r.Constants.SoundTrack.naniSound),this.GraphicsController.getComponent(cc.Graphics).fillColor=cc.Color.RED,this.GraphicsController.getComponent(cc.Graphics).strokeColor=cc.Color.RED,this.GraphicsController.graphicsNodes.forEach(function(t){t.clear()}),r.Constants.isTouchPoint1&&(this.GraphicsController.graphicsNodes[1].fillColor=cc.Color.RED,this.GraphicsController.graphicsNodes[1].strokeColor=cc.Color.RED,this.GraphicsController.graphicsNodes[1].moveTo(r.Constants.pointA_Pos.x,r.Constants.pointA_Pos.y),this.GraphicsController.graphicsNodes[1].lineTo(r.Constants.point1Pos.x,r.Constants.point1Pos.y),this.GraphicsController.graphicsNodes[1].stroke(),this.GraphicsController.graphicsNodes[2].fillColor=cc.Color.RED,this.GraphicsController.graphicsNodes[2].strokeColor=cc.Color.RED,this.GraphicsController.graphicsNodes[2].moveTo(r.Constants.point1Pos.x,r.Constants.point1Pos.y),this.GraphicsController.graphicsNodes[2].lineTo(r.Constants.point5Pos.x,r.Constants.point5Pos.y),this.GraphicsController.graphicsNodes[2].stroke(),this.GraphicsController.graphicsNodes[6].fillColor=cc.Color.RED,this.GraphicsController.graphicsNodes[6].strokeColor=cc.Color.RED,this.GraphicsController.graphicsNodes[6].moveTo(r.Constants.point5Pos.x,r.Constants.point5Pos.y),this.GraphicsController.graphicsNodes[6].lineTo(r.Constants.point6Pos.x,r.Constants.point6Pos.y),this.GraphicsController.graphicsNodes[6].stroke()),this.guardDefault_Flag.active=!0,this.scheduleOnce(function(){r.Constants.ironSource.isEndGame=!0,t.AudioManager.playSound(r.Constants.SoundTrack.stunSound),t.guardDefault.active=!1,t.thieftDefault.active=!1,t.guardCTA.active=!0,t.thieftCTA.active=!0,t.Hand.active=!1,t.Hand.destroy(),t.GraphicsController.graphicsNodes.forEach(function(t){return t.clear()}),t.GraphicsController.getComponent(cc.Graphics).clear()},1.5),this.scheduleOnce(function(){t.CTA.getComponent(cc.Animation).play("CTA_Anim"),t.CTA_Button.on(cc.Node.EventType.TOUCH_START,t.GameController.installHandle,t)},2.5)},o.prototype.initPhysics=function(){cc.director.getPhysicsManager().enabled=!0;var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!0,t.enabledDrawBoundingBox=!0},o.prototype.update=function(){},i([d(a.default)],o.prototype,"AudioManager",void 0),i([d(c.GameController)],o.prototype,"GameController",void 0),i([d(l.default)],o.prototype,"GraphicsController",void 0),i([d(cc.Node)],o.prototype,"Hand",void 0),i([d(cc.Node)],o.prototype,"CTA",void 0),i([d(cc.Node)],o.prototype,"CTA_Button",void 0),i([d(cc.Node)],o.prototype,"background",void 0),i([d(cc.Node)],o.prototype,"thieftDefault",void 0),i([d(cc.Node)],o.prototype,"guardDefault",void 0),i([d(cc.Node)],o.prototype,"guardDefault_Flag",void 0),i([d(cc.Node)],o.prototype,"thieftCTA",void 0),i([d(cc.Node)],o.prototype,"guardCTA",void 0),i([d(cc.Node)],o.prototype,"tree",void 0),i([d(cc.Node)],o.prototype,"glass",void 0),i([d(cc.Node)],o.prototype,"cage",void 0),i([u],o)}(cc.Component);n.default=h,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./GraphicsController":"GraphicsController"}],GraphicsController:[function(t,o,n){"use strict";cc._RF.push(o,"d4c073bv1FK85YFJROX1Ttb","GraphicsController");var e,s=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__decorate||function(t,o,n,e){var s,i=arguments.length,r=i<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(i<3?s(r):i>3?s(o,n,r):s(o,n))||r);return i>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("./HandController"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.hand=null,o.graphicsNodes=[],o.graphics=null,o.handController=null,o}return s(o,t),o.prototype.start=function(){this.graphics=this.getComponent(cc.Graphics),this.handController=this.hand.getComponent(a.default)},o.prototype.handleDrawLine=function(t,o){r.Constants.newPoint&&(t=r.Constants.newPoint),this.graphics.clear(),this.graphics.lineWidth=7,this.graphics.moveTo(t.x,t.y),this.graphics.lineTo(o.x,o.y),this.graphics.stroke()},o.prototype.handleDrawWithTouchPoint=function(){!r.Constants.isTouchPoint1||r.Constants.isDrawPoint1?!r.Constants.isTouchPoint2||r.Constants.isDrawPoint2?!r.Constants.isTouchPoint3||r.Constants.isDrawPoint3?!r.Constants.isTouchPoint4||r.Constants.isDrawPoint4?!r.Constants.isTouchPoint5||r.Constants.isDrawPoint5?!r.Constants.isTouchPoint6||r.Constants.isDrawPoint6?!r.Constants.isTouchPoint7||r.Constants.isDrawPoint7||this.handleDrawOldLine(7):this.handleDrawOldLine(6):this.handleDrawOldLine(5):this.handleDrawOldLine(4):this.handleDrawOldLine(3):this.handleDrawOldLine(2):this.handleDrawOldLine(1)},o.prototype.handleDrawOldLine=function(t){switch(this.graphicsNodes[t-1].clear(),this.graphicsNodes[t-1].lineWidth=6,r.Constants.isLoseGame&&(this.graphicsNodes[t-1].fillColor=cc.Color.RED,this.graphicsNodes[t-1].strokeColor=cc.Color.RED),t){case 1:if(r.Constants.newPoint){r.Constants.isDrawPoint1=!0,this.graphicsNodes[t-1].moveTo(r.Constants.pointA_Pos.x,r.Constants.pointA_Pos.y);var o=r.Constants.point1Pos.x-15,n=r.Constants.point1Pos.y-15;this.graphicsNodes[t-1].quadraticCurveTo(o,n,r.Constants.point1Pos.x,r.Constants.point1Pos.y)}break;case 2:r.Constants.oldPoint&&(r.Constants.isDrawPoint2=!0,this.graphicsNodes[t-1].moveTo(this.handController.Apple_1_Points[0].x,this.handController.Apple_1_Points[0].y),this.graphicsNodes[t-1].quadraticCurveTo((this.handController.Apple_1_Points[1].x+this.handController.Apple_1_Points[0].x)/2,(this.handController.Apple_1_Points[1].y+this.handController.Apple_1_Points[0].y)/2+3,this.handController.Apple_1_Points[1].x,this.handController.Apple_1_Points[1].y));break;case 3:r.Constants.oldPoint&&(r.Constants.isDrawPoint3=!0,this.graphicsNodes[t-1].moveTo(this.handController.Apple_1_Points[1].x,this.handController.Apple_1_Points[1].y),o=(this.handController.Apple_1_Points[2].x+this.handController.Apple_1_Points[1].x)/2,n=(this.handController.Apple_1_Points[2].y+this.handController.Apple_1_Points[1].y)/2,this.graphicsNodes[t-1].quadraticCurveTo(o+6,n,this.handController.Apple_1_Points[2].x,this.handController.Apple_1_Points[2].y));break;case 4:r.Constants.oldPoint&&(r.Constants.isDrawPoint4=!0,this.graphicsNodes[t-1].moveTo(this.handController.Apple_1_Points[2].x,this.handController.Apple_1_Points[2].y),o=(this.handController.Apple_1_Points[2].x+this.handController.Apple_1_Points[3].x)/2,n=(this.handController.Apple_1_Points[2].y+this.handController.Apple_1_Points[3].y)/2,this.graphicsNodes[t-1].quadraticCurveTo(o,n-6,this.handController.Apple_1_Points[3].x,this.handController.Apple_1_Points[3].y));break;case 5:r.Constants.oldPoint&&(r.Constants.isDrawPoint5=!0,this.graphicsNodes[t-1].moveTo(this.handController.Apple_1_Points[3].x,this.handController.Apple_1_Points[3].y),o=(this.handController.Apple_1_Points[0].x+this.handController.Apple_1_Points[3].x)/2,n=(this.handController.Apple_1_Points[0].y+this.handController.Apple_1_Points[3].y)/2,this.graphicsNodes[t-1].quadraticCurveTo(o-6,n,this.handController.Apple_1_Points[0].x,this.handController.Apple_1_Points[0].y));break;case 6:r.Constants.oldPoint&&(r.Constants.isDrawPoint6=!0,this.graphicsNodes[t-1].moveTo(this.handController.Apple_1_Points[0].x,this.handController.Apple_1_Points[0].y),this.graphicsNodes[t-1].lineTo(this.handController.Apple_1_Points[4].x,this.handController.Apple_1_Points[4].y));break;case 7:r.Constants.oldPoint&&(r.Constants.isDrawPoint7=!0,this.graphicsNodes[t-1].moveTo(r.Constants.point5Pos.x,r.Constants.point5Pos.y),o=(r.Constants.point6Pos.x+r.Constants.point5Pos.x)/2,n=(r.Constants.point6Pos.y+r.Constants.point5Pos.y)/2,this.graphicsNodes[t-1].quadraticCurveTo(o,n+6,r.Constants.point6Pos.x,r.Constants.point6Pos.y))}this.graphicsNodes[t-1].stroke()},o.prototype.update=function(){this.handleDrawWithTouchPoint(),this.hand.active&&this.handleDrawLine(r.Constants.pointA_Pos,this.hand.getPosition())},i([p(cc.Node)],o.prototype,"hand",void 0),i([p([cc.Graphics])],o.prototype,"graphicsNodes",void 0),i([l],o)}(cc.Component);n.default=u,cc._RF.pop()},{"../Data/constants":"constants","./HandController":"HandController"}],HandController:[function(t,o,n){"use strict";cc._RF.push(o,"730b3Z1IwJDqI1WXeAS4N6z","HandController");var e,s=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__decorate||function(t,o,n,e){var s,i=arguments.length,r=i<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(i<3?s(r):i>3?s(o,n,r):s(o,n))||r);return i>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/Ultils"),a=t("../Data/constants"),c=t("./GamePlay"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.GamePlay=null,o.fakeHand=null,o.Line=null,o.Apple1=null,o.Apple2=null,o.PointA=null,o.Apple_1_Points=[],o.rigidBody=null,o.collide=null,o.targetPosition=null,o.speed=150,o.currentPosition=null,o}return s(o,t),o.prototype.onLoad=function(){this.reset()},o.prototype.start=function(){this.currentPosition=this.node.getPosition(),this.rigidBody=this.getComponent(cc.RigidBody),this.handleContact()},o.prototype.reset=function(){a.Constants.pointA_Pos=this.PointA.getPosition(),a.Constants.point1Pos=this.Apple_1_Points[0].getPosition(),a.Constants.point2Pos=this.Apple_1_Points[1].getPosition(),a.Constants.point3Pos=this.Apple_1_Points[2].getPosition(),a.Constants.point4Pos=this.Apple_1_Points[3].getPosition(),a.Constants.point5Pos=this.Apple_1_Points[4].getPosition(),a.Constants.point6Pos=this.Apple_1_Points[5].getPosition(),a.Constants.point7Pos=this.Apple_1_Points[5].getPosition(),a.Constants.point1Bdb=this.Apple_1_Points[0].getBoundingBox(),a.Constants.point2Bdb=this.Apple_1_Points[1].getBoundingBox(),a.Constants.point3Bdb=this.Apple_1_Points[2].getBoundingBox(),a.Constants.point4Bdb=this.Apple_1_Points[3].getBoundingBox()},o.prototype.handleContact=function(){var t=this;this.rigidBody.onBeginContact=function(o,n,e){1===e.tag&&(e.name.startsWith("apple_1")&&t.checkContactApple1(),e.name.startsWith("apple_2")&&t.checkContactApple2()),2===e.tag&&!a.Constants.isLoseGame&&t.GamePlay.getComponent(c.default).loseGame()}},o.prototype.checkContactApple1=function(){},o.prototype.checkContactApple2=function(){},o.prototype.handleRotateHand=function(){return a.Constants.isTouchPoint1&&a.Constants.isTouchPoint2?r.Ultils.Hand.rotateWithPoint(this.node.getPosition()):a.Constants.isTouchPoint1?r.Ultils.Hand.rotateWithPoint(this.node.getPosition()):r.Ultils.Hand.rotateDefault(this.node.getPosition())},o.prototype.move=function(){a.Constants.isCanMove?a.Constants.ironSource.isEndGame||(this.node.setPosition(a.Constants.currentLocalPosition),this.fakeHand.setPosition(a.Constants.currentLocalPosition),this.currentPosition=this.node.getPosition()):this.stop()},o.prototype.stop=function(){this.rigidBody.linearVelocity=new cc.Vec2(0,0),this.node.setPosition(this.currentPosition)},o.prototype.update=function(){this.node.angle=this.handleRotateHand(),(!a.Constants.isTouch||a.Constants.isLoseGame)&&this.stop()},i([u(cc.Node)],o.prototype,"GamePlay",void 0),i([u(cc.Node)],o.prototype,"fakeHand",void 0),i([u(cc.Node)],o.prototype,"Line",void 0),i([u(cc.Node)],o.prototype,"Apple1",void 0),i([u(cc.Node)],o.prototype,"Apple2",void 0),i([u(cc.Node)],o.prototype,"PointA",void 0),i([u([cc.Node])],o.prototype,"Apple_1_Points",void 0),i([p],o)}(cc.Component);n.default=d,cc._RF.pop()},{"../Data/Ultils":"Ultils","../Data/constants":"constants","./GamePlay":"GamePlay"}],Responsive:[function(t,o,n){"use strict";cc._RF.push(o,"d3abaWwEQhAi5Yf4wF9VZxN","Responsive");var e,s=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__decorate||function(t,o,n,e){var s,i=arguments.length,r=i<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(i<3?s(r):i>3?s(o,n,r):s(o,n))||r);return i>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Controller/GamePlay"),a=t("../Controller/HandController"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.GamePlay=null,o.HandController=null,o.device="",o.isRotate=!1,o.HORIZONTAL_IPX="horizontal_IPX",o.HORIZONTAL_TABLET="horizontal_Tablet",o.VERTICAL_IPX="vertical_IPX",o.VERTICAL_MOBILE="vertical_Mobile",o}return s(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){},o.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(this.isRotate=!0,this.setHorizontal()):(this.isRotate=!1,this.setVertical())},o.prototype.setHorizontal=function(){cc.view.getFrameSize().height/cc.view.getFrameSize().width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},o.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,this.GamePlay.cage.x=150,this.GamePlay.background.scale=.55)},o.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,this.GamePlay.cage.x=150,this.GamePlay.background.scale=.55)},o.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},o.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,this.GamePlay.cage.x=120,this.GamePlay.background.scale=.65)},o.prototype.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,cc.view.getFrameSize().height,cc.view.getFrameSize().width,this.GamePlay.cage.x=120,this.GamePlay.background.scale=.55)},o.prototype.update=function(){this.handleRotate()},i([p(r.default)],o.prototype,"GamePlay",void 0),i([p(a.default)],o.prototype,"HandController",void 0),i([l],o)}(cc.Component);n.default=u,cc._RF.pop()},{"../Controller/GamePlay":"GamePlay","../Controller/HandController":"HandController"}],TouchAreaController:[function(t,o,n){"use strict";cc._RF.push(o,"85711X2lIBGPIPjaJXFSYaE","TouchAreaController");var e,s=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])})(t,o)},function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__decorate||function(t,o,n,e){var s,i=arguments.length,r=i<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,n):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,n,e);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(i<3?s(r):i>3?s(o,n,r):s(o,n))||r);return i>3&&r&&Object.defineProperty(o,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TouchAreaController=void 0;var r=t("../Data/Ultils"),a=t("../Data/constants"),c=t("../Plugin/AudioManager"),l=t("./GameController"),p=t("./GraphicsController"),u=t("./HandController"),d=cc._decorator,h=d.ccclass,C=d.property,P=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.AudioManager=null,o.HandController=null,o.GameController=null,o.GraphicsController=null,o.HideMask=null,o.Line=null,o.Tutorial=null,o.fence=null,o.fenceLeft=null,o}return s(o,t),o.prototype.start=function(){},o.prototype.onLoad=function(){a.Constants.fencePoint=this.fence.getPosition(),this.HandController.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.HandController.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.HandController.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.HandController.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.HideMask.on(cc.Node.EventType.TOUCH_START,this.handleIronSourcePlaySound,this)},o.prototype.handleIronSourcePlaySound=function(){a.Constants.ironSource.isPlayBgSound||(a.Constants.ironSource.SoundState&&this.AudioManager.playSound(a.Constants.SoundTrack.bgSound),a.Constants.ironSource.isPlayBgSound=!0)},o.prototype.touchStart=function(t){a.Constants.isLoseGame||(this.Line.active=!1,a.Constants.isTouch=!0,this.Tutorial.active=!1,this.AudioManager.playSound(a.Constants.SoundTrack.drawSound),a.Constants.currentPosition=t.getLocation(),this.handleIronSourcePlaySound())},o.prototype.touchMove=function(t){!a.Constants.isLoseGame&&a.Constants.isCanMove&&(r.Ultils.TouchArea.checkTouchPoint(this.fence,this.HandController.fakeHand,this.fenceLeft),a.Constants.currentPosition=t.getLocation(),this.HandController.move(),r.Ultils.TouchArea.checkTouchCondition1(this.HandController.node,this.HandController.Apple_1_Points[0],this.GraphicsController.graphicsNodes[0],this.HandController.Apple_1_Points[1]),r.Ultils.TouchArea.checkTouchCondition6(this.HandController.node,this.HandController.Apple_1_Points[4],this.HandController.Apple_1_Points[0],this.GraphicsController.graphicsNodes[5]),r.Ultils.TouchArea.checkTouchCondition7(this.HandController.node),r.Ultils.TouchArea.checkTouchCondition8(this.HandController.node,this.GraphicsController.graphicsNodes[6]))},o.prototype.touchEnd=function(){a.Constants.isLoseGame||(a.Constants.isTouch=!1,this.AudioManager.stopSound(a.Constants.SoundTrack.drawSound),this.HandController.stop())},o.prototype.handleMuteSoundIronSource=function(){a.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),a.Constants.ironSource.State&&(1!==a.Constants.ironSource.State||a.Constants.ironSource.SoundState||a.Constants.ironSource.isEndGame||(a.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(a.Constants.SoundTrack.bgSound)),2===a.Constants.ironSource.State&&a.Constants.ironSource.SoundState&&(a.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},o.prototype.update=function(){this.handleMuteSoundIronSource()},i([C(c.default)],o.prototype,"AudioManager",void 0),i([C(u.default)],o.prototype,"HandController",void 0),i([C(l.GameController)],o.prototype,"GameController",void 0),i([C(p.default)],o.prototype,"GraphicsController",void 0),i([C(cc.Node)],o.prototype,"HideMask",void 0),i([C(cc.Node)],o.prototype,"Line",void 0),i([C(cc.Node)],o.prototype,"Tutorial",void 0),i([C(cc.Node)],o.prototype,"fence",void 0),i([C(cc.Node)],o.prototype,"fenceLeft",void 0),i([h],o)}(cc.Component);n.TouchAreaController=P,cc._RF.pop()},{"../Data/Ultils":"Ultils","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./GraphicsController":"GraphicsController","./HandController":"HandController"}],Ultils:[function(t,o,n){"use strict";cc._RF.push(o,"03f2ceupvBEfa9putmH215T","Ultils"),Object.defineProperty(n,"__esModule",{value:!0}),n.Ultils=void 0;var e=t("./constants"),s=cc._decorator,i=(s.ccclass,s.property,{rotateDefault:function(t){var o=new cc.Vec2(t.x,t.y).sub(e.Constants.pointA_Pos),n=Math.atan2(o.y,o.x);return cc.misc.radiansToDegrees(n)+20},rotateWithPoint:function(t){var o=new cc.Vec2(t.x,t.y).sub(e.Constants.newPoint),n=Math.atan2(o.y,o.x);return cc.misc.radiansToDegrees(n)+20}}),r={checkTouchCondition1:function(t,o,n,s){if(!(t.x>s.x&&t.y>s.y))return t.x<o.x&&!e.Constants.isTouchPoint2?(e.Constants.isDrawPoint1=!1,e.Constants.isTouchPoint1=!1,e.Constants.newPoint=e.Constants.pointA_Pos,void n.clear()):void(t.x>o.x&&t.y>o.y&&!e.Constants.isTouchPoint1&&(e.Constants.isTouchPoint1=!0,e.Constants.newPoint=o.getPosition()))},checkTouchCondition6:function(t,o,n,s){if(!e.Constants.isTouchPoint2&&!e.Constants.isTouchPoint3&&!e.Constants.isTouchPoint4){if(t.x<o.x&&e.Constants.isTouchPoint1)return s.clear(),e.Constants.isDrawPoint6=!1,void(e.Constants.isTouchPoint6=!1);t.x>o.x&&t.y>o.y&&e.Constants.isTouchPoint1&&(e.Constants.isTouchPoint6=!0,e.Constants.oldPoint=n.getPosition(),e.Constants.newPoint=o.getPosition())}if(e.Constants.isTouchPoint2&&e.Constants.isTouchPoint3&&e.Constants.isTouchPoint4){if(t.x<o.x)return s.clear(),e.Constants.isDrawPoint6=!1,e.Constants.isTouchPoint6=!1,e.Constants.oldPoint=e.Constants.point4Pos,void(e.Constants.newPoint=e.Constants.point1Pos);t.x>o.x&&t.y>o.y&&e.Constants.isTouchPoint1&&(e.Constants.isTouchPoint6=!0,e.Constants.oldPoint=n.getPosition(),e.Constants.newPoint=o.getPosition())}},checkTouchCondition7:function(t){e.Constants.isTouchPoint1&&t.x<e.Constants.point5Pos.x&&(e.Constants.oldPoint=e.Constants.pointA_Pos,e.Constants.newPoint=e.Constants.point1Pos)},checkTouchCondition8:function(t,o){if(e.Constants.isTouchPoint1&&e.Constants.isTouchPoint6){if(t.x<e.Constants.point6Pos.x&&e.Constants.isTouchPoint7)return o.clear(),e.Constants.isTouchPoint7=!1,e.Constants.isDrawPoint7=!1,e.Constants.oldPoint=e.Constants.point1Pos,void(e.Constants.newPoint=e.Constants.point5Pos);t.x>e.Constants.point6Pos.x&&(e.Constants.isTouchPoint7=!0,e.Constants.oldPoint=e.Constants.point5Pos,e.Constants.newPoint=e.Constants.point6Pos)}},checkTouchPoint:function(t,o,n){var s=t.getBoundingBox(),i=n.getBoundingBox(),r=o.getBoundingBox(),a=e.Constants.currentPosition.x-cc.winSize.width/2,c=e.Constants.currentPosition.y-cc.winSize.height/2;if(e.Constants.isTouchPoint6&&s.intersects(r)){if(c<e.Constants.point7Pos.y)return;return e.Constants.currentLocalPosition.x=e.Constants.currentPosition.x-cc.winSize.width/2,void(e.Constants.currentLocalPosition.y=e.Constants.currentPosition.y-cc.winSize.height/2)}if(s.intersects(r)){if(e.Constants.fencePoint.y>c)return;return e.Constants.fencePoint.y<c&&e.Constants.point2Pos.x>a?(e.Constants.currentLocalPosition.x=e.Constants.currentPosition.x-cc.winSize.width/2,void(e.Constants.currentLocalPosition.y=e.Constants.currentPosition.y-cc.winSize.height/2)):void(e.Constants.currentLocalPosition.y=e.Constants.currentPosition.y-cc.winSize.height/2)}return r.intersects(e.Constants.point3Bdb)||r.intersects(e.Constants.point4Bdb)?c<e.Constants.point3Pos.y&&a<e.Constants.point3Pos.x?(e.Constants.currentLocalPosition.x=e.Constants.currentPosition.x-cc.winSize.width/2,void(e.Constants.currentLocalPosition.y=e.Constants.currentPosition.y-cc.winSize.height/2)):void(e.Constants.currentLocalPosition.x=e.Constants.currentPosition.x-cc.winSize.width/2):i.intersects(r)?a<n.x?(e.Constants.currentLocalPosition.x=e.Constants.currentPosition.x-cc.winSize.width/2,void(e.Constants.currentLocalPosition.y=e.Constants.currentPosition.y-cc.winSize.height/2)):void(e.Constants.currentLocalPosition.y=e.Constants.currentPosition.y-cc.winSize.height/2):(e.Constants.currentLocalPosition.x=e.Constants.currentPosition.x-cc.winSize.width/2,void(e.Constants.currentLocalPosition.y=e.Constants.currentPosition.y-cc.winSize.height/2))}},a=function(){function t(){}return t.Hand=i,t.TouchArea=r,t}();n.Ultils=a,cc._RF.pop()},{"./constants":"constants"}],constants:[function(t,o,n){"use strict";cc._RF.push(o,"eaccb/69FZDu6rC4YmR+uAW","constants"),Object.defineProperty(n,"__esModule",{value:!0}),n.Constants=void 0;var e,s=cc._decorator;s.ccclass,s.property,function(t){t.touchStart="touchstart",t.touchMove="touchmove",t.touchEnd="touchend",t.touchCancel="touchcancel"}(e||(e={}));var i,r={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},a={calculated:0,currentDevice:""};(function(t){t.bgSound="bgSound",t.drawSound="drawSound",t.stunSound="stunSound",t.naniSound="naniSound"})(i||(i={}));var c=function(){function t(){}return t.pointA_Pos=new cc.Vec2(0,0),t.newPoint=null,t.oldPoint=null,t.currentPosition=new cc.Vec2(0,0),t.beforePosition=new cc.Vec2(0,0),t.currentLocalPosition=new cc.Vec2(0,0),t.isCanMove=!0,t.isRotate=!1,t.isTouch=!1,t.isCanDraw=!0,t.isLoseGame=!1,t.isTouchFence=!1,t.isTouchPoint1=!1,t.isTouchPoint2=!1,t.isTouchPoint3=!1,t.isTouchPoint4=!1,t.isTouchPoint5=!1,t.isTouchPoint6=!1,t.isTouchPoint7=!1,t.isDrawPoint1=!1,t.isDrawPoint2=!1,t.isDrawPoint3=!1,t.isDrawPoint4=!1,t.isDrawPoint5=!1,t.isDrawPoint6=!1,t.isDrawPoint7=!1,t.point1Pos=null,t.point2Pos=null,t.point3Pos=null,t.point4Pos=null,t.point5Pos=null,t.point6Pos=null,t.point7Pos=null,t.fencePoint=null,t.point1Bdb=null,t.point2Bdb=null,t.point3Bdb=null,t.point4Bdb=null,t.step=1,t.Event=e,t.SoundTrack=i,t.ironSource=r,t.Responsive=a,t}();n.Constants=c,cc._RF.pop()},{}]},{},["GameController","GamePlay","GraphicsController","HandController","TouchAreaController","Ultils","constants","AudioManager","Responsive"]);