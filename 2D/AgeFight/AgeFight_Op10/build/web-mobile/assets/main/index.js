window.__require=function t(e,n,i){function o(r,a){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!a&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({Army:[function(t,e,n){"use strict";cc._RF.push(e,"e890fnTUplJe5ZAPuR2b1Xy","Army");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Controller/TankController"),a=t("../Data/constants"),c=t("../Plugin/AudioManager"),h=cc._decorator,u=h.ccclass,d=h.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.HealthBar=null,e.AudioManager=null,e.spine=null,e.collider=null,e.skin="",e.speed=25,e.canRun=!0,e.isBase=!1,e.isLive=!0,e.isAttacking=!1,e.isReadyToFight=!1,e.pauseFlag=!1,e.rigidbody=null,e.collisionCount=0,e}var n;return o(e,t),n=e,e.prototype.start=function(){this.AudioManager=this.node.parent.parent.parent.parent.parent.parent.getChildByName("AudioManager").getComponent(c.default),this.spine=this.node.getChildByName("Spine").getComponent(sp.Skeleton),this.collider=this.getComponent(cc.BoxCollider),"ally"===this.skin&&this.goToTankPoint()},e.prototype.goToTankPoint=function(){var t=this,e=a.Constants.tank_TroopPoints[a.Constants.troopsSpawnLeftCount].convertToWorldSpaceAR(cc.Vec3.ZERO),n=this.node.parent.convertToNodeSpaceAR(e);a.Constants.troopsSpawnLeftCount-=1,cc.tween(this.node).to(1.5,{x:n.x,y:n.y}).call(function(){t.spine.setAnimation(0,a.Constants.ArmyAnim.Idle,!0)}).start()},e.prototype.onCollisionEnter=function(t,e){return"enemy"===this.skin&&20===t.tag?(this.collisionCount++,this.setCollisionForEnemy(t),void(this.canRun=!1)):1!==t.tag&&0!==t.tag&&2!==t.tag||9===e.tag?(9===t.tag&&(this.isReadyToFight=!0),void(this.collisionCount<0&&(this.collisionCount=0))):(this.collisionCount++,this.skin===a.Constants.ArmySkin.Ally&&this.setCollisionForAlly(t),this.skin===a.Constants.ArmySkin.Enemy&&this.setCollisionForEnemy(t),void(this.canRun=!1))},e.prototype.onCollisionStay=function(t,e){1!==t.tag&&0!==t.tag||9===e.tag||(this.canRun=!1)},e.prototype.onCollisionExit=function(t){9===t.tag&&(this.isReadyToFight=!1),this.isLive&&((1===t.tag||0===t.tag||2===t.tag||"enemy"===this.skin&&7===t.tag&&!this.isAttacking)&&(this.collisionCount--,0===this.collisionCount&&(this.canRun=!0,this.spine.setAnimation(0,a.Constants.ArmyAnim.Run,!0))),this.collisionCount<0&&(this.collisionCount=0))},e.prototype.setCollisionForAlly=function(t){0!==t.tag&&2!==t.tag||(this.canRun=!1,"Attack"!==this.spine.animation&&this.spine.setAnimation(0,a.Constants.ArmyAnim.Attack,!0),this.checkDoneAttackAnim(!1,t)),0===t.tag&&(this.isBase=!0)},e.prototype.setCollisionForEnemy=function(t){1!==t.tag&&2!==t.tag||(this.canRun=!1,"Attack"!==this.spine.animation&&this.spine.setAnimation(0,a.Constants.ArmyAnim.Attack,!0),this.checkDoneAttackAnim(!1,t)),20===t.tag&&(this.isAttacking=!0,this.canRun=!1,"Attack"!==this.spine.animation&&this.spine.setAnimation(0,a.Constants.ArmyAnim.Attack,!0),this.checkDoneAttackAnim(!0,t)),1===t.tag&&(this.isBase=!0)},e.prototype.checkDoneAttackAnim=function(t,e){var n=this;this.spine.setCompleteListener(function(i){"Attack"===i.animation.name&&(1!==e.tag&&e.node.getChildByName("Spine").getChildByName("Vfx_1").getComponent(cc.Animation).play(),t&&(e.getComponent(r.default).HealthBar.scaleX-=.05,"Army2_Lv1"===n.node.name&&n.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Kinife),"Army2_Lv2"===n.node.name&&n.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Gun)),n.isBase?n.handleDecreaseHealthBase():n.handleDecreaseHealthArmy())})},e.prototype.handleDecreaseHealthBase=function(){if("enemy"===this.skin&&"Army2_Lv2"===this.node.name)return a.Constants.AllyBaseHeal-=.1,void this.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Gun);"enemy"===this.skin&&"Army2_Lv1"===this.node.name&&(a.Constants.AllyBaseHeal-=.05,this.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Kinife))},e.prototype.handleDecreaseHealthArmy=function(){if("ally"===this.skin){if("Army2_Lv3"===this.node.name){this.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Tank);var t=this.node.getChildByName("Blast").getComponent(sp.Skeleton);return t.node.active=!0,t.setAnimation(0,"2",!1),void(a.Constants.enemyArmies[0].getComponent(n).HealthBar.scaleX-=1)}return"Army2_Lv2"===this.node.name?(a.Constants.enemyArmies[0].getComponent(n).HealthBar.scaleX-=.5,void this.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Gun)):(this.node.name,a.Constants.enemyArmies[0].getComponent(n).HealthBar.scaleX-=.3,void this.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Kinife))}return"Army2_Lv2"===this.node.name?(a.Constants.allyArmies[1].getComponent(n).HealthBar.scaleX-=.5,void this.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Gun)):"Army2_Lv1"===this.node.name?(a.Constants.allyArmies[1].getComponent(n).HealthBar.scaleX-=.3,void this.AudioManager.playSound(a.Constants.SoundTrack.Lv2_Kinife)):void 0},e.prototype.die=function(){this.node.getChildByName("Spine").getChildByName("Vfx_1").getComponent(cc.Animation).play(),this.node.getComponent(cc.Collider).enabled=!1,this.node.getComponent(cc.Collider).destroy(),this.node.getComponent(n).enabled=!1,"enemy"===this.skin?(a.Constants.enemyDie+=1,a.Constants.enemyArmies.splice(0,1)):a.Constants.allyArmies.splice(0,1)},e.prototype.checkDie=function(){var t=this;this.isLive=!1,this.spine.timeScale=.3,this.spine.setAnimation(0,a.Constants.ArmyAnim.Die,!1),this.HealthBar.active=!1,cc.tween(this.node).to(1,{opacity:0}).call(function(){return t.node.destroy()}).start(),this.die()},e.prototype.checkRun=function(){if(this.isLive){var t=null,e=null;if("enemy"===this.skin&&this.canRun){var n=this.node.getPosition();t=this.isReadyToFight?this.roadToEnemyPos(n,"enemy"):n,e=a.Constants.isRotate?new cc.Vec2(n.x-30-a.Constants.Responsive.speedCalculated,t.y):new cc.Vec2(n.x-20-a.Constants.Responsive.speedCalculated,t.y),this.node.setPosition(n.lerp(e,.02,n))}}},e.prototype.roadToEnemyPos=function(t,e){return"ally"===e?a.Constants.enemyArmies[0]?a.Constants.enemyArmies[0].getPosition():t:a.Constants.allyArmies[0]?a.Constants.allyArmies[0].getPosition():t},e.prototype.checkPause=function(){if(a.Constants.isPauseGame&&(this.canRun=!1),a.Constants.isPauseGame&&!this.pauseFlag)return this.canRun=!1,this.collider.enabled=!1,this.pauseFlag=!0,void this.spine.setAnimation(0,a.Constants.ArmyAnim.Idle,!0);a.Constants.isPauseGame||(this.pauseFlag=!1)},e.prototype.update=function(){this.checkPause(),this.HealthBar.scaleX<=.1&&this.isLive&&this.checkDie(),this.checkRun()},s([d(cc.Node)],e.prototype,"HealthBar",void 0),n=s([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Controller/TankController":"TankController","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"4c7cf9rDSJL36cJtz1lUze/","AudioManager");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=cc._decorator,c=a.ccclass,h=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgSound=null,e.clickSound=null,e.buySound=null,e.coinSound=null,e.failSound=null,e.winSound=null,e.Lv2_Kinife=null,e.Lv2_Gun=null,e.Lv2_Tank=null,e.Bg_Attack=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.playSound=function(t){this.normalNetwork(t)},e.prototype.normalNetwork=function(t){if(r.Constants.ironSource.SoundState&&!r.Constants.ironSource.isEndGame)switch(t){case"bgSound":this.bgSound.play();break;case"Bg_Attack":this.Bg_Attack.play();break;case"clickSound":this.clickSound.play();break;case"buySound":this.buySound.play();break;case"coinSound":this.coinSound.play();break;case"failSound":this.failSound.play();break;case"winSound":this.winSound.play();break;case"Lv2_Kinife":this.Lv2_Kinife.play();break;case"Lv2_Gun":this.Lv2_Gun.play();break;case"Lv2_Tank":this.Lv2_Tank.play()}},e.prototype.stopSound=function(t){switch(t){case"bgSound":this.bgSound.stop();break;case"Bg_Attack":this.Bg_Attack.stop();break;case"clickSound":this.clickSound.stop();break;case"buySound":this.buySound.stop();break;case"coinSound":this.coinSound.stop();break;case"failSound":this.failSound.stop();break;case"winSound":this.winSound.stop();break;case"Lv2_Kinife":this.Lv2_Kinife.stop();break;case"Lv2_Gun":this.Lv2_Gun.stop();break;case"Lv2_Tank":this.Lv2_Tank.stop()}},e.prototype.stopAllSound=function(){this.Lv2_Kinife.stop(),this.Lv2_Gun.stop(),this.Lv2_Tank.stop(),this.bgSound.stop(),this.clickSound.stop(),this.buySound.stop(),this.coinSound.stop(),this.Bg_Attack.stop()},s([h(cc.AudioSource)],e.prototype,"bgSound",void 0),s([h(cc.AudioSource)],e.prototype,"clickSound",void 0),s([h(cc.AudioSource)],e.prototype,"buySound",void 0),s([h(cc.AudioSource)],e.prototype,"coinSound",void 0),s([h(cc.AudioSource)],e.prototype,"failSound",void 0),s([h(cc.AudioSource)],e.prototype,"winSound",void 0),s([h(cc.AudioSource)],e.prototype,"Lv2_Kinife",void 0),s([h(cc.AudioSource)],e.prototype,"Lv2_Gun",void 0),s([h(cc.AudioSource)],e.prototype,"Lv2_Tank",void 0),s([h(cc.AudioSource)],e.prototype,"Bg_Attack",void 0),s([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],BaseController:[function(t,e,n){"use strict";cc._RF.push(e,"ff0ebeMo+dPNqttw4fwK25C","BaseController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("../Plugin/AudioManager"),c=t("./GamePlay"),h=cc._decorator,u=h.ccclass,d=h.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.GamePlay=null,e.baseLose=null,e.HealthBar=null,e.baseSide="",e.baseLv2=null,e.rigidbody=null,e.collider=null,e.isUpgrade=!1,e}return o(e,t),e.prototype.start=function(){"Player"===this.baseSide&&(this.baseLv2=this.node.getChildByName("base").getChildByName("baseLv2"))},e.prototype.update=function(){"Player"!==this.baseSide||r.Constants.isHasResult||(this.HealthBar.scaleX<.05&&(r.Constants.isHasResult=!0,r.Constants.isPauseGame=!0,r.Constants.isLoose=!0,this.HealthBar.active=!1,this.baseLose.active=!0,this.node.getChildByName("base").getChildByName("baseLv2").active=!1,this.node.getChildByName("base").getChildByName("HealBar").active=!1,this.GamePlay.CTA.active=!0),this.HealthBar.scaleX=r.Constants.AllyBaseHeal),"Enemy"!==this.baseSide||r.Constants.isHasResult||(this.HealthBar.scaleX<.05&&(r.Constants.isHasResult=!0,r.Constants.isPauseGame=!0,this.baseLose.active=!0,this.HealthBar.active=!1,this.node.getChildByName("base").getComponent(cc.Sprite).enabled=!1,this.node.getChildByName("base").getChildByName("HealBar").active=!1,this.GamePlay.CTA.active=!0),this.HealthBar.scaleX=r.Constants.EnemyBaseHeal),"Player"===this.baseSide&&r.Constants.isUpgrade&&!this.isUpgrade&&(this.isUpgrade=!0,this.node.getChildByName("base").getComponent(cc.Sprite).enabled=!1,this.baseLv2.active=!0)},s([d(a.default)],e.prototype,"AudioManager",void 0),s([d(c.default)],e.prototype,"GamePlay",void 0),s([d(cc.Node)],e.prototype,"baseLose",void 0),s([d(cc.Node)],e.prototype,"HealthBar",void 0),s([d(cc.String)],e.prototype,"baseSide",void 0),s([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GamePlay":"GamePlay"}],Blast03:[function(t,e,n){"use strict";cc._RF.push(e,"ba13b1+ZGRDBreFbcJxA0E+","Blast03"),function(t,i){if("object"==typeof n&&void 0!==e)e.exports=i();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Blast03=i()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Blast03=i()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,n=function t(e,n){this.Ld=e,this.Bd=n,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};n.prototype={Ec:function(e,n,i){var o=t.ib(i.Md),s=Math.cos(o),r=Math.sin(o),a=t.Ae(i.Nd[0]),c=t.Ae(i.Nd[1]);e.transform(a*s,a*r,c*-r,c*s,n[0],n[1])},Fc:function(e,n,i){var o=i.Mc,s=2*o[2]*o[2],r=2*o[0]*o[1],a=2*o[3]*o[2],c=t.Ae(i.Nd[0]),h=t.Ae(i.Nd[1]);e.transform(c*(1-2*o[1]*o[1]-s),c*(r+a),h*(a-r),h*(2*o[0]*o[0]+s-1),n[0],n[1])},Pc:function(e,n,i){if(n.vc(e,-1,i),this.we&&null!=this.Be&&!n.oc&&n.Od>.001){var o=Math.floor(n.Qc%this.we.Rc),s=Math.floor(n.Qc/this.we.Rc),r=n.Ab.slice(),a=n.Nd.slice();if(!i||i.transform(r,a)){var c=Math.abs(a[0]),h=Math.abs(a[1]);if(c>.001&&h>.001){if(e.save(),this.Lc(e,r,n),e.translate(-c*n.Pd[0],-h*(1-n.Pd[1])),e.globalAlpha*=n.Od,n.gf[0]<.999||n.gf[1]<.999||n.gf[2]<.999){if(c>=1&&h>=1){var u=c<this.Tc?c:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(n.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,c,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,c,h);e.restore()}}}n.vc(e,1,i)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var n=0;n<this.Bd.tc.length;++n)this.Pc(t,this.Bd.tc[n],e);break;case 1:for(n=this.Bd.tc.length;n-- >0;)this.Pc(t,this.Bd.tc[n],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),n=0;n<this.Bd.tc.length;++n)this.Pc(t,this.Bd.tc[n],e)}t.restore()}};var i=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};i.prototype={qe:function(e,n,i,o,s){if(e.Ce(-1,n,i,o,s),this.we&&!e.oc){var r=this.vertex[0],a=this.vertex[1],c=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var l=t.ib(e.Md),p=-Math.sin(l),f=Math.cos(l);u[0]=n[0]*f+i[0]*p,u[1]=n[1]*f+i[1]*p,u[2]=n[2]*f+i[2]*p,d[0]=-n[0]*p+i[0]*f,d[1]=-n[1]*p+i[1]*f,d[2]=-n[2]*p+i[2]*f}else{var _=e.Mc,b=2*_[2]*_[2],y=2*_[0]*_[1],v=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=y+v,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=y-v,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var m=[],g=[],C=[],A=[];t.u(m,u,-e.Nd[0]*e.Pd[0]),t.u(g,u,e.Nd[0]*(1-e.Pd[0])),t.u(C,d,-e.Nd[1]*e.Pd[1]),t.u(A,d,e.Nd[1]*(1-e.Pd[1])),t.c(r.position,m,C),t.c(r.position,r.position,e.Ab),t.c(a.position,m,A),t.c(a.position,a.position,e.Ab),t.c(c.position,g,A),t.c(c.position,c.position,e.Ab),t.c(h.position,g,C),t.c(h.position,h.position,e.Ab);var x=t.v(e.gf,255);r.color=a.color=c.color=h.color=[x[0],x[1],x[2],255*e.Od];var w,S,B=Math.floor(e.Qc%this.we.Rc),R=Math.floor(e.Qc/this.we.Rc),T=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(T)var P=T.width/this.we.Rc,M=T.height/this.we.Sc,L=(w=T.x+B*P)+P,O=(S=T.y+T.height-R*M)-M;else L=(w=B*(P=1/this.we.Rc))+P,O=(S=1-R*(M=1/this.we.Sc))-M;if(r.texCoords[0]=[w,O],a.texCoords[0]=[w,S],c.texCoords[0]=[L,S],h.texCoords[0]=[L,O],s.beforeQuad&&s.beforeQuad(this.we.renderStyleIndex),s.pushVertex(r),s.pushVertex(a),s.pushVertex(c),s.pushVertex(h),s.__lastRenderCall){var N=s.__lastRenderCall;N.renderStyleIndex==this.we.renderStyleIndex?N.numIndices+=6:(s.pushRenderCall(N),s.__lastRenderCall=new t.RenderCall(N.startIndex+N.numIndices,6,this.we.renderStyleIndex))}else s.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,n,i,o,s)},ue:function(e,n,i,o){switch(this.Bd.Vc){case 0:for(var s=0;s<this.Bd.tc.length;++s)this.qe(this.Bd.tc[s],e,n,i,o);break;case 1:for(s=this.Bd.tc.length;s-- >0;)this.qe(this.Bd.tc[s],e,n,i,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(i,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,n,i,o)},this)}}};var o=function e(n,i,o){var s=this;function r(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function a(){this.Gb=1,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function c(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=n,this.we=i,r.prototype={Jd:function(){this.Nb()},Id:function(e,i,o){s.we.Pb(e,s,this);var r=s.Rb,a=n.Rb,c=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(c-=d,r+=d,a+=d,null!=this.Hb&&r>this.Hb){s.disactivate();break}s.Rb=r,n.Rb=a,i&&e>0&&t.ab(s.Ab,i,s.Bb,c/e),o&&e>0&&t.slerpq(s.Mc,o,s.prevRotation,c/e),this.Lb=this.Jb;for(var l=0;l<this.Jb&&0!=s.sc.length;++l){1==this.Jb?this.Kb=0:this.Kb=l/(this.Jb-1);var p=s.sc.pop();s.tc.unshift(p),0==l?p.Yb():p.Zb(),p.Id(c),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){s.disactivate();break}}this.Ob=u}return r+=c,s.Rb=r,i&&t.T(s.Ab,i),o&&t.U(s.Mc,o),h}},a.prototype={Jd:function(){this.Nb()},Id:function(e,i,o){s.we.Pb(e,s,this);var r=s.Rb,a=r+e,c=n.Rb,h=c+e,u=i?t.O(t.h(i,s.Bb)):0,d=0;if(u>1e-6){for(var l=u/this.rd,p=this.bc+l,f=l<.001?1-this.bc:(1-this.bc)/l,_=[];p>1;){var b=r+f*e;i&&t.ab(_,s.Bb,i,f),s.Rb=b,t.T(s.Ab,_),n.Rb=t.X(c,h,f),this.Lb=this.Jb;for(var y=0;y<this.Jb&&0!=s.sc.length;++y){1==this.Jb?this.Kb=0:this.Kb=y/(this.Jb-1);var v=s.sc.pop();s.tc.unshift(v),0==y?v.Yb():v.Zb(),v.Id(e*(1-f)),++d}f+=1/l,p-=1}this.bc=p}return s.Rb=a,i&&t.T(s.Ab,i),o&&t.U(s.Mc,o),d}},c.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){s.we.fd(s,this),this.nc()},Zb:function(){s.we.gd(s,this),this.nc()},Id:function(t){s.we.qc(t,s,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,i){this.Kc.push({Bd:new e(n,t,o),Ad:i})},vc:function(t,e,n){for(var i=0;i<this.Kc.length;++i){var o=this.Kc[i];e==o.Ad.xc&&o.Bd.Hd(t,n)}},Ce:function(t,e,n,i,o){for(var s=0;s<this.Kc.length;++s){var r=this.Kc[s];t==r.Ad.xc&&r.Bd.ue(e,n,i,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return s.we.Cc(s,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new r},this.ed=function(){this.vd=new a},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new c,l=0;l<this.Yc.length;++l){var p=this.Yc[l];d.uc(p.Db,p.Ad)}this.sc.push(d)}this.Nb=function(e,n){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,n||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,n,i){if(this.paused_)this.Td(n,i);else{if(this.wd=this.Rb,n)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,n,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var s;i&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?s=this.vd.Id(e,n,i):(n&&t.T(this.Ab,n),i&&t.U(this.Mc,i),s=0,this.Rb+=e);for(var r=s;r<this.tc.length;){var a=this.tc[r];if(a.oc){if(a.rc(e),this.xd(r))continue}else if(a.Id(e),this.Wc.Ac(this.tc[r])&&(a.wc(),this.xd(r)))continue;++r}}},o.prototype.xd=function(t){for(var e=this.tc[t],n=!0,i=0;i<e.Kc.length;++i){var o=e.Kc[i].Bd;if(o.activated()||o.tc.length>0){n=!1;break}}return!!n&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,n,i){this.construct.ue(t,e,n,i)},o.prototype.Td=function(e,n){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),n&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,n))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var s=function(){this._init=function(e,n,i,s,r){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,s);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,n){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,n||[0,0,0,1])},this.Nb(n,i),this.model.qd(this),this._presimNeeded=!0,r.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),r.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,n,i,this.presimFrameTime),this._presimNeeded=!1)}};s.prototype.restart=function(t,e,n){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var i=0;i<this.od.length;++i)this.od[i].Jd(this.Ab,this.Mc);this._presimNeeded=!0,n&&n.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),n&&n.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},s.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},s.prototype.update=function(t,e,n){this.Dd>0?this.updateFixed(t,e,n,this.Dd):this.updateFlex(t,e,n)},s.prototype.updateFixed=function(e,n,i,o){var s=0,r=[];t.T(r,this.Ab);var a=[];for(t.U(a,this.Mc),n&&t.equalv3_(n,this.Ab)&&(n=null),i&&t.equalq_(i,this.Mc)&&(i=null);e-s+this.Cd>=o;){var c=this.Rb;n&&t.ab(r,this.Ab,n,s/e),i&&t.slerpq(a,this.Mc,i,s/e);for(var h=0;h<this.od.length;++h)this.od[h].Id(o,r,a),this.Rb=c;s+=o-this.Cd,this.Cd=0,this.Rb=c+o}n&&t.T(this.Ab,n),i&&t.U(this.Mc,i),this.Cd+=e-s},s.prototype.updateFlex=function(e,n,i){for(var o=this.Rb,s=0;s<this.od.length;++s)this.od[s].Id(e,n,i),this.Rb=o;this.Rb=o+e,n&&t.T(this.Ab,n),i&&t.U(this.Mc,i)},s.prototype.resetPosition=function(e,n){e&&t.T(this.Ab,e),n&&t.U(this.Mc,n);for(var i=0;i<this.od.length;++i)this.od[i].Td(this.Ab,this.Mc)},s.prototype.setPropertyInAllEmitters=function(e,n){var i="_".concat(e);if(n instanceof Array)if(2==n.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][i],n);else for(o=0;o<this.od.length;++o)t.T(this.od[o][i],n);else for(o=0;o<this.od.length;++o)this.od[o][i]=n},s.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},s.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},s.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},s.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},s.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},s.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},s.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var r=function t(){this._init=function(e,n,o,s,r){t.prototype._init.call(this,e,n,o,i,r),this.texturesRemap=[];for(var a,c=[],h=0;h<this.model.Xe;++h)a=4*h,c.push(a+0,a+3,a+1,a+1,a+3,a+2);this.renderBuffer=s,this.renderBuffer.initialize(4*this.model.Xe,[2],c,this.model.Xe),this.renderBuffer.__numIndices=0}};(r.prototype=new s).fillGeometryBuffers=function(t,e,n){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(i){i.ue(t,e,n,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var a=function t(){this._init=function(e,i,o,s){t.prototype._init.call(this,e,i,o,n,s),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function c(){var n,i,o,s,r,a,c,h,u,d,l,p,f,_=[],b=[],y=[],v=[],m=[],g=[],C=[],A=[],x=[],w=[];this.pe=[{xe:0,Rc:8,Sc:8,renderStyleIndex:0}],this.name="Blast",this.ud=function(t){t._=[[[20,20,20],[0,0,0]]],t.dd(),t._9=[[[1,1,1]],[[.319595,.635811,.635811]],[[.208108,.208108,.208108]]],t._15=[[[0,1,1],[1,1,1],[1,0,0]]],t._16=[[[0,64,64]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=10,t.Gb=1,t.Jb=1},this.Pb=function(o,s,r){(i=s.Ld.Rb<0?0:s.Ld.Rb>4?0+(s.Ld.Rb-0)%4:s.Ld.Rb)<.6?t.V(_,0,1.66667*(i-0)):t.V(_,1,.294118*(i-.6)),n=e.nb(s._[0][_[0]],_[1]),r.zb=n},this.fd=function(n,i){i._1=0,t.W(b,0,0,0),i._3=[],t.c(i._3,n.Ab,b),t.randv3gen(y,32,n.Ld.rand),i._5=[],t.T(i._5,y),o=0+360*n.Ld.rand(),i._7=o,s=0+1*n.Ld.rand(),r=s<0?0:s>1?1:s,t.V(m,0,1*(r-0)),a=s<0?0:s>1?1:s,t.V(g,0,1*(a-0)),c=s<0?0:s>1?1:s,t.V(C,0,1*(c-0)),t.W(v,e.nb(n._9[0][m[0]],m[1]),e.nb(n._9[1][g[0]],g[1]),e.nb(n._9[2][C[0]],C[1])),i._10=[],t.T(i._10,v),t.T(i.Ab,i._3)},this.gd=function(n,i){i._1=0,t.W(b,0,0,0),i._3=[],t.c(i._3,n.Ab,b),t.randv3gen(y,32,n.Ld.rand),i._5=[],t.T(i._5,y),o=0+360*n.Ld.rand(),i._7=o,s=0+1*n.Ld.rand(),r=s<0?0:s>1?1:s,t.V(m,0,1*(r-0)),a=s<0?0:s>1?1:s,t.V(g,0,1*(a-0)),c=s<0?0:s>1?1:s,t.V(C,0,1*(c-0)),t.W(v,e.nb(n._9[0][m[0]],m[1]),e.nb(n._9[1][g[0]],g[1]),e.nb(n._9[2][C[0]],C[1])),i._10=[],t.T(i._10,v),t.T(i.Ab,i._3)},this.qc=function(n,i,o){o._1+=n,t.T(A,o._5),t.u(A,A,n),t.c(A,A,o._3),t.T(o._3,A),t.T(o.Ab,o._3),h=1.2,u=o._1/h,(l=u<0?0:u>1?1:u)<.8?l<.2?t.V(x,0,5*(l-0)):t.V(x,1,1.66667*(l-.2)):t.V(x,2,5*(l-.8)),d=e.nb(i._15[0][x[0]],x[1]),f=u<0?0:u>1?0+(u-0)%1:u,t.V(w,0,1*(f-0)),p=e.nb(i._16[0][w[0]],w[1]),t.S(o.Pd,[.5,.5]),o.Md=o._7,t.V(o.Nd,123,123),t.T(o.gf,o._10),o.Od=d,o.Qc=p<0?0:p>=64?63:p},this.Cc=function(t,e){return h=1.2,e._1>h}}function h(){var n,i,o,s,r,a,c,h=[],u=[],d=[];this.pe=[{xe:0,Rc:1,Sc:1,renderStyleIndex:1}],this.name="Shockwave",this.ud=function(t){t.dd(),t._7=[[[0,.0479595,.10855,.179953,.259913,.345832,.434909,.524314,.611351,.693599,.769009,.835944,.893186,.9399,.975581,1,1]]],t._9=[[[.3,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=.25,t.Gb=1,t.Jb=1},this.Pb=function(t,e,n){n.zb=.25},this.fd=function(e,n){n._=0,t.W(h,0,0,0),n._2=[],t.c(n._2,e.Ab,h),n._3=0,t.T(n.Ab,n._2)},this.gd=function(e,n){n._=0,t.W(h,0,0,0),n._2=[],t.c(n._2,e.Ab,h),n._3=0,t.T(n.Ab,n._2)},this.qc=function(h,l,p){p._+=h,t.T(p.Ab,p._2),n=.7,i=p._/n,s=i<0?0:i>1?1:i,t.V(u,0,15*(s-0)),o=e.nb(l._7[0][u[0]],u[1]),r=800*o,c=i<0?0:i>1?1:i,t.V(d,0,1*(c-0)),a=e.nb(l._9[0][d[0]],d[1]),t.S(p.Pd,[.5,.5]),p.Md=p._3,t.V(p.Nd,r,r),t.T(p.gf,[1,1,1]),p.Od=a,p.Qc=0},this.Cc=function(t,e){return n=.7,e._>n}}function u(){var n,i,o,s,r,a,c,h,u,d,l,p,f,_,b,y=[],v=[],m=[],g=[],C=[],A=[],x=[],w=[],S=[],B=[],R=[],T=[],P=[],M=[],L=[],O=[],N=[],I=[],F=[],k=[],E=[],V=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:2}],this.name="Sparks",this.ud=function(t){t.dd(),t._16=[[[1,.987913,.968473,.94168,.907511,.86592,.816832,.760139,.695691,.623292,.542683,.453525,.355376,.24765,.129556,0,0]],[[1,.986913,.966618,.938898,.903549,.860389,.809266,.750071,.682749,.607317,.523887,.432682,.334064,.228563,.116897,0,0]]],t._18=[[[1,1,1]],[[1,.7,.7]],[[1,.379741,.379741]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=.25,t.Gb=1,t.Jb=40},this.Pb=function(t,e,n){n.zb=.25},this.fd=function(e,r){r.Mc=[],r._=0,n=.5+1*e.Ld.rand(),r._2=n,t.W(y,0,0,0),r._4=[],t.c(r._4,e.Ab,y),i=100+900*e.Ld.rand(),t.randv3gen(v,i,e.Ld.rand),r._7=[],t.T(r._7,v),o=5+10*e.Ld.rand(),s=10+20*e.Ld.rand(),t.V(m,o,s),r._11=[],t.S(r._11,m),t.T(r.Ab,r._4)},this.gd=function(e,r){r.Mc=[],r._=0,n=.5+1*e.Ld.rand(),r._2=n,t.W(y,0,0,0),r._4=[],t.c(r._4,e.Ab,y),i=100+900*e.Ld.rand(),t.randv3gen(v,i,e.Ld.rand),r._7=[],t.T(r._7,v),o=5+10*e.Ld.rand(),s=10+20*e.Ld.rand(),t.V(m,o,s),r._11=[],t.S(r._11,m),t.T(r.Ab,r._4)},this.qc=function(n,i,o){for(o._+=n,t.W(g,0,100,0),t.T(C,g),t.T(A,[0,0,0]),a=n,t.T(S,o._7),t.T(B,o._4);a>1e-4;)c=a,t.T(R,C),t.g(x,A,S),(r=t.P(x))>1e-4&&(r=Math.sqrt(r),t.w(w,x,r),(h=.01*r)*c>.2&&(c=.2/h),t.c(R,R,t.v(w,r*h))),t.c(S,S,t.v(R,c)),t.c(B,B,t.v(S,c)),a-=c;t.T(o._4,B),t.T(o._7,S),t.T(o.Ab,o._4),t.Q(L,[0,0,1]),t.I(P,o._7,L),t.Q(P,P),t.I(M,L,P),t.pb(T,P,M,L),u=o._/o._2,d=u<0?0:u>1?1:u,t.V(N,0,15*(d-0)),l=u<0?0:u>1?1:u,t.V(I,0,15*(l-0)),t.V(O,e.nb(i._16[0][N[0]],N[1]),e.nb(i._16[1][I[0]],I[1])),p=t.j(o._11,O),f=u<0?0:u>1?1:u,t.V(k,0,1*(f-0)),_=u<0?0:u>1?1:u,t.V(E,0,1*(_-0)),b=u<0?0:u>1?1:u,t.V(V,0,1*(b-0)),t.W(F,e.nb(i._18[0][k[0]],k[1]),e.nb(i._18[1][E[0]],E[1]),e.nb(i._18[2][V[0]],V[1])),t.S(o.Pd,[.5,.5]),t.U(o.Mc,T),t.S(o.Nd,p),t.T(o.gf,F),o.Od=1,o.Qc=0},this.Cc=function(t,e){return e._>e._2}}function d(){var n,i,o,s,r=[],a=[];this.pe=[{xe:0,Rc:1,Sc:1,renderStyleIndex:3}],this.name="Blast_Core",this.ud=function(t){t.dd(),t._7=[[[0,.252391,.413907,.536299,.633869,.713413,.778892,.832889,.877221,.91323,.941945,.964184,.980605,.991755,.99809,1,1],[1,.994276,.979138,.955237,.923054,.882925,.835057,.779525,.716271,.645085,.565564,.477047,.378502,.268299,.143747,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=.25,t.Gb=1,t.Jb=1},this.Pb=function(t,e,n){n.zb=.25},this.fd=function(e,n){n._=0,t.W(r,0,0,0),n._2=[],t.c(n._2,e.Ab,r),n._3=0,t.T(n.Ab,n._2)},this.gd=function(e,n){n._=0,t.W(r,0,0,0),n._2=[],t.c(n._2,e.Ab,r),n._3=0,t.T(n.Ab,n._2)},this.qc=function(r,c,h){h._+=r,t.T(h.Ab,h._2),n=.5,i=h._/n,(s=i<0?0:i>1?1:i)<.2?t.V(a,0,75*(s-0)):t.V(a,1,18.75*(s-.2)),o=e.nb(c._7[0][a[0]],a[1]),t.S(h.Pd,[.5,.5]),h.Md=h._3,t.V(h.Nd,200,200),t.T(h.gf,[1,.912,.713]),h.Od=o,h.Qc=0},this.Cc=function(t,e){return n=.5,e._>n}}function l(){var n,i,o,s,r,a,c,h=[],u=[],d=[],l=[];this.pe=[{xe:0,Rc:1,Sc:1,renderStyleIndex:4}],this.name="Smoke",this.ud=function(t){t.dd(),t._14=[[[0,.00132173,.00435881,.00908884,.0154361,.023256,.0323214,.0423132,.0528225,.0633654,.073415,.0824432,.0899658,.0955805,.0989885,.1,.1],[.1,.098408,.0943513,.0880255,.079805,.0702197,.059887,.0494209,.0393534,.0300894,.0219008,.0149435,.00928552,.00493396,.00185696,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=.25,t.Gb=.85,t.Jb=15},this.Pb=function(t,e,n){n.zb=.25},this.fd=function(e,o){o._=0,t.randv3gen(h,50,e.Ld.rand),o._2=[],t.c(o._2,e.Ab,h),t.randv3gen(u,20,e.Ld.rand),o._4=[],t.T(o._4,u),n=0+360*e.Ld.rand(),o._6=n,i=90*e.Ld.rand()-45,o._8=i,t.T(o.Ab,o._2)},this.gd=function(e,o){o._=0,t.randv3gen(h,50,e.Ld.rand),o._2=[],t.c(o._2,e.Ab,h),t.randv3gen(u,20,e.Ld.rand),o._4=[],t.T(o._4,u),n=0+360*e.Ld.rand(),o._6=n,i=90*e.Ld.rand()-45,o._8=i,t.T(o.Ab,o._2)},this.qc=function(n,i,h){h._+=n,t.T(d,h._4),t.u(d,d,n),t.c(d,d,h._2),t.T(h._2,d),o=h._6+n*h._8,h._6=o,t.T(h.Ab,h._2),s=3,r=h._/s,(c=r<0?0:r>1?1:r)<.4?t.V(l,0,37.5*(c-0)):t.V(l,1,25*(c-.4)),a=e.nb(i._14[0][l[0]],l[1]),t.S(h.Pd,[.5,.5]),h.Md=h._6,t.V(h.Nd,100,100),t.T(h.gf,[.4,.4,.4]),h.Od=a,h.Qc=0},this.Cc=function(t,e){return s=3,e._>s}}(a.prototype=new s).draw=function(t,e){for(var n=0;n<this.od.length;++n)this.od[n].Hd(t,e)},this.createWGLInstance=function(t,e,n,i){var o=new r;return o._init(this,t,e,n,i||{}),o},this.createCanvas2DInstance=function(t,e,n){var i=new a;return i._init(this,t,e,n||{}),i},this.textures=["Free Collection 1/Animated/FlameArc8_small.jpg","Free Collection 1/Static/Halos/blastwave1.png","Free Collection 1/Static/Glows/Flare2.png","Free Collection 1/Static/Glows/Flare10.png","Free Collection 1/Static/Smoke/CloudPart.png"],this.materials=[1,0],this.renderStyles=[{materialIndex:0,textureIndices:[0]},{materialIndex:0,textureIndices:[1]},{materialIndex:0,textureIndices:[2]},{materialIndex:0,textureIndices:[3]},{materialIndex:1,textureIndices:[4]}],this.Xe=500,this.qd=function(t){t.Dd=.0333333,t.Ud=0,t.presimFrameTime=.1,t.rand=function(){return Math.random()},t.pd(new c),t.pd(new h),t.pd(new u),t.pd(new d),t.pd(new l)},this.nb=function(e,n){var i=Math.floor(n),o=i+1;return t.X(e[i],e[o],n-i)}}}),cc._RF.pop()},{}],BossController:[function(t,e,n){"use strict";cc._RF.push(e,"4c056/xdspPmoaGSWmCeGgR","BossController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("../Plugin/AudioManager"),c=cc._decorator,h=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.blast1=null,e.blast2=null,e.blast3=null,e}return o(e,t),e.prototype.start=function(){var t=this;this.AudioManager.playSound(r.Constants.SoundTrack.heliSound),this.scheduleOnce(function(){t.blast1.node.active=!0,t.AudioManager.playSound(r.Constants.SoundTrack.earthQuakeSound)},.5),this.scheduleOnce(function(){t.blast2.node.active=!0,t.AudioManager.playSound(r.Constants.SoundTrack.earthQuakeSound)},.7),this.scheduleOnce(function(){t.blast3.node.active=!0,t.AudioManager.playSound(r.Constants.SoundTrack.earthQuakeSound)},1),cc.tween(this.node).to(1,{scale:r.Constants.scaleBoss,x:-40,y:-30}).call(function(){r.Constants.isWin=!0,r.Constants.isPauseGame=!0}).start()},s([u(a.default)],e.prototype,"AudioManager",void 0),s([u(sp.Skeleton)],e.prototype,"blast1",void 0),s([u(sp.Skeleton)],e.prototype,"blast2",void 0),s([u(sp.Skeleton)],e.prototype,"blast3",void 0),s([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],CTA:[function(t,e,n){"use strict";cc._RF.push(e,"71158ED8B1KhJK96FnjvNWK","CTA");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Controller/GameController"),a=t("../Data/constants"),c=t("../Plugin/AudioManager"),h=cc._decorator,u=h.ccclass,d=h.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameController=null,e.AudioManager=null,e.btn=null,e.overlay=null,e.PS=null,e.Next=null,e.tryAgain=null,e.isActived=!1,e}return o(e,t),e.prototype.start=function(){var t=this;this.activeTweenForBtn(),a.Constants.isLoose?(this.tryAgain.active=!0,this.Next.active=!1):(this.tryAgain.active=!1,this.Next.active=!0,this.PS.resetSystem()),this.scheduleOnce(function(){a.Constants.isLoose?t.AudioManager.playSound(a.Constants.SoundTrack.failSound):t.AudioManager.playSound(a.Constants.SoundTrack.winSound)},1.5),this.btn.on(cc.Node.EventType.TOUCH_START,this.GameController.installHandle,this)},e.prototype.activeTweenForBtn=function(){cc.tween(this.btn).repeatForever(cc.tween(this.btn).to(.5,{scale:.45}).to(.5,{scale:.5},{easing:cc.easing.elasticOut})).start()},s([d(r.GameController)],e.prototype,"GameController",void 0),s([d(c.default)],e.prototype,"AudioManager",void 0),s([d(cc.Node)],e.prototype,"btn",void 0),s([d(cc.Node)],e.prototype,"overlay",void 0),s([d(cc.ParticleSystem)],e.prototype,"PS",void 0),s([d(cc.Node)],e.prototype,"Next",void 0),s([d(cc.Node)],e.prototype,"tryAgain",void 0),s([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Controller/GameController":"GameController","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],CmoboController:[function(t,e,n){"use strict";cc._RF.push(e,"679afIcYMtMwYaLkXHrL+XK","CmoboController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=cc._decorator,c=a.ccclass,h=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine_combo=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.handleShowCombo=function(){switch(cc.log("Cmobo Count: "+r.Constants.comboCount),r.Constants.comboCount){case 2:this.spine_combo.node.active=!0,this.spine_combo.setSkin("Combo 2"),this.spine_combo.setAnimation(0,"action",!1);break;case 3:this.spine_combo.setSkin("Combo 3"),this.spine_combo.setAnimation(0,"action",!1);break;case 4:this.spine_combo.setSkin("Combo 4"),this.spine_combo.setAnimation(0,"action",!1);break;case 5:this.spine_combo.setSkin("Combo 5"),this.spine_combo.setAnimation(0,"action",!1);break;case 6:this.spine_combo.setSkin("Combo 6"),this.spine_combo.setAnimation(0,"action",!1)}},s([h(sp.Skeleton)],e.prototype,"spine_combo",void 0),s([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],CoinController:[function(t,e,n){"use strict";cc._RF.push(e,"f60c4CpqFlH750A1K4ORO4l","CoinController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("../Plugin/AudioManager"),c=cc._decorator,h=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.frameUnlockArmies=[],e.frameUpgrade=null,e.label=null,e.tempEnemyDie=0,e.isTweenRunning=!1,e}return o(e,t),e.prototype.start=function(){},e.prototype.increaseCoin=function(t,e){var n=this;this.isTweenRunning||(this.AudioManager.playSound(r.Constants.SoundTrack.coinSound),this.label.string=String(t),cc.tween(r.Constants).to(.5,{currentCoin:e},{progress:function(t,e,i,o){var s=Math.floor(cc.misc.lerp(t,e,o));return n.label.string=s.toString(),s}}).call(function(){n.isTweenRunning=!1}).start())},e.prototype.checkUnlockArmy=function(){for(var t=0;t<this.frameUnlockArmies.length;t++){var e=this.frameUnlockArmies[t],n=e.getChildByName("Label").getComponent(cc.Label);r.Constants.currentCoin<Number(n.string)?e.color=cc.color(113,113,113,255):e.color=cc.color(255,255,255,255)}},e.prototype.checkEnableFrameUpgrade=function(){var t=this.frameUpgrade;if(t){var e=t.getChildByName("Label").getComponent(cc.Label);r.Constants.currentCoin<Number(e.string)?t.color=cc.color(113,113,113,255):t.color=cc.color(255,255,255,255)}},e.prototype.update=function(){if(this.checkUnlockArmy(),this.tempEnemyDie!==r.Constants.enemyDie){var t=10*r.Constants.enemyDie;this.increaseCoin(r.Constants.currentCoin,t)}this.tempEnemyDie=r.Constants.enemyDie},s([u(a.default)],e.prototype,"AudioManager",void 0),s([u([cc.Node])],e.prototype,"frameUnlockArmies",void 0),s([u(cc.Node)],e.prototype,"frameUpgrade",void 0),s([u(cc.Label)],e.prototype,"label",void 0),s([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],Fireworks01:[function(t,e,n){"use strict";cc._RF.push(e,"ad3f8kVt/1CIb3WT4UQFhrL","Fireworks01"),function(t,i){if("object"==typeof n&&void 0!==e)e.exports=i();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Fireworks01=i()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Fireworks01=i()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,n=function t(e,n){this.Ld=e,this.Bd=n,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};n.prototype={Ec:function(e,n,i){var o=t.ib(i.Md),s=Math.cos(o),r=Math.sin(o),a=t.Ae(i.Nd[0]),c=t.Ae(i.Nd[1]);e.transform(a*s,a*r,c*-r,c*s,n[0],n[1])},Fc:function(e,n,i){var o=i.Mc,s=2*o[2]*o[2],r=2*o[0]*o[1],a=2*o[3]*o[2],c=t.Ae(i.Nd[0]),h=t.Ae(i.Nd[1]);e.transform(c*(1-2*o[1]*o[1]-s),c*(r+a),h*(a-r),h*(2*o[0]*o[0]+s-1),n[0],n[1])},Pc:function(e,n,i){if(n.vc(e,-1,i),this.we&&null!=this.Be&&!n.oc&&n.Od>.001){var o=Math.floor(n.Qc%this.we.Rc),s=Math.floor(n.Qc/this.we.Rc),r=n.Ab.slice(),a=n.Nd.slice();if(!i||i.transform(r,a)){var c=Math.abs(a[0]),h=Math.abs(a[1]);if(c>.001&&h>.001){if(e.save(),this.Lc(e,r,n),e.translate(-c*n.Pd[0],-h*(1-n.Pd[1])),e.globalAlpha*=n.Od,n.gf[0]<.999||n.gf[1]<.999||n.gf[2]<.999){if(c>=1&&h>=1){var u=c<this.Tc?c:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(n.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,c,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,c,h);e.restore()}}}n.vc(e,1,i)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var n=0;n<this.Bd.tc.length;++n)this.Pc(t,this.Bd.tc[n],e);break;case 1:for(n=this.Bd.tc.length;n-- >0;)this.Pc(t,this.Bd.tc[n],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),n=0;n<this.Bd.tc.length;++n)this.Pc(t,this.Bd.tc[n],e)}t.restore()}};var i=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};i.prototype={qe:function(e,n,i,o,s){if(e.Ce(-1,n,i,o,s),this.we&&!e.oc){var r=this.vertex[0],a=this.vertex[1],c=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var l=t.ib(e.Md),p=-Math.sin(l),f=Math.cos(l);u[0]=n[0]*f+i[0]*p,u[1]=n[1]*f+i[1]*p,u[2]=n[2]*f+i[2]*p,d[0]=-n[0]*p+i[0]*f,d[1]=-n[1]*p+i[1]*f,d[2]=-n[2]*p+i[2]*f}else{var _=e.Mc,b=2*_[2]*_[2],y=2*_[0]*_[1],v=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=y+v,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=y-v,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var m=[],g=[],C=[],A=[];t.u(m,u,-e.Nd[0]*e.Pd[0]),t.u(g,u,e.Nd[0]*(1-e.Pd[0])),t.u(C,d,-e.Nd[1]*e.Pd[1]),t.u(A,d,e.Nd[1]*(1-e.Pd[1])),t.c(r.position,m,C),t.c(r.position,r.position,e.Ab),t.c(a.position,m,A),t.c(a.position,a.position,e.Ab),t.c(c.position,g,A),t.c(c.position,c.position,e.Ab),t.c(h.position,g,C),t.c(h.position,h.position,e.Ab);var x=t.v(e.gf,255);r.color=a.color=c.color=h.color=[x[0],x[1],x[2],255*e.Od];var w,S,B=Math.floor(e.Qc%this.we.Rc),R=Math.floor(e.Qc/this.we.Rc),T=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(T)var P=T.width/this.we.Rc,M=T.height/this.we.Sc,L=(w=T.x+B*P)+P,O=(S=T.y+T.height-R*M)-M;else L=(w=B*(P=1/this.we.Rc))+P,O=(S=1-R*(M=1/this.we.Sc))-M;if(r.texCoords[0]=[w,O],a.texCoords[0]=[w,S],c.texCoords[0]=[L,S],h.texCoords[0]=[L,O],s.beforeQuad&&s.beforeQuad(this.we.renderStyleIndex),s.pushVertex(r),s.pushVertex(a),s.pushVertex(c),s.pushVertex(h),s.__lastRenderCall){var N=s.__lastRenderCall;N.renderStyleIndex==this.we.renderStyleIndex?N.numIndices+=6:(s.pushRenderCall(N),s.__lastRenderCall=new t.RenderCall(N.startIndex+N.numIndices,6,this.we.renderStyleIndex))}else s.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,n,i,o,s)},ue:function(e,n,i,o){switch(this.Bd.Vc){case 0:for(var s=0;s<this.Bd.tc.length;++s)this.qe(this.Bd.tc[s],e,n,i,o);break;case 1:for(s=this.Bd.tc.length;s-- >0;)this.qe(this.Bd.tc[s],e,n,i,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(i,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,n,i,o)},this)}}};var o=function e(n,i,o){var s=this;function r(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function a(){this.Gb=1,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function c(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=n,this.we=i,r.prototype={Jd:function(){this.Nb()},Id:function(e,i,o){s.we.Pb(e,s,this);var r=s.Rb,a=n.Rb,c=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(c-=d,r+=d,a+=d,null!=this.Hb&&r>this.Hb){s.disactivate();break}s.Rb=r,n.Rb=a,i&&e>0&&t.ab(s.Ab,i,s.Bb,c/e),o&&e>0&&t.slerpq(s.Mc,o,s.prevRotation,c/e),this.Lb=this.Jb;for(var l=0;l<this.Jb&&0!=s.sc.length;++l){1==this.Jb?this.Kb=0:this.Kb=l/(this.Jb-1);var p=s.sc.pop();s.tc.unshift(p),0==l?p.Yb():p.Zb(),p.Id(c),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){s.disactivate();break}}this.Ob=u}return r+=c,s.Rb=r,i&&t.T(s.Ab,i),o&&t.U(s.Mc,o),h}},a.prototype={Jd:function(){this.Nb()},Id:function(e,i,o){s.we.Pb(e,s,this);var r=s.Rb,a=r+e,c=n.Rb,h=c+e,u=i?t.O(t.h(i,s.Bb)):0,d=0;if(u>1e-6){for(var l=u/this.rd,p=this.bc+l,f=l<.001?1-this.bc:(1-this.bc)/l,_=[];p>1;){var b=r+f*e;i&&t.ab(_,s.Bb,i,f),s.Rb=b,t.T(s.Ab,_),n.Rb=t.X(c,h,f),this.Lb=this.Jb;for(var y=0;y<this.Jb&&0!=s.sc.length;++y){1==this.Jb?this.Kb=0:this.Kb=y/(this.Jb-1);var v=s.sc.pop();s.tc.unshift(v),0==y?v.Yb():v.Zb(),v.Id(e*(1-f)),++d}f+=1/l,p-=1}this.bc=p}return s.Rb=a,i&&t.T(s.Ab,i),o&&t.U(s.Mc,o),d}},c.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){s.we.fd(s,this),this.nc()},Zb:function(){s.we.gd(s,this),this.nc()},Id:function(t){s.we.qc(t,s,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,i){this.Kc.push({Bd:new e(n,t,o),Ad:i})},vc:function(t,e,n){for(var i=0;i<this.Kc.length;++i){var o=this.Kc[i];e==o.Ad.xc&&o.Bd.Hd(t,n)}},Ce:function(t,e,n,i,o){for(var s=0;s<this.Kc.length;++s){var r=this.Kc[s];t==r.Ad.xc&&r.Bd.ue(e,n,i,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return s.we.Cc(s,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new r},this.ed=function(){this.vd=new a},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new c,l=0;l<this.Yc.length;++l){var p=this.Yc[l];d.uc(p.Db,p.Ad)}this.sc.push(d)}this.Nb=function(e,n){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,n||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,n,i){if(this.paused_)this.Td(n,i);else{if(this.wd=this.Rb,n)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,n,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var s;i&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?s=this.vd.Id(e,n,i):(n&&t.T(this.Ab,n),i&&t.U(this.Mc,i),s=0,this.Rb+=e);for(var r=s;r<this.tc.length;){var a=this.tc[r];if(a.oc){if(a.rc(e),this.xd(r))continue}else if(a.Id(e),this.Wc.Ac(this.tc[r])&&(a.wc(),this.xd(r)))continue;++r}}},o.prototype.xd=function(t){for(var e=this.tc[t],n=!0,i=0;i<e.Kc.length;++i){var o=e.Kc[i].Bd;if(o.activated()||o.tc.length>0){n=!1;break}}return!!n&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,n,i){this.construct.ue(t,e,n,i)},o.prototype.Td=function(e,n){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),n&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,n))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var s=function(){this._init=function(e,n,i,s,r){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,s);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,n){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,n||[0,0,0,1])},this.Nb(n,i),this.model.qd(this),this._presimNeeded=!0,r.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),r.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,n,i,this.presimFrameTime),this._presimNeeded=!1)}};s.prototype.restart=function(t,e,n){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var i=0;i<this.od.length;++i)this.od[i].Jd(this.Ab,this.Mc);this._presimNeeded=!0,n&&n.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),n&&n.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},s.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},s.prototype.update=function(t,e,n){this.Dd>0?this.updateFixed(t,e,n,this.Dd):this.updateFlex(t,e,n)},s.prototype.updateFixed=function(e,n,i,o){var s=0,r=[];t.T(r,this.Ab);var a=[];for(t.U(a,this.Mc),n&&t.equalv3_(n,this.Ab)&&(n=null),i&&t.equalq_(i,this.Mc)&&(i=null);e-s+this.Cd>=o;){var c=this.Rb;n&&t.ab(r,this.Ab,n,s/e),i&&t.slerpq(a,this.Mc,i,s/e);for(var h=0;h<this.od.length;++h)this.od[h].Id(o,r,a),this.Rb=c;s+=o-this.Cd,this.Cd=0,this.Rb=c+o}n&&t.T(this.Ab,n),i&&t.U(this.Mc,i),this.Cd+=e-s},s.prototype.updateFlex=function(e,n,i){for(var o=this.Rb,s=0;s<this.od.length;++s)this.od[s].Id(e,n,i),this.Rb=o;this.Rb=o+e,n&&t.T(this.Ab,n),i&&t.U(this.Mc,i)},s.prototype.resetPosition=function(e,n){e&&t.T(this.Ab,e),n&&t.U(this.Mc,n);for(var i=0;i<this.od.length;++i)this.od[i].Td(this.Ab,this.Mc)},s.prototype.setPropertyInAllEmitters=function(e,n){var i="_".concat(e);if(n instanceof Array)if(2==n.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][i],n);else for(o=0;o<this.od.length;++o)t.T(this.od[o][i],n);else for(o=0;o<this.od.length;++o)this.od[o][i]=n},s.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},s.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},s.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},s.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},s.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},s.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},s.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var r=function t(){this._init=function(e,n,o,s,r){t.prototype._init.call(this,e,n,o,i,r),this.texturesRemap=[];for(var a,c=[],h=0;h<this.model.Xe;++h)a=4*h,c.push(a+0,a+3,a+1,a+1,a+3,a+2);this.renderBuffer=s,this.renderBuffer.initialize(4*this.model.Xe,[2],c,this.model.Xe),this.renderBuffer.__numIndices=0}};(r.prototype=new s).fillGeometryBuffers=function(t,e,n){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(i){i.ue(t,e,n,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var a=function t(){this._init=function(e,i,o,s){t.prototype._init.call(this,e,i,o,n,s),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function c(){var n,i,o,s,r,a,c,h,u,d,l,p,f,_,b=[],y=[],v=[],m=[],g=[],C=[],A=[],x=[],w=[],S=[],B=[],R=[],T=[],P=[],M=[],L=[];this.pe=[{xe:1,Rc:5,Sc:3,renderStyleIndex:0}],this.name="Stripe_child",this.ud=function(t){t._Rotation=[0,0,0,1],t._Texture=0,t.ed(),t._15=[[[.48177,.934782,.982708,.96819,.923457,.860987,.787211,.706007,.619964,.530944,.440381,.349431,.259076,.170188,.0835716,0,0]]],t._17=[[[1,0,0]]],t._18=[[[0,2.0657,2.78929,3.28572,3.66181,3.95916,4.1992,4.39469,4.55401,4.68298,4.78584,4.86582,4.92541,4.96661,4.99103,5,5]]],t.jd=300,t.Vc=0},this.Mb=function(t){t.rd=1,t.Gb=1,t.Jb=1},this.Pb=function(t,e,n){n.rd=1},this.fd=function(e,n){n.Mc=[],n._=0,t.W(b,0,0,0),n._2=[],t.c(n._2,e.Ab,b),n._3=0,n._4=[],t.U(n._4,e._Rotation),t.randv3gen(y,1,e.Ld.rand),n._6=[],t.T(n._6,y),t.randv3gen(v,10,e.Ld.rand),n._8=[],t.T(n._8,v),t.T(n.Ab,n._2)},this.gd=function(e,n){n.Mc=[],n._=0,t.W(b,0,0,0),n._2=[],t.c(n._2,e.Ab,b),n._3=0,n._4=[],t.U(n._4,e._Rotation),t.randv3gen(y,1,e.Ld.rand),n._6=[],t.T(n._6,y),t.randv3gen(v,10,e.Ld.rand),n._8=[],t.T(n._8,v),t.T(n.Ab,n._2)},this.qc=function(b,y,v){for(v._+=b,t.W(m,0,50,0),t.T(g,m),t.T(C,[0,0,0]),i=b,t.T(w,v._8),t.T(S,v._2);i>1e-4;)o=i,t.T(B,g),t.g(A,C,w),(n=t.P(A))>1e-4&&(n=Math.sqrt(n),t.w(x,A,n),(s=.01*n)*o>.2&&(o=.2/s),t.c(B,B,t.v(x,n*s))),t.c(w,w,t.v(B,o)),t.c(S,S,t.v(w,o)),i-=o;t.T(v._2,S),t.T(v._8,w),t.T(v.Ab,v._2),t.Q(T,v._6),t.qb(R,T,v._3),r=1,a=v._/r,h=a<0?0:a>1?1:a,t.V(P,0,15*(h-0)),c=e.nb(y._15[0][P[0]],P[1]),u=7*c,l=a<0?0:a>1?1:a,t.V(M,0,1*(l-0)),d=e.nb(y._17[0][M[0]],M[1]),f=a<0?0:a>1?0+(a-0)%1:a,t.V(L,0,15*(f-0)),p=e.nb(y._18[0][L[0]],L[1]),_=5*y._Texture+p,t.S(v.Pd,[.5,.5]),t.U(v.Mc,R),t.V(v.Nd,u,u),t.T(v.gf,[1,1,1]),v.Od=d,v.Qc=_<0?0:_>=15?14:_},this.Cc=function(t,e){return r=1,e._>r}}function h(){var n,i,o,s,r,a,h,u=[],d=[],l=[],p=[],f=[],_=[],b=[],y=[],v=[],m=[],g=[],C=[],A=[],x=[],w=[];this.pe=[],this.name="Stripe_parent",this.ud=function(t){t._Texture=0,t.dd(),t.uc(new c,{xc:1,sd:!1}),t._8=[[[0,.0314964,.136246,.328507,.59644,.890682,1.16035,1.38407,1.56152,1.69908,1.80373,1.88132,1.93649,1.97287,1.9933,2,2]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=.94,t.Jb=60,t.Ib=1},this.Pb=function(t,e,n){n.zb=5},this.fd=function(e,i){i._=0,t.W(u,0,-0,0),i._2=[],t.rb(i._2,u,e.Mc),t.c(i._2,e.Ab,i._2),n=0+5*e.Ld.rand(),i._4=n,t.randv3gen(d,1e3,e.Ld.rand),i._6=[],t.rb(i._6,d,e.Mc),t.c(i._6,e.ad,i._6),t.T(i.Ab,i._2),t.Q(_,[0,0,1]),t.I(p,i._6,_),t.Q(p,p),t.I(f,_,p),t.pb(l,p,f,_),i.pc(0)._Rotation=l,i.pc(0)._Texture=e._Texture},this.gd=function(e,i){i._=0,t.W(u,0,-0,0),i._2=[],t.rb(i._2,u,e.Mc),t.c(i._2,e.Ab,i._2),n=0+5*e.Ld.rand(),i._4=n,t.randv3gen(d,1e3,e.Ld.rand),i._6=[],t.rb(i._6,d,e.Mc),t.c(i._6,e.ad,i._6),t.T(i.Ab,i._2),t.Q(_,[0,0,1]),t.I(p,i._6,_),t.Q(p,p),t.I(f,_,p),t.pb(l,p,f,_),i.pc(0)._Rotation=l,i.pc(0)._Texture=e._Texture},this.qc=function(n,c,u){for(u._+=n,o=c.Rb<0?0:c.Rb>1?1:c.Rb,t.V(b,0,15*(o-0)),i=e.nb(c._8[0][b[0]],b[1]),t.W(y,0,100,0),t.T(v,y),t.T(m,[0,0,0]),r=n,t.T(A,u._6),t.T(x,u._2);r>1e-4;)a=r,t.T(w,v),t.g(g,m,A),(s=t.P(g))>1e-4&&(s=Math.sqrt(s),t.w(C,g,s),(h=.01*i*s)*a>.2&&(a=.2/h),t.c(w,w,t.v(C,s*h))),t.c(A,A,t.v(w,a)),t.c(x,x,t.v(A,a)),r-=a;t.T(u._2,x),t.T(u._6,A),t.T(u.Ab,u._2),t.Q(_,[0,0,1]),t.I(p,u._6,_),t.Q(p,p),t.I(f,_,p),t.pb(l,p,f,_),u.pc(0)._Rotation=l,u.pc(0)._Texture=c._Texture},this.Cc=function(t,e){return e._>1}}function u(){var n,i,o,s,r,a,c,h,u,d,l,p,f=[],_=[],b=[],y=[],v=[];this.pe=[{xe:0,Rc:2,Sc:3,renderStyleIndex:1}],this.name="Sparks",this.ud=function(t){t._Texture=0,t._=[[[0,0,0],[2,2,2]]],t.dd(),t._17=[[[0,.149709,.460975,.803237,1.08303,1.29919,1.46717,1.59926,1.7039,1.7869,1.85236,1.90328,1.94194,1.97007,1.98906,2,2],[2,1.66994,1.37363,1.11535,.895215,.710443,.556908,.430206,.326245,.241465,.172875,.118,.0748067,.0416215,.0170665,0,0],[0,.822571,.822571],[.822571,.230368,.230368],[.230368,.7,.7],[.7,0,0],[0,.6,.6],[.6,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=1,t.Jb=100,t.Ib=1},this.Pb=function(o,s,r){(i=s.Rb<0?0:s.Rb>2?2:s.Rb)<.9?t.V(f,0,1.11111*(i-0)):t.V(f,1,.909091*(i-.9)),n=e.nb(s._[0][f[0]],f[1]),r.zb=n},this.fd=function(e,n){n._1=0,t.randv3gen(_,300,e.Ld.rand),n._3=[],t.rb(n._3,_,e.Mc),t.c(n._3,e.Ab,n._3),o=0+360*e.Ld.rand(),n._5=o,s=0+2*e.Ld.rand(),n._7=s,r=20+20*e.Ld.rand(),n._9=r,a=1.5+1.5*e.Ld.rand(),n._11=a,t.W(b,0,20,0),n._13=[],t.rb(n._13,b,e.Mc),t.c(n._13,e.ad,n._13),t.T(n.Ab,n._3)},this.gd=function(e,n){n._1=0,t.randv3gen(_,300,e.Ld.rand),n._3=[],t.rb(n._3,_,e.Mc),t.c(n._3,e.Ab,n._3),o=0+360*e.Ld.rand(),n._5=o,s=0+2*e.Ld.rand(),n._7=s,r=20+20*e.Ld.rand(),n._9=r,a=1.5+1.5*e.Ld.rand(),n._11=a,t.W(b,0,20,0),n._13=[],t.rb(n._13,b,e.Mc),t.c(n._13,e.ad,n._13),t.T(n.Ab,n._3)},this.qc=function(n,i,o){o._1+=n,t.T(y,o._13),t.u(y,y,n),t.c(y,y,o._3),t.T(o._3,y),c=o._5+90*n,o._5=c,t.T(o.Ab,o._3),h=o._1/o._11,(d=h<0?0:h>1?1:h)<.744689?d<.6?d<.0577704?t.V(v,0,259.648*(d-0)):t.V(v,1,27.6636*(d-.0577704)):d<.631187?t.V(v,2,32.0646*(d-.6)):t.V(v,3,8.81045*(d-.631187)):d<.9?d<.772?t.V(v,4,36.6147*(d-.744689)):t.V(v,5,7.8125*(d-.772)):d<.942044?t.V(v,6,23.7848*(d-.9)):t.V(v,7,17.2544*(d-.942044)),u=e.nb(i._17[0][v[0]],v[1]),l=o._9*u,p=2*i._Texture+o._7,t.S(o.Pd,[.5,.5]),o.Md=o._5,t.V(o.Nd,l,l),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=p<0?0:p>=6?5:p},this.Cc=function(t,e){return e._1>e._11}}function d(){var n,i,o,s,r,a=[],c=[];this.pe=[{xe:0,Rc:5,Sc:3,renderStyleIndex:0}],this.name="Splash",this.ud=function(t){t.dd(),t._7=[[[0,1,1],[1,.990835,.969351,.938093,.898586,.851781,.798265,.738368,.672217,.599762,.520766,.43479,.341128,.238703,.125869,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=1,t.Jb=1,t.Ib=1},this.Pb=function(t,e,n){n.zb=5},this.fd=function(e,n){n._=0,t.W(a,0,0,0),n._2=[],t.rb(n._2,a,e.Mc),t.c(n._2,e.Ab,n._2),n._3=0,t.T(n.Ab,n._2)},this.gd=function(e,n){n._=0,t.W(a,0,0,0),n._2=[],t.rb(n._2,a,e.Mc),t.c(n._2,e.Ab,n._2),n._3=0,t.T(n.Ab,n._2)},this.qc=function(a,h,u){u._+=a,t.T(u.Ab,u._2),n=.3,i=u._/n,(s=i<0?0:i>1?1:i)<.1?t.V(c,0,10*(s-0)):t.V(c,1,16.6667*(s-.1)),o=e.nb(h._7[0][c[0]],c[1]),r=300*o,t.S(u.Pd,[.5,.5]),u.Md=u._3,t.V(u.Nd,r,r),t.T(u.gf,[1,1,1]),u.Od=1,u.Qc=0},this.Cc=function(t,e){return n=.3,e._>n}}function l(){var n,i,o,s,r,a,c,l,p,f=[],_=[],b=[],y=[],v=[],m=[],g=[],C=[];this.pe=[],this.name="Fireworks_parent",this.ud=function(t){t._=[[[1.47301,1.47301,1.47301],[0,0,0]]],t.dd(),t._3=[[[-383.168,98.272],[-383.168,-101.728],[-383.168,-101.728]]],t._4=[[[405.632,91.36],[405.632,-108.64],[405.632,-108.64]]],t._11=[[[0,0,0],[1,1,1],[2,2,2]]],t.uc(new h,{xc:1,sd:!1}),t.uc(new u,{xc:1,sd:!1}),t.uc(new d,{xc:1,sd:!1}),t.jd=3,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=1,t.Jb=1},this.Pb=function(o,s,r){(i=s.Ld.Rb<0?0:s.Ld.Rb>5.99432?0+(s.Ld.Rb-0)%5.99432:s.Ld.Rb)<1.50077?t.V(f,0,.666323*(i-0)):t.V(f,1,.222541*(i-1.50077)),n=e.nb(s._[0][f[0]],f[1]),r.zb=n},this.fd=function(n,i){i._1=0,o=0+1*n.Ld.rand(),s=e.kb(o),t.V(b,0,1*(s-0)),e.lb(_,n._3[b[0]],b[1]),r=e.kb(o),t.V(v,0,1*(r-0)),e.lb(y,n._4[v[0]],v[1]),a=0+1*n.Ld.rand(),t.Y(m,_,y,a),t.W(g,m[0],m[1],0),i._8=[],t.rb(i._8,g,n.Mc),t.c(i._8,n.Ab,i._8),i._9=0,c=0+1*n.Ld.rand(),(p=c<0?0:c>1?1:c)<.710626?p<.388302?t.V(C,0,2.57531*(p-0)):t.V(C,1,3.10247*(p-.388302)):t.V(C,2,3.45573*(p-.710626)),l=e.nb(n._11[0][C[0]],C[1]),i._12=l,t.T(i.Ab,i._8),i.pc(0)._Texture=i._12,i.pc(1)._Texture=i._12},this.gd=function(n,i){i._1=0,o=0+1*n.Ld.rand(),s=e.kb(o),t.V(b,0,1*(s-0)),e.lb(_,n._3[b[0]],b[1]),r=e.kb(o),t.V(v,0,1*(r-0)),e.lb(y,n._4[v[0]],v[1]),a=0+1*n.Ld.rand(),t.Y(m,_,y,a),t.W(g,m[0],m[1],0),i._8=[],t.rb(i._8,g,n.Mc),t.c(i._8,n.Ab,i._8),i._9=0,c=0+1*n.Ld.rand(),(p=c<0?0:c>1?1:c)<.710626?p<.388302?t.V(C,0,2.57531*(p-0)):t.V(C,1,3.10247*(p-.388302)):t.V(C,2,3.45573*(p-.710626)),l=e.nb(n._11[0][C[0]],C[1]),i._12=l,t.T(i.Ab,i._8),i.pc(0)._Texture=i._12,i.pc(1)._Texture=i._12},this.qc=function(e,n,i){i._1+=e,t.T(i.Ab,i._8),i.pc(0)._Texture=i._12,i.pc(1)._Texture=i._12},this.Cc=function(t,e){return e._1>2}}(a.prototype=new s).draw=function(t,e){for(var n=0;n<this.od.length;++n)this.od[n].Hd(t,e)},this.createWGLInstance=function(t,e,n,i){var o=new r;return o._init(this,t,e,n,i||{}),o},this.createCanvas2DInstance=function(t,e,n){var i=new a;return i._init(this,t,e,n||{}),i},this.textures=["fx/fireworks/sparks5x3_long.png","fx/fireworks/sparks2x3_violet.png"],this.materials=[1,0],this.renderStyles=[{materialIndex:0,textureIndices:[0]},{materialIndex:1,textureIndices:[1]}],this.Xe=90600,this.qd=function(t){t.Dd=.0333333,t.Ud=0,t.presimFrameTime=.1,t.rand=function(){return Math.random()},t.pd(new l)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,n,i){var o=Math.floor(i),s=i-o;t.Y(e,n[o],n[o+1],s)},this.nb=function(e,n){var i=Math.floor(n),o=i+1;return t.X(e[i],e[o],n-i)}}}),cc._RF.pop()},{}],GameController:[function(t,e,n){"use strict";cc._RF.push(e,"459a6fkmHFH5Z+5+z1O55SB","GameController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameController=void 0;var r=t("../Data/constants"),a=t("../Plugin/AudioManager"),c=cc._decorator,h=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){window.gameReady&&window.gameReady()},e.prototype.installHandle=function(){if(console.log("install"),r.Constants.ironSource.isEndGame=!0,this.AudioManager.stopAllSound(),window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?(cc.sys.os==cc.sys.OS_ANDROID||(cc.sys.os,cc.sys.ANDROID),void mraid.open("https://play.google.com/store/apps/details?id=com.an.epicwarrior.stoneage")):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},s([u(a.default)],e.prototype,"AudioManager",void 0),s([h],e)}(cc.Component);n.GameController=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(t,e,n){"use strict";cc._RF.push(e,"b1d34srP15JNoxtzOCtQ0oZ","GamePlay");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("../Other/Army"),c=t("../Plugin/AudioManager"),h=t("./CmoboController"),u=t("./GameController"),d=t("./LoadFoodController"),l=t("./SpawnController"),p=t("./vFxController"),f=cc._decorator,_=f.ccclass,b=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.GameController=null,e.LoadFoodController=null,e.SpawnController=null,e.ComboController=null,e.VFxController=null,e.CTA=null,e.isCollideBaseFlag=!1,e}return o(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0;var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDrawBoundingBox=!0},e.prototype.resetGame=function(){r.Constants.allyArmies.forEach(function(t){return t.destroy()}),r.Constants.enemyArmies.forEach(function(t){return t.destroy()}),r.Constants.isStartGame=!1,r.Constants.isPauseGame=!1,r.Constants.isCanBuyArmyLv2=!1,r.Constants.isCanBuyArmyLv3=!1,r.Constants.isUpgrade=!1,r.Constants.isWin=!1,r.Constants.isLoose=!1,r.Constants.isCollideBase=!1,r.Constants.isFiveBroInTank=!1,r.Constants.food=15,r.Constants.enemyDie=0,r.Constants.currentCoin=0,r.Constants.EnemyBaseHeal=1,r.Constants.AllyBaseHeal=1,r.Constants.comboCount=0,r.Constants.allyArmies=[],r.Constants.enemyArmies=[],cc.director.loadScene("game_Hor")},e.prototype.initGame=function(){r.Constants.allyArmies.forEach(function(t){return t.destroy()}),r.Constants.enemyArmies.forEach(function(t){return t.destroy()}),r.Constants.isStartGame=!1,r.Constants.isPauseGame=!1,r.Constants.isCanBuyArmyLv2=!1,r.Constants.isCanBuyArmyLv3=!1,r.Constants.isUpgrade=!1,r.Constants.isWin=!1,r.Constants.isLoose=!1,r.Constants.isCollideBase=!1,r.Constants.isFiveBroInTank=!1,r.Constants.food=15,r.Constants.enemyDie=0,r.Constants.currentCoin=0,r.Constants.EnemyBaseHeal=1,r.Constants.AllyBaseHeal=1,r.Constants.comboCount=0,r.Constants.allyArmies=[],r.Constants.enemyArmies=[]},e.prototype.start=function(){var t=this;this.AudioManager.playSound(r.Constants.SoundTrack.bgSound),this.AudioManager.bgSound.volume=.5,this.initGame(),this.node.on("Shooting",function(){t.VFxController.handleShooting()},this),this.node.on("ShowSpeedLine",function(){t.AudioManager.stopSound(r.Constants.SoundTrack.bgSound),t.AudioManager.playSound(r.Constants.SoundTrack.Bg_Attack),t.AudioManager.Bg_Attack.volume=.5,t.VFxController.ShowSpeedLine()},this),cc.view.setResizeCallback(function(){r.Constants.ironSource.isEndGame||r.Constants.isWin||r.Constants.isLoose||t.resetGame()})},e.prototype.spawnArmy=function(t){switch(r.Constants.isPauseGame=!1,!r.Constants.isStartGame&&this.SpawnController.SpawnEnemies(),r.Constants.isStartGame=!0,t){case 1:r.Constants.food>=3&&(r.Constants.food-=3,r.Constants.comboCount+=1,this.SpawnController.SpawnPlayerArmy(r.Constants.ArmySkin.Ally,1),this.ComboController.handleShowCombo());break;case 2:r.Constants.food>=4&&r.Constants.isCanBuyArmyLv2&&(r.Constants.food-=4,this.SpawnController.SpawnPlayerArmy(r.Constants.ArmySkin.Ally,2));break;case 3:r.Constants.food>=5&&r.Constants.isCanBuyArmyLv3&&(r.Constants.food-=5,this.SpawnController.SpawnPlayerArmy(r.Constants.ArmySkin.Ally,3));break;default:console.log("can not spawn")}},e.prototype.HandleFiveBroInTank=function(){if(!r.Constants.isFiveBroInTank){r.Constants.isFiveBroInTank=!0;var t=[],e=null;r.Constants.allyArmies.forEach(function(n){"Army2_Lv1"===n.name&&t.push(n),"Army_Lv3"===n.name&&(e=n)}),t.forEach(function(t){cc.tween(t).to(.5,{x:e.x,y:e.y}).call(function(){r.Constants.troopsInTankCount+=1,t.getComponent(a.default).spine.setAnimation(0,r.Constants.ArmyAnim.Run,!0),r.Constants.troopsInTankCount>=5&&(r.Constants.isTankCanRun=!0),t.active=!1}).start()})}},e.prototype.isSpawn5Troops=function(){return r.Constants.troopsSpawnLeftCount<0},e.prototype.activeCTA=function(){cc.log("show CTA"),this.CTA.active=!0,r.Constants.isActiveCTA=!0},e.prototype.update=function(){this.isSpawn5Troops()&&this.HandleFiveBroInTank(),!r.Constants.isLoose&&!r.Constants.isWin||r.Constants.isActiveCTA||this.activeCTA()},s([b(c.default)],e.prototype,"AudioManager",void 0),s([b(u.GameController)],e.prototype,"GameController",void 0),s([b(d.default)],e.prototype,"LoadFoodController",void 0),s([b(l.default)],e.prototype,"SpawnController",void 0),s([b(h.default)],e.prototype,"ComboController",void 0),s([b(p.default)],e.prototype,"VFxController",void 0),s([b(cc.Node)],e.prototype,"CTA",void 0),s([_],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Data/constants":"constants","../Other/Army":"Army","../Plugin/AudioManager":"AudioManager","./CmoboController":"CmoboController","./GameController":"GameController","./LoadFoodController":"LoadFoodController","./SpawnController":"SpawnController","./vFxController":"vFxController"}],IronSource:[function(t,e,n){"use strict";cc._RF.push(e,"49c0ang8TBDWqCvjXG1XKDi","IronSource");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("../Plugin/AudioManager"),c=cc._decorator,h=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e}return o(e,t),e.prototype.handleIronSourcePlaySound=function(){r.Constants.ironSource.isPlayBgSound||(r.Constants.ironSource.isPlayBgSound=!0,r.Constants.ironSource.SoundState&&this.AudioManager.playSound(r.Constants.SoundTrack.bgSound))},e.prototype.handleMuteSoundIronSource=function(){r.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),r.Constants.ironSource.State&&(1!==r.Constants.ironSource.State||r.Constants.ironSource.SoundState||r.Constants.ironSource.isEndGame||(r.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(r.Constants.SoundTrack.bgSound)),2===r.Constants.ironSource.State&&r.Constants.ironSource.SoundState&&(r.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},s([u(a.default)],e.prototype,"AudioManager",void 0),s([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],LoadFoodController:[function(t,e,n){"use strict";cc._RF.push(e,"8aaf1Qac2lG3aTwixhAfLvl","LoadFoodController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=cc._decorator,c=a.ccclass,h=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.overlay=null,e.label=null,e.unitCosts=[],e.unitFrames=[],e}return o(e,t),e.prototype.start=function(){},e.prototype.increaseFood=function(){var t=this;this.overlay.scaleX=0,r.Constants.isPauseGame||cc.tween(this.overlay).to(1.2,{scaleX:1}).call(function(){r.Constants.food+=1,t.increaseFood()}).start()},e.prototype.checkEnableCost=function(){for(var t=0;t<this.unitCosts.length;t++){var e=this.unitCosts[t];Number(this.label.string)>=Number(e.string)?(0===t&&(this.unitFrames[t].opacity=255,e.node.color=cc.Color.WHITE),1===t&&r.Constants.isCanBuyArmyLv2&&(this.unitFrames[t].opacity=255,e.node.color=cc.Color.WHITE),2===t&&r.Constants.isCanBuyArmyLv3&&(this.unitFrames[t].opacity=255,e.node.color=cc.Color.WHITE)):(e.node.color=cc.Color.RED,1===t&&r.Constants.isCanBuyArmyLv2&&(this.unitFrames[t].opacity=255),2===t&&r.Constants.isCanBuyArmyLv3&&(this.unitFrames[t].opacity=255),this.unitFrames[t].opacity=0)}},e.prototype.update=function(){this.label.string=String(r.Constants.food),this.checkEnableCost()},s([h(cc.Node)],e.prototype,"overlay",void 0),s([h(cc.Label)],e.prototype,"label",void 0),s([h([cc.Label])],e.prototype,"unitCosts",void 0),s([h([cc.Node])],e.prototype,"unitFrames",void 0),s([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],NeutrinoAssemblerJSB:[function(t,e,n){"use strict";cc._RF.push(e,"908f2U8uBBKHLoXjGNOOkv8","NeutrinoAssemblerJSB");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),cc.renderer;var s=[0,1,3,1,2,3],r=512*s.length,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentVertex=0,e._renderStyleIndex=null,e._worldScale=new cc.Vec3,e}return o(e,t),e._checkAndCreateCurrentBuffer=function(){var t=e._bufferIndex;e._vertexBuffers[t]||(e._vertexBuffers[t]=new ArrayBuffer(2048*e._vertexFormat._bytes),e._vertexFloatBuffers[t]=new Float32Array(e._vertexBuffers[t]),e._vertexUint32Buffers[t]=new Uint32Array(e._vertexBuffers[t])),e._indexBuffers[t]||(e._indexBuffers[t]=new Uint16Array(r))},e._incBuffer=function(){++e._bufferIndex,e._numBufferVertices=0,e._numBufferIndices=0,e._startBufferVertex=0,e._startBufferIndex=0,e._checkAndCreateCurrentBuffer()},e.prototype._prepareForGeometry=function(t,n){e._numBufferVertices,(e._numBufferVertices+t>2048||e._numBufferIndices+n>r)&&(this._finishDrawCall(),e._incBuffer())},e.prototype._commitGeometry=function(t,n){e._numBufferVertices+=t,e._numBufferIndices+=n},e._resetGeometryBuffers=function(){this._bufferIndex=0,this._numBufferVertices=0,this._numBufferIndices=0,this._startBufferVertex=0,this._startBufferIndex=0,this._checkAndCreateCurrentBuffer()},e.prototype._finishDrawCall=function(){if(e._startBufferIndex!==e._numBufferIndices){var t=e._bufferIndex,n=new Float32Array(e._vertexBuffers[t],e._startBufferVertex*e._vertexFormat._bytes,(e._numBufferVertices-e._startBufferVertex)*e._vertexFormat._bytes/4),i=new Uint16Array(e._indexBuffers[t].buffer,2*e._startBufferIndex,e._numBufferIndices-e._startBufferIndex);this.updateIAData(this._drawCallIndex,e._vertexFormat._nativeObj,n,i);var o=this._renderComp.materials[this._renderStyleIndex].effect;this.updateEffect(this._drawCallIndex,o._nativeObj),e._startBufferVertex=e._numBufferVertices,e._startBufferIndex=e._numBufferIndices,++this._drawCallIndex}},e.prototype.updateRenderData=function(t){this.fillBuffers(t),t.node._renderFlag|=cc.RenderFlow.FLAG_UPDATE_RENDER_DATA},e.prototype.fillBuffers=function(t){t._neutrinoEffect&&t.context.loaded()&&(this.reset(),e._resetGeometryBuffers(),this._drawCallIndex=0,this._currentVertex=0,this._renderStyleIndex=null,this._worldScale=t._worldScale,t._neutrinoEffect.fillGeometryBuffers([1,0,0],[0,1,0],[0,0,-1]),this._finishDrawCall())},e.prototype.initialize=function(){},e.prototype.beforeQuad=function(t){this._renderStyleIndex!==t&&(this._finishDrawCall(),this._renderStyleIndex=t),this._prepareForGeometry(4,s.length)},e.prototype.pushVertex=function(t){var n=e._bufferIndex,i=e._vertexFormat._bytes/4,o=e._vertexFloatBuffers[n],r=e._vertexUint32Buffers[n],a=(e._numBufferVertices+this._currentVertex)*i,c=t.position[0]*this._worldScale.x,h=t.position[1]*this._worldScale.y,u=t.position[2]*this._worldScale.z;if(o[a++]=c,o[a++]=h,o[a++]=u,o[a++]=t.texCoords[0][0],o[a++]=1-t.texCoords[0][1],r[a++]=t.color[0]|t.color[1]<<8|t.color[2]<<16|t.color[3]<<24,++this._currentVertex,4==this._currentVertex){for(var d=e._indexBuffers[n],l=0;l<s.length;++l)d[e._numBufferIndices+l]=e._numBufferVertices-e._startBufferVertex+s[l];this._commitGeometry(4,s.length),this._currentVertex=0}},e.prototype.pushRenderCall=function(){},e.prototype.cleanup=function(){},e._vertexFormat=cc.gfx.VertexFormat.XYZ_UV_Color,e._vertexBuffers=[],e._vertexFloatBuffers=[],e._vertexUint32Buffers=[],e._indexBuffers=[],e}(cc.MeshRenderer.__assembler__);n.default=a,cc._RF.pop()},{}],NeutrinoAssemblerWebGL:[function(t,e,n){"use strict";cc._RF.push(e,"32e92P2G2hLrY8BaVp0+NVh","NeutrinoAssemblerWebGL");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var s=[0,1,3,1,2,3],r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initialized=!1,e._currentVertex=0,e._renderStyleIndex=null,e._vertexFormat=cc.gfx.VertexFormat.XYZ_UV_Color,e._buffer=null,e._bufferOffsetInfo=null,e._modelBatcher=null,e._worldScale=new cc.Vec3,e}return o(e,t),e.prototype.fillBuffers=function(t,e){t._neutrinoEffect&&t.context.loaded()&&(this._initialized||(this._buffer=e.getBuffer("mesh",this._vertexFormat),this._initialized=!0),this._modelBatcher=e,this._renderStyleIndex=null,this._worldScale=t._worldScale,t._neutrinoEffect.fillGeometryBuffers([1,0,0],[0,1,0],[0,0,-1]))},e.prototype.initialize=function(){},e.prototype.beforeQuad=function(t){if(this._renderStyleIndex!==t){var e=this._renderComp.materials[t];e&&e.getHash()!==this._modelBatcher.material.getHash()&&(this._modelBatcher._flush(),this._modelBatcher.material=e),this._renderStyleIndex=t}this._bufferOffsetInfo=this._buffer.request(4,s.length)},e.prototype.pushVertex=function(t){var e=this._bufferOffsetInfo,n=this._vertexFormat._bytes/4,i=this._buffer,o=i._vData,r=i._uintVData,a=e.byteOffset/4+this._currentVertex*n,c=t.position[0]*this._worldScale.x,h=t.position[1]*this._worldScale.y,u=t.position[2]*this._worldScale.z;if(o[a+0]=c,o[a+1]=h,o[a+2]=u,o[a+3]=t.texCoords[0][0],o[a+4]=1-t.texCoords[0][1],r[a+5]=t.color[0]|t.color[1]<<8|t.color[2]<<16|t.color[3]<<24,++this._currentVertex,4==this._currentVertex){for(var d=i._iData,l=0;l<s.length;++l)d[e.indiceOffset+l]=e.vertexOffset+s[l];this._currentVertex=0}},e.prototype.pushRenderCall=function(){},e.prototype.cleanup=function(){},e}(cc.Assembler);n.default=r,cc._RF.pop()},{}],NeutrinoAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"7dd47KelZZLyadMohM05ouJ","NeutrinoAssembler"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./NeutrinoAssemblerWebGL"),o=(t("./NeutrinoAssemblerJSB"),i.default);n.default=o,cc._RF.pop()},{"./NeutrinoAssemblerJSB":"NeutrinoAssemblerJSB","./NeutrinoAssemblerWebGL":"NeutrinoAssemblerWebGL"}],NeutrinoComponent:[function(t,e,n){"use strict";cc._RF.push(e,"fe372iH4fZOBLxITCZbQxJ2","NeutrinoComponent");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./NeutrinoSettings"),a=t("./NeutrinoContext"),c=cc._decorator,h=c.ccclass,u=c.property,d=new cc.Mat4,l=new cc.Mat4,p=new cc.Quat,f=new cc.Vec3,_=new cc.Mat4,b=[0,0,0,0],y=[0,0,0,0];function v(t){return t instanceof cc.Vec2?[t.x,t.y]:t instanceof cc.Vec3?[t.x,t.y,t.z]:t}var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.context=null,e._neutrinoEffectModel=null,e._neutrinoEffect=null,e._spriteFrames=null,e._emitterPropsOnStart={},e._texturesRemap=null,e._waitingForContext=!1,e._resetInProgress=!1,e._numTexturesLoading=0,e._errorOnLoad=!1,e._worldScale=new cc.Vec3,e._destructed=!1,e._serialized=!1,e._worldParentId="",e._texturesPrefixPath="",e._spriteAtlas=null,e._pausedOnStart=!1,e._pausedGeneratorsOnStart=!1,e.destroyWhenEmpty=!1,e.destroyNodeWhenEmpty=!1,e}return o(e,t),Object.defineProperty(e.prototype,"worldParent",{get:function(){return this._findWorldParent()},set:function(t){this._worldParentId=t?t.uuid:"",this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texturesPrefixPath",{get:function(){return this._texturesPrefixPath},set:function(t){this._texturesPrefixPath=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteAtlas",{get:function(){return this._spriteAtlas},set:function(t){this._spriteAtlas=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedOnStart",{get:function(){return this._pausedOnStart},set:function(t){this._pausedOnStart=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedGeneratorsOnStart",{get:function(){return this._pausedGeneratorsOnStart},set:function(t){this._pausedGeneratorsOnStart=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),e.prototype.resetInEditor=function(){this._waitForContextAndReset()},e.prototype.onLoad=function(){if(this.context=a.default.instance(),this.context.ensureNoiseTextureIsGenerated(),!this._serialized){this._serialized=!0;var t=r.default.instance();t&&(this._texturesPrefixPath=t.defaultTexturesPrefixPath,this._spriteAtlas=t.defaultSpriteAtlas,t.defaultWorldParent&&(this._worldParentId=t.defaultWorldParent.uuid))}this._waitForContextAndReset()},e.prototype.onDestroy=function(){this._spriteFrames&&(this._spriteFrames.forEach(function(t){t&&t.decRef()}),this._spriteFrames.length=0),this._waitingForContext&&this.context.off("loaded",this._reset,this),this._destructed=!0},e.prototype.update=function(t){if(this._neutrinoEffect){this._getNeutrinoWorldPositionRotation(b,y),this._neutrinoEffect.update(t,b,y);var e=this.worldParent;e?(e.getWorldMatrix(_),this.materials.forEach(function(t){t.setProperty("worldParentMat",_)})):this.materials.forEach(function(t){t.setProperty("worldParentMat",cc.Mat4.IDENTITY)}),this.paused()||(this.destroyWhenEmpty||this.destroyNodeWhenEmpty)&&0===this.getNumParticles()&&(this.destroyNodeWhenEmpty?this.node.destroy():this.destroy())}},e.prototype.ready=function(){return null!==this._neutrinoEffect},e.prototype.restart=function(){this._getNeutrinoWorldPositionRotation(b,y),this._neutrinoEffect.restart(b,y)},e.prototype.resetPositionRotation=function(){this._getNeutrinoWorldPositionRotation(b,y),this._neutrinoEffect.resetPosition(b,y)},e.prototype.pause=function(){this.ready()&&this._neutrinoEffect.pauseAllEmitters(),this._pausedOnStart=!0},e.prototype.unpause=function(){this.ready()&&this._neutrinoEffect.unpauseAllEmitters(),this._pausedOnStart=!1},e.prototype.paused=function(){return this.ready()?this._neutrinoEffect.areAllEmittersPaused():this._pausedOnStart},e.prototype.pauseGenerators=function(){this.ready()&&this._neutrinoEffect.pauseGeneratorsInAllEmitters(),this._pausedGeneratorsOnStart=!0},e.prototype.unpauseGenerators=function(){this.ready()&&this._neutrinoEffect.unpauseGeneratorsInAllEmitters(),this._pausedGeneratorsOnStart=!1},e.prototype.generatorsPaused=function(){return this.ready()?this._neutrinoEffect.areGeneratorsInAllEmittersPaused():this._pausedGeneratorsOnStart},e.prototype.setPropertyInAllEmitters=function(t,e){var n=v(e);this.ready()?this._neutrinoEffect.setPropertyInAllEmitters(t,n):this._emitterPropsOnStart[t]=n},e.prototype.getNumParticles=function(){return this._neutrinoEffect?this._neutrinoEffect.getNumParticles():0},e.prototype._checkBacth=function(t,e){t.cullingMask!==e&&(t._flush(),t.cullingMask=e)},e.prototype._waitForContextAndReset=function(){if(this.context)return this.context.loaded()?void this._reset():(this._waitingForContext=!0,void this.context.once("loaded",this._reset,this))},e.prototype._reset=function(){if(!this._resetInProgress&&!this._destructed){this._waitingForContext=!1;var t=this.getEffectClass();if(t){this._resetInProgress=!0,this._errorOnLoad=!1,this._neutrinoEffectModel=new t(this.context.neutrinoContext),this._neutrinoEffect=null;var e=this._neutrinoEffectModel.textures.length;this._spriteFrames=new Array(e),this._numTexturesLoading=this._spriteFrames.length;for(var n=0;n<e;++n){var i=(this._texturesPrefixPath+this._neutrinoEffectModel.textures[n]).replace(/\.[^/.]+$/,"");if(this.spriteAtlas){var o=this.spriteAtlas.getSpriteFrame(i);o?(o.addRef(),this._spriteFrames[n]=o,--this._numTexturesLoading):(cc.warn(this.__classname__+": Can't load sprite '"+i+"' from sprite atlas. Will try to load single texture."),this._loadTexture(n,i))}else this._loadTexture(n,i)}0===this._numTexturesLoading&&this._onTexturesLoaded()}else cc.error(this.__classname__+": you shouldn't use NeutrinoComponent by itself. Use generated effect classes instead.")}},e.prototype._loadTexture=function(t,e){var n=this,i=this,o=this.getTexturesDatabase().find(function(t){return t.path===e}),s=function(){--i._numTexturesLoading,0===i._numTexturesLoading&&i._onTexturesLoaded()};if(!o)return cc.error(this.__classname__+": Can't find texture '"+e+"."),this._errorOnLoad=!0,void s();this.context.texturesBundle().load(o.path,cc.SpriteFrame,function(o,r){n._destructed||(o?(cc.error(i.__classname__+": Can't load sprite frame '"+e+"'. "+o),i._errorOnLoad=!0):(r.addRef(),i._spriteFrames[t]=r),s())})},e.prototype._onTexturesLoaded=function(){var t=this;if(this._errorOnLoad)this._resetInProgress=!1;else{this.materials.length=0;var e=!1;if(this._neutrinoEffectModel.renderStyles.forEach(function(n,i){var o=n.textureIndices[0],s=t._spriteFrames[o];if(!s)return cc.warn(t.__classname__+": Loading flow wrong behavior found #3 (don't worry about it)"),void(e=!0);var r=s.getTexture();if(!r)return cc.warn(t.__classname__+": Loading flow wrong behavior found #4 (don't worry about it)"),void(e=!0);var a=t._neutrinoEffectModel.materials[n.materialIndex],c=t.context.materials[2*a+(r.hasPremultipliedAlpha()?1:0)];if(!c)return cc.warn(t.__classname__+": Loading flow wrong behavior found #5 (don't worry about it)"),void(e=!0);t.setMaterial(i,c).setProperty("texture",r)},this),e)this._resetInProgress=!1;else{for(var n in this._initTexturesRemap(),this._getNeutrinoWorldPositionRotation(b,y),this._neutrinoEffect=this._neutrinoEffectModel.createWGLInstance(b,y,this._assembler,{paused:this._pausedOnStart,generatorsPaused:this._pausedGeneratorsOnStart}),this._neutrinoEffect.texturesRemap=this._texturesRemap,this._emitterPropsOnStart)this._neutrinoEffect.setPropertyInAllEmitters(n,this._emitterPropsOnStart[n]);this._emitterPropsOnStart={},this._resetInProgress=!1}}},e.prototype._initTexturesRemap=function(){for(var t=!1,e=0;e<this._spriteFrames.length;++e)if(1!==(n=this._spriteFrames[e]).uv[6]||0!==n.uv[0]||0!==n.uv[7]||1!==n.uv[1]){t=!0;break}if(t)for(this._texturesRemap=new Array(this._spriteFrames.length),e=0;e<this._spriteFrames.length;++e){var n=this._spriteFrames[e];this._texturesRemap[e]=new this.context.neutrinoContext.SubRect(n.uv[0],1-n.uv[1],n.uv[6]-n.uv[0],n.uv[1]-n.uv[7])}else this._texturesRemap=[]},e.prototype._getNeutrinoWorldPositionRotation=function(t,e){var n=d,i=p,o=f,s=this._worldScale;this.node.getWorldMatrix(n);var r=this.worldParent;if(r){var a=l;r.getWorldMatrix(a),cc.Mat4.invert(a,a),cc.Mat4.multiply(n,a,n)}cc.Mat4.getRotation(i,n),n.getTranslation(o),n.getScale(s),t[0]=o.x/s.x,t[1]=o.y/s.y,t[2]=o.z/s.z,e[0]=i.x,e[1]=i.y,e[2]=i.z,e[3]=i.w},e.prototype._findWorldParent=function(){var t=this.node;do{if(t.uuid==this._worldParentId)return t;t=t.parent}while(t);return null},s([u],e.prototype,"_serialized",void 0),s([u],e.prototype,"_worldParentId",void 0),s([u(cc.Node)],e.prototype,"worldParent",null),s([u],e.prototype,"_texturesPrefixPath",void 0),s([u],e.prototype,"texturesPrefixPath",null),s([u(cc.SpriteAtlas)],e.prototype,"_spriteAtlas",void 0),s([u(cc.SpriteAtlas)],e.prototype,"spriteAtlas",null),s([u],e.prototype,"_pausedOnStart",void 0),s([u],e.prototype,"pausedOnStart",null),s([u],e.prototype,"_pausedGeneratorsOnStart",void 0),s([u],e.prototype,"pausedGeneratorsOnStart",null),s([u],e.prototype,"destroyWhenEmpty",void 0),s([u],e.prototype,"destroyNodeWhenEmpty",void 0),s([h],e)}(cc.RenderComponent);n.default=m,cc._RF.pop()},{"./NeutrinoContext":"NeutrinoContext","./NeutrinoSettings":"NeutrinoSettings"}],NeutrinoContext:[function(t,e,n){"use strict";cc._RF.push(e,"c5500GPiiNIKKYfuHMFpUCR","NeutrinoContext");var i=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var o=t("./neutrinoparticles.js/neutrinoparticles.umd"),s=cc._decorator,r=s.ccclass,a=s.mixins,c=[{uuid:"97KN8e0flOjpWQPC0zIOoR",name:"NeutrinoNormal"},{uuid:"c5T9A8r8FHY5DeeJSjTP0k",name:"NeutrinoNormalPremul"},{uuid:"369MNzEcVL3Jj5UF9gvCfR",name:"NeutrinoAdd"},{uuid:"baTMgpxLlFqrJF04VcDxPF",name:"NeutrinoAddPremul"},{uuid:"a74/Nyb0dDYrv5zAZoAlVP",name:"NeutrinoMultiply"},{uuid:"04mmqJExZKjqgZH4ovqGK7",name:"NeutrinoMultiplyPremul"}],h=function(){function t(){this.neutrinoContext=new o.Context,this.materials=new Array(c.length),this._materialsLeftToLoad=this.materials.length,this._bundlesLeftToLoad=0,this._noiseGenerationStep=null,this._noiseGenerated=!1,this._texturesBundle=null,cc.EventTarget.call(this),this._startLoadingForBuild()}var e;return e=t,t.instance=function(){return this._singleInstance||(this._singleInstance=new e),this._singleInstance},t.prototype.loaded=function(){return 0===this._materialsLeftToLoad&&0===this._bundlesLeftToLoad},t.prototype.startNoiseTextureGeneration=function(){if(!this._noiseGenerated){var t,e=this,n=new this.neutrinoContext.NoiseGenerator;this._noiseGenerationStep=function(){for(var i=0;i<100;++i)if(n.step()){clearInterval(t),e._noiseGenerationStep=null,e._noiseGenerated=!0,n=null;break}},t=setInterval(this._noiseGenerationStep,0)}},t.prototype.ensureNoiseTextureIsGenerated=function(){if(!this._noiseGenerated)for(this._noiseGenerationStep||this.startNoiseTextureGeneration();this._noiseGenerationStep;)this._noiseGenerationStep()},t.prototype.texturesBundle=function(){return this._texturesBundle},t.prototype._startLoadingForDev=function(){for(var t=this,e=function(e){var n=e;cc.assetManager.loadAny(c[e].uuid,function(e,i){e?cc.error("NeutrinoContext: can't load material with UUID='"+c[n].uuid+"'. "+e):t._materialLoaded(i,n)})},n=0;n<this.materials.length;++n)e(n)},t.prototype._startLoadingForBuild=function(){var t=this,e=this;++this._bundlesLeftToLoad,cc.assetManager.loadBundle("neutrinoparticles-materials",function(n,i){if(n)cc.error("NeutrinoContext: failed to load bundle 'neutrinoparticles-materials'. "+n);else{--t._bundlesLeftToLoad;for(var o=function(t){var n=t;i.load(c[t].name,function(t,i){t?cc.error("NeutrinoContext: can't load material '"+c[n].name+"'. "+t):e._materialLoaded(i,n)})},s=0;s<t.materials.length;++s)o(s)}}),++this._bundlesLeftToLoad,cc.assetManager.loadBundle("neutrinoparticles/textures",function(e,n){e?cc.error("NeutrinoContext: failed to load bundle 'neutrinoparticles/textures'"):(cc.log("NeutrinoContext: Loaded bundle neutrinoparticles/textures"),--t._bundlesLeftToLoad,t._texturesBundle=n,t._checkAndEmitLoadedStatus())})},t.prototype._materialLoaded=function(t,e){this.materials[e]=t,--this._materialsLeftToLoad,this._checkAndEmitLoadedStatus()},t.prototype._checkAndEmitLoadedStatus=function(){this.loaded()&&this.emit("loaded")},e=i([r("NeutrinoContext"),a(cc.EventTarget)],t)}();n.default=h,cc.game.once(cc.game.EVENT_GAME_INITED,function(){h.instance().startNoiseTextureGeneration()}),cc._RF.pop()},{"./neutrinoparticles.js/neutrinoparticles.umd":"neutrinoparticles.umd"}],NeutrinoEffect_Blast03:[function(t,e,n){"use strict";cc._RF.push(e,"a41a7n9TPhO/rNezrKbq1ux","NeutrinoEffect_Blast03");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../exported_effects/Blast03.js"),a=t("../textures"),c=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,l=u.executeInEditMode,p=u.playOnFocus,f=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return r},e.prototype.getTexturesDatabase=function(){return a.default},s([d,l,p,f("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Blast03")],e)}(c.default);n.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Blast03.js":"Blast03","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoEffect_Fireworks01:[function(t,e,n){"use strict";cc._RF.push(e,"ef97b+LSN5AT48vBZjKOb/+","NeutrinoEffect_Fireworks01");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../exported_effects/Fireworks01.js"),a=t("../textures"),c=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,l=u.executeInEditMode,p=u.playOnFocus,f=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return r},e.prototype.getTexturesDatabase=function(){return a.default},s([d,l,p,f("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Fireworks01")],e)}(c.default);n.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Fireworks01.js":"Fireworks01","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],"NeutrinoEffect_Sparks burst":[function(t,e,n){"use strict";cc._RF.push(e,"f2c3fF7byFLaqaoklBp3huE","NeutrinoEffect_Sparks burst");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../exported_effects/Sparks burst.js"),a=t("../textures"),c=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,l=u.executeInEditMode,p=u.playOnFocus,f=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return r},e.prototype.getTexturesDatabase=function(){return a.default},s([d,l,p,f("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Sparks burst")],e)}(c.default);n.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Sparks burst.js":"Sparks burst","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoEffect_Sparks_epic:[function(t,e,n){"use strict";cc._RF.push(e,"bdd545RSuZF7oFlt6Q9aACj","NeutrinoEffect_Sparks_epic");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../exported_effects/Sparks_epic.js"),a=t("../textures"),c=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,l=u.executeInEditMode,p=u.playOnFocus,f=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return r},e.prototype.getTexturesDatabase=function(){return a.default},s([d,l,p,f("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Sparks_epic")],e)}(c.default);n.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Sparks_epic.js":"Sparks_epic","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoSettings:[function(t,e,n){"use strict";cc._RF.push(e,"fbcd0MmKjROJoyVC6K9nt1e","NeutrinoSettings");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultWorldParent=null,e.defaultTexturesPrefixPath="",e.defaultSpriteAtlas=null,e}var n;return o(e,t),n=e,e.instance=function(){var t=cc.find("Canvas");if(!t)return null;var e=t.getComponent(n);return e||((e=t.addComponent(n)).defaultWorldParent=t),e},s([c(cc.Node)],e.prototype,"defaultWorldParent",void 0),s([c],e.prototype,"defaultTexturesPrefixPath",void 0),s([c(cc.SpriteAtlas)],e.prototype,"defaultSpriteAtlas",void 0),n=s([a],e)}(cc.Component);n.default=h,cc.NeutrinoSettings=h,cc._RF.pop()},{}],Responsive:[function(t,e,n){"use strict";cc._RF.push(e,"d3abaWwEQhAi5Yf4wF9VZxN","Responsive");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Controller/BaseController"),a=t("../Controller/CoinController"),c=t("../Data/constants"),h=cc._decorator,u=h.ccclass,d=h.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemyBase=null,e.allyBase=null,e.CoinController=null,e.Environment=null,e.Options=null,e.speedLine=null,e.CTA_logo=null,e.Hor_Decor=null,e.Ver_Decor=null,e.FrameFood=null,e.LoadFood=null,e.Options_Layout=null,e.device="",e.isRotate=!1,e.HORIZONTAL_IPX="horizontal_IPX",e.HORIZONTAL_TABLET="horizontal_Tablet",e.VERTICAL_IPX="vertical_IPX",e.VERTICAL_MOBILE="vertical_Mobile",e}return o(e,t),e.prototype.start=function(){this.FrameFood=this.Options.getChildByName("Framefood"),this.LoadFood=this.Options.getChildByName("LoadFoodController"),this.Options_Layout=this.Options.getChildByName("Layout")},e.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(c.Constants.isRotate=!0,this.setHorizontal()):(c.Constants.isRotate=!1,this.setVertical())},e.prototype.setHorizontal=function(){var t=cc.view.getFrameSize().width;cc.view.getFrameSize().height/t<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},e.prototype.setHorizontalForIpX=function(){if(this.HORIZONTAL_IPX!==this.device){this.device=this.HORIZONTAL_IPX,this.Hor_Decor.active=!0,this.Ver_Decor.active=!1,c.Constants.Responsive.speedCalculated=20,c.Constants.scaleArmy=.5,this.CoinController.node.scale=1,this.allyBase.node.scale=1,this.allyBase.getComponent(cc.Widget).top=210,this.allyBase.getComponent(cc.Widget).left=80,this.allyBase.node.getChildByName("base").setScale(.4,.4),this.enemyBase.node.scale=1,this.enemyBase.getComponent(cc.Widget).top=210,this.enemyBase.getComponent(cc.Widget).right=80,this.enemyBase.node.getChildByName("base").setScale(-.4,.4),this.FrameFood.setScale(10,.3),this.FrameFood.getComponent(cc.Widget).bottom=-5,this.LoadFood.setScale(.316,.316),this.LoadFood.getComponent(cc.Widget).left=-5,this.LoadFood.getComponent(cc.Widget).bottom=-10,this.Options_Layout.setScale(1,1);var t=this.Options_Layout.getComponent(cc.Widget),e=this.Options_Layout.getComponent(cc.Layout),n=this.Options_Layout.children;t.isAlignLeft=!0,t.isAlignRight=!0,t.isAlignHorizontalCenter=!1,t.left=30,t.right=-130,t.bottom=65,e.spacingX=140,n.forEach(function(t){t.scale=1.15}),this.CTA_logo.scale=.4,this.speedLine.scale=.9,this.speedLine.y=-200}},e.prototype.setHorizontalForTablet=function(){if(this.HORIZONTAL_TABLET!==this.device){this.device=this.HORIZONTAL_TABLET,this.Hor_Decor.active=!0,this.Ver_Decor.active=!1,c.Constants.Responsive.speedCalculated=10,c.Constants.scaleArmy=.5,this.CoinController.node.scale=1,this.allyBase.node.scale=1,this.allyBase.getComponent(cc.Widget).top=210,this.allyBase.getComponent(cc.Widget).left=80,this.allyBase.node.getChildByName("base").setScale(.4,.4),this.enemyBase.node.scale=1,this.enemyBase.getComponent(cc.Widget).top=210,this.enemyBase.getComponent(cc.Widget).right=80,this.enemyBase.node.getChildByName("base").setScale(-.4,.4),this.FrameFood.setScale(10,.3),this.FrameFood.getComponent(cc.Widget).bottom=-5,this.LoadFood.setScale(.316,.316),this.LoadFood.getComponent(cc.Widget).left=-5,this.LoadFood.getComponent(cc.Widget).bottom=-10,this.Options_Layout.setScale(1,1);var t=this.Options_Layout.getComponent(cc.Widget),e=this.Options_Layout.getComponent(cc.Layout),n=this.Options_Layout.children;t.isAlignLeft=!0,t.isAlignRight=!0,t.isAlignHorizontalCenter=!1,t.left=30,t.right=-130,t.bottom=65,e.spacingX=120,n.forEach(function(t){t.name.includes("Op")?t.scale=1.15:t.scale=.41}),this.CTA_logo.scale=.4,this.speedLine.scale=.6,this.speedLine.y=-180}},e.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},e.prototype.setIphoneX=function(){if(this.VERTICAL_IPX!==this.device){this.device=this.VERTICAL_IPX,this.Hor_Decor.active=!1,this.Ver_Decor.active=!0,c.Constants.Responsive.speedCalculated=0,c.Constants.scaleArmy=.25,this.CoinController.node.scale=.8,this.allyBase.node.scale=.85,this.allyBase.getComponent(cc.Widget).top=220,this.allyBase.getComponent(cc.Widget).left=30,this.allyBase.node.getChildByName("base").setScale(.25,.25),this.enemyBase.node.scale=.85,this.enemyBase.getComponent(cc.Widget).top=220,this.enemyBase.getComponent(cc.Widget).right=30,this.enemyBase.node.getChildByName("base").setScale(-.25,.25),this.FrameFood.setScale(10,.25),this.FrameFood.getComponent(cc.Widget).bottom=-5,this.LoadFood.setScale(.22,.24),this.LoadFood.getComponent(cc.Widget).left=-2,this.LoadFood.getComponent(cc.Widget).bottom=-2,this.Options_Layout.setScale(1,1);var t=this.Options_Layout.getComponent(cc.Widget),e=this.Options_Layout.getComponent(cc.Layout),n=this.Options_Layout.children;t.isAlignHorizontalCenter=!1,t.isAlignRight=!0,t.isAlignLeft=!0,t.right=67,t.left=177,t.bottom=34,e.spacingX=55,n.forEach(function(t){t.scale=.6}),this.CTA_logo.scale=.3}},e.prototype.setMobile=function(){if(this.VERTICAL_MOBILE!==this.device){this.device=this.VERTICAL_MOBILE,cc.view.getFrameSize().width,cc.view.getFrameSize().height,this.Hor_Decor.active=!1,this.Ver_Decor.active=!0,c.Constants.Responsive.speedCalculated=0,c.Constants.scaleArmy=.25,this.CoinController.node.scale=.8,this.allyBase.node.scale=.85,this.allyBase.getComponent(cc.Widget).top=220,this.allyBase.getComponent(cc.Widget).left=30,this.allyBase.node.getChildByName("base").setScale(.25,.25),this.enemyBase.node.scale=.85,this.enemyBase.getComponent(cc.Widget).top=220,this.enemyBase.getComponent(cc.Widget).right=30,this.enemyBase.node.getChildByName("base").setScale(-.25,.25),this.FrameFood.setScale(10,.25),this.FrameFood.getComponent(cc.Widget).bottom=-5,this.LoadFood.setScale(.22,.24),this.LoadFood.getComponent(cc.Widget).left=-2,this.LoadFood.getComponent(cc.Widget).bottom=-2,this.Options_Layout.setScale(1,1);var t=this.Options_Layout.getComponent(cc.Widget),e=this.Options_Layout.getComponent(cc.Layout),n=this.Options_Layout.children;t.isAlignHorizontalCenter=!1,t.isAlignRight=!0,t.isAlignLeft=!0,t.right=67,t.left=177,t.bottom=34,e.spacingX=55,n.forEach(function(t){t.scale=.6}),this.CTA_logo.scale=.3,this.speedLine.scale=.3,this.speedLine.y=-90}},e.prototype.update=function(){this.handleRotate()},s([d(r.default)],e.prototype,"enemyBase",void 0),s([d(r.default)],e.prototype,"allyBase",void 0),s([d(a.default)],e.prototype,"CoinController",void 0),s([d(cc.Node)],e.prototype,"Environment",void 0),s([d(cc.Node)],e.prototype,"Options",void 0),s([d(cc.Node)],e.prototype,"speedLine",void 0),s([d(cc.Node)],e.prototype,"CTA_logo",void 0),s([d(cc.Node)],e.prototype,"Hor_Decor",void 0),s([d(cc.Node)],e.prototype,"Ver_Decor",void 0),s([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Controller/BaseController":"BaseController","../Controller/CoinController":"CoinController","../Data/constants":"constants"}],Singleton:[function(t,e,n){"use strict";cc._RF.push(e,"e2ee0thttREWqwEqyE59c5l","Singleton");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator.ccclass,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.getInstance=function(t){return null===this._instance&&(this._instance=new t),console.log(this._instance),this._instance},e._instance=null,s([r],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],"Sparks burst":[function(t,e,n){"use strict";cc._RF.push(e,"4c81bSqRdxFD68UvUYMogaz","Sparks burst"),function(t,i){if("object"==typeof n&&void 0!==e)e.exports=i();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Sparks_burst=i()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Sparks_burst=i()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,n=function t(e,n){this.Ld=e,this.Bd=n,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};n.prototype={Ec:function(e,n,i){var o=t.ib(i.Md),s=Math.cos(o),r=Math.sin(o),a=t.Ae(i.Nd[0]),c=t.Ae(i.Nd[1]);e.transform(a*s,a*r,c*-r,c*s,n[0],n[1])},Fc:function(e,n,i){var o=i.Mc,s=2*o[2]*o[2],r=2*o[0]*o[1],a=2*o[3]*o[2],c=t.Ae(i.Nd[0]),h=t.Ae(i.Nd[1]);e.transform(c*(1-2*o[1]*o[1]-s),c*(r+a),h*(a-r),h*(2*o[0]*o[0]+s-1),n[0],n[1])},Pc:function(e,n,i){if(n.vc(e,-1,i),this.we&&null!=this.Be&&!n.oc&&n.Od>.001){var o=Math.floor(n.Qc%this.we.Rc),s=Math.floor(n.Qc/this.we.Rc),r=n.Ab.slice(),a=n.Nd.slice();if(!i||i.transform(r,a)){var c=Math.abs(a[0]),h=Math.abs(a[1]);if(c>.001&&h>.001){if(e.save(),this.Lc(e,r,n),e.translate(-c*n.Pd[0],-h*(1-n.Pd[1])),e.globalAlpha*=n.Od,n.gf[0]<.999||n.gf[1]<.999||n.gf[2]<.999){if(c>=1&&h>=1){var u=c<this.Tc?c:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(n.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,c,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,c,h);e.restore()}}}n.vc(e,1,i)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var n=0;n<this.Bd.tc.length;++n)this.Pc(t,this.Bd.tc[n],e);break;case 1:for(n=this.Bd.tc.length;n-- >0;)this.Pc(t,this.Bd.tc[n],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),n=0;n<this.Bd.tc.length;++n)this.Pc(t,this.Bd.tc[n],e)}t.restore()}};var i=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};i.prototype={qe:function(e,n,i,o,s){if(e.Ce(-1,n,i,o,s),this.we&&!e.oc){var r=this.vertex[0],a=this.vertex[1],c=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var l=t.ib(e.Md),p=-Math.sin(l),f=Math.cos(l);u[0]=n[0]*f+i[0]*p,u[1]=n[1]*f+i[1]*p,u[2]=n[2]*f+i[2]*p,d[0]=-n[0]*p+i[0]*f,d[1]=-n[1]*p+i[1]*f,d[2]=-n[2]*p+i[2]*f}else{var _=e.Mc,b=2*_[2]*_[2],y=2*_[0]*_[1],v=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=y+v,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=y-v,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var m=[],g=[],C=[],A=[];t.u(m,u,-e.Nd[0]*e.Pd[0]),t.u(g,u,e.Nd[0]*(1-e.Pd[0])),t.u(C,d,-e.Nd[1]*e.Pd[1]),t.u(A,d,e.Nd[1]*(1-e.Pd[1])),t.c(r.position,m,C),t.c(r.position,r.position,e.Ab),t.c(a.position,m,A),t.c(a.position,a.position,e.Ab),t.c(c.position,g,A),t.c(c.position,c.position,e.Ab),t.c(h.position,g,C),t.c(h.position,h.position,e.Ab);var x=t.v(e.gf,255);r.color=a.color=c.color=h.color=[x[0],x[1],x[2],255*e.Od];var w,S,B=Math.floor(e.Qc%this.we.Rc),R=Math.floor(e.Qc/this.we.Rc),T=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(T)var P=T.width/this.we.Rc,M=T.height/this.we.Sc,L=(w=T.x+B*P)+P,O=(S=T.y+T.height-R*M)-M;else L=(w=B*(P=1/this.we.Rc))+P,O=(S=1-R*(M=1/this.we.Sc))-M;if(r.texCoords[0]=[w,O],a.texCoords[0]=[w,S],c.texCoords[0]=[L,S],h.texCoords[0]=[L,O],s.beforeQuad&&s.beforeQuad(this.we.renderStyleIndex),s.pushVertex(r),s.pushVertex(a),s.pushVertex(c),s.pushVertex(h),s.__lastRenderCall){var N=s.__lastRenderCall;N.renderStyleIndex==this.we.renderStyleIndex?N.numIndices+=6:(s.pushRenderCall(N),s.__lastRenderCall=new t.RenderCall(N.startIndex+N.numIndices,6,this.we.renderStyleIndex))}else s.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,n,i,o,s)},ue:function(e,n,i,o){switch(this.Bd.Vc){case 0:for(var s=0;s<this.Bd.tc.length;++s)this.qe(this.Bd.tc[s],e,n,i,o);break;case 1:for(s=this.Bd.tc.length;s-- >0;)this.qe(this.Bd.tc[s],e,n,i,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(i,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,n,i,o)},this)}}};var o=function e(n,i,o){var s=this;function r(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function a(){this.Gb=1,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function c(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=n,this.we=i,r.prototype={Jd:function(){this.Nb()},Id:function(e,i,o){s.we.Pb(e,s,this);var r=s.Rb,a=n.Rb,c=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(c-=d,r+=d,a+=d,null!=this.Hb&&r>this.Hb){s.disactivate();break}s.Rb=r,n.Rb=a,i&&e>0&&t.ab(s.Ab,i,s.Bb,c/e),o&&e>0&&t.slerpq(s.Mc,o,s.prevRotation,c/e),this.Lb=this.Jb;for(var l=0;l<this.Jb&&0!=s.sc.length;++l){1==this.Jb?this.Kb=0:this.Kb=l/(this.Jb-1);var p=s.sc.pop();s.tc.unshift(p),0==l?p.Yb():p.Zb(),p.Id(c),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){s.disactivate();break}}this.Ob=u}return r+=c,s.Rb=r,i&&t.T(s.Ab,i),o&&t.U(s.Mc,o),h}},a.prototype={Jd:function(){this.Nb()},Id:function(e,i,o){s.we.Pb(e,s,this);var r=s.Rb,a=r+e,c=n.Rb,h=c+e,u=i?t.O(t.h(i,s.Bb)):0,d=0;if(u>1e-6){for(var l=u/this.rd,p=this.bc+l,f=l<.001?1-this.bc:(1-this.bc)/l,_=[];p>1;){var b=r+f*e;i&&t.ab(_,s.Bb,i,f),s.Rb=b,t.T(s.Ab,_),n.Rb=t.X(c,h,f),this.Lb=this.Jb;for(var y=0;y<this.Jb&&0!=s.sc.length;++y){1==this.Jb?this.Kb=0:this.Kb=y/(this.Jb-1);var v=s.sc.pop();s.tc.unshift(v),0==y?v.Yb():v.Zb(),v.Id(e*(1-f)),++d}f+=1/l,p-=1}this.bc=p}return s.Rb=a,i&&t.T(s.Ab,i),o&&t.U(s.Mc,o),d}},c.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){s.we.fd(s,this),this.nc()},Zb:function(){s.we.gd(s,this),this.nc()},Id:function(t){s.we.qc(t,s,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,i){this.Kc.push({Bd:new e(n,t,o),Ad:i})},vc:function(t,e,n){for(var i=0;i<this.Kc.length;++i){var o=this.Kc[i];e==o.Ad.xc&&o.Bd.Hd(t,n)}},Ce:function(t,e,n,i,o){for(var s=0;s<this.Kc.length;++s){var r=this.Kc[s];t==r.Ad.xc&&r.Bd.ue(e,n,i,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return s.we.Cc(s,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new r},this.ed=function(){this.vd=new a},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new c,l=0;l<this.Yc.length;++l){var p=this.Yc[l];d.uc(p.Db,p.Ad)}this.sc.push(d)}this.Nb=function(e,n){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,n||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,n,i){if(this.paused_)this.Td(n,i);else{if(this.wd=this.Rb,n)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,n,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var s;i&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?s=this.vd.Id(e,n,i):(n&&t.T(this.Ab,n),i&&t.U(this.Mc,i),s=0,this.Rb+=e);for(var r=s;r<this.tc.length;){var a=this.tc[r];if(a.oc){if(a.rc(e),this.xd(r))continue}else if(a.Id(e),this.Wc.Ac(this.tc[r])&&(a.wc(),this.xd(r)))continue;++r}}},o.prototype.xd=function(t){for(var e=this.tc[t],n=!0,i=0;i<e.Kc.length;++i){var o=e.Kc[i].Bd;if(o.activated()||o.tc.length>0){n=!1;break}}return!!n&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,n,i){this.construct.ue(t,e,n,i)},o.prototype.Td=function(e,n){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),n&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,n))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var s=function(){this._init=function(e,n,i,s,r){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,s);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,n){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,n||[0,0,0,1])},this.Nb(n,i),this.model.qd(this),this._presimNeeded=!0,r.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),r.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,n,i,this.presimFrameTime),this._presimNeeded=!1)}};s.prototype.restart=function(t,e,n){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var i=0;i<this.od.length;++i)this.od[i].Jd(this.Ab,this.Mc);this._presimNeeded=!0,n&&n.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),n&&n.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},s.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},s.prototype.update=function(t,e,n){this.Dd>0?this.updateFixed(t,e,n,this.Dd):this.updateFlex(t,e,n)},s.prototype.updateFixed=function(e,n,i,o){var s=0,r=[];t.T(r,this.Ab);var a=[];for(t.U(a,this.Mc),n&&t.equalv3_(n,this.Ab)&&(n=null),i&&t.equalq_(i,this.Mc)&&(i=null);e-s+this.Cd>=o;){var c=this.Rb;n&&t.ab(r,this.Ab,n,s/e),i&&t.slerpq(a,this.Mc,i,s/e);for(var h=0;h<this.od.length;++h)this.od[h].Id(o,r,a),this.Rb=c;s+=o-this.Cd,this.Cd=0,this.Rb=c+o}n&&t.T(this.Ab,n),i&&t.U(this.Mc,i),this.Cd+=e-s},s.prototype.updateFlex=function(e,n,i){for(var o=this.Rb,s=0;s<this.od.length;++s)this.od[s].Id(e,n,i),this.Rb=o;this.Rb=o+e,n&&t.T(this.Ab,n),i&&t.U(this.Mc,i)},s.prototype.resetPosition=function(e,n){e&&t.T(this.Ab,e),n&&t.U(this.Mc,n);for(var i=0;i<this.od.length;++i)this.od[i].Td(this.Ab,this.Mc)},s.prototype.setPropertyInAllEmitters=function(e,n){var i="_".concat(e);if(n instanceof Array)if(2==n.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][i],n);else for(o=0;o<this.od.length;++o)t.T(this.od[o][i],n);else for(o=0;o<this.od.length;++o)this.od[o][i]=n},s.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},s.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},s.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},s.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},s.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},s.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},s.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var r=function t(){this._init=function(e,n,o,s,r){t.prototype._init.call(this,e,n,o,i,r),this.texturesRemap=[];for(var a,c=[],h=0;h<this.model.Xe;++h)a=4*h,c.push(a+0,a+3,a+1,a+1,a+3,a+2);this.renderBuffer=s,this.renderBuffer.initialize(4*this.model.Xe,[2],c,this.model.Xe),this.renderBuffer.__numIndices=0}};(r.prototype=new s).fillGeometryBuffers=function(t,e,n){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(i){i.ue(t,e,n,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var a=function t(){this._init=function(e,i,o,s){t.prototype._init.call(this,e,i,o,n,s),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function c(){var n,i,o,s,r,a,c,h,u,d,l,p,f,_,b,y,v,m,g,C,A,x,w,S,B,R,T,P,M,L,O,N,I,F=[],k=[],E=[],V=[],j=[],G=[],U=[],D=[],W=[],H=[],q=[],K=[],z=[],J=[],X=[],Q=[],Z=[],Y=[],$=[],tt=[],et=[],nt=[],it=[],ot=[],st=[],rt=[],at=[],ct=[],ht=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter",this.ud=function(t){t.dd(),t._6=[[[0,.220665,.318587,.379215,.420794,.451183,.474816,.494688,.513163,.532418,.554793,.583229,.622079,.679108,.772734,1,1]]],t._7=[[[60,-293],[183,-219],[183,-219]]],t._10=[[[.3,1,1]]],t._22=[[[0,.0129444,.0491835,.104924,.176478,.260245,.35269,.450322,.54968,.647311,.739756,.823523,.895077,.950817,.987056,1,1],[1,.987056,.950816,.895075,.823522,.739755,.647311,.549678,.450321,.352688,.260244,.176477,.104924,.0491832,.0129438,0,0]]],t._24=[[[0,.0129445,.0491834,.104923,.176477,.260245,.352688,.45032,.549679,.647311,.739757,.823523,.895077,.950817,.987056,1,1]]],t._30=[[[1,1.08235,1.31293,1.66757,2.12282,2.65577,3.24394,3.86511,4.49725,5.11842,5.70659,6.23954,6.69479,7.04943,7.27999,7.36235,7.36235]],[[1,1,1]]],t._32=[[[0,1,1],[1,.376401,.376401],[.376401,.8,.8],[.8,.1,.1],[.1,1,1],[1,0,0]]],t._33=[[[0,.34799,.516906,.631629,.71686,.782823,.834936,.876485,.90965,.935968,.956581,.972371,.984046,.992201,.997357,1,1]]],t._34=[[[1,.997975,.991373,.980075,.96386,.942401,.91523,.881707,.840947,.791711,.7322,.659677,.569629,.453644,.292056,0,0]]],t.jd=1e3,t.Vc=0},this.Mb=function(t){t.zb=.3,t.Gb=1,t.Jb=500},this.Pb=function(t,e,n){n.zb=.3},this.fd=function(p,f){f.Mc=[],f._=0,n=1+2*p.Ld.rand(),f._2=n,t.W(F,0,0,0),f._4=[],t.c(f._4,p.Ab,F),i=0+1*p.Ld.rand(),s=i<0?0:i>1?1:i,t.V(k,0,15*(s-0)),o=e.nb(p._6[0][k[0]],k[1]),r=e.kb(o),t.V(V,0,1*(r-0)),e.lb(E,p._7[V[0]],V[1]),t.W(j,E[0],E[1],0),a=0+1*p.Ld.rand(),h=a<0?0:a>1?1:a,t.V(G,0,1*(h-0)),c=e.nb(p._10[0][G[0]],G[1]),u=t.v(t.v(j,c),10),f._12=[],t.T(f._12,u),d=1+3*p.Ld.rand(),f._14=d,t.randv3gen(U,300,p.Ld.rand),f._16=[],t.T(f._16,U),t.randv3gen(D,300,p.Ld.rand),f._18=[],t.T(f._18,D),l=0+1*p.Ld.rand(),f._20=l,t.T(f.Ab,f._4)},this.gd=function(p,f){f.Mc=[],f._=0,n=1+2*p.Ld.rand(),f._2=n,t.W(F,0,0,0),f._4=[],t.c(f._4,p.Ab,F),i=0+1*p.Ld.rand(),s=i<0?0:i>1?1:i,t.V(k,0,15*(s-0)),o=e.nb(p._6[0][k[0]],k[1]),r=e.kb(o),t.V(V,0,1*(r-0)),e.lb(E,p._7[V[0]],V[1]),t.W(j,E[0],E[1],0),a=0+1*p.Ld.rand(),h=a<0?0:a>1?1:a,t.V(G,0,1*(h-0)),c=e.nb(p._10[0][G[0]],G[1]),u=t.v(t.v(j,c),10),f._12=[],t.T(f._12,u),d=1+3*p.Ld.rand(),f._14=d,t.randv3gen(U,300,p.Ld.rand),f._16=[],t.T(f._16,U),t.randv3gen(D,300,p.Ld.rand),f._18=[],t.T(f._18,D),l=0+1*p.Ld.rand(),f._20=l,t.T(f.Ab,f._4)},this.qc=function(n,i,o){for(o._+=n,t.W(W,0,150,0),(f=o._<502169e-9?502169e-9:o._>1?502169e-9+(o._-502169e-9)%.999498:o._)<.5?t.V(H,0,30.0302*(f-502169e-9)):t.V(H,1,30*(f-.5)),p=e.nb(i._22[0][H[0]],H[1]),_=o._/o._2,y=_<502169e-9?502169e-9:_>1?1:_,t.V(q,0,15.0075*(y-502169e-9)),b=e.nb(i._24[0][q[0]],q[1]),v=t.v(t.bb(o._16,o._18,p),b),t.T(K,W),t.c(K,K,v),t.T(z,[0,0,0]),g=n,t.T(Q,o._12),t.T(Z,o._4);g>1e-4;)C=g,t.T(Y,K),t.g(J,z,Q),(m=t.P(J))>1e-4&&(m=Math.sqrt(m),t.w(X,J,m),(A=.01*o._14*m)*C>.2&&(C=.2/A),t.c(Y,Y,t.v(X,m*A))),t.c(Q,Q,t.v(Y,C)),t.c(Z,Z,t.v(Q,C)),g-=C;t.T(o._4,Z),t.T(o._12,Q),t.T(o.Ab,o._4),t.Q(nt,[0,0,1]),t.I(et,nt,o._12),t.Q(et,et),t.I(tt,et,nt),t.pb($,tt,et,nt),t.V(it,3,3),x=t.O(o._12),w=x<0?0:x>200?200:x,t.V(st,0,.075*(w-0)),S=x<0?0:x>1?1:x,t.V(rt,0,1*(S-0)),t.V(ot,e.nb(i._30[0][st[0]],st[1]),e.nb(i._30[1][rt[0]],rt[1])),B=o._+o._20,(T=B<0?0:B>1?0+(B-0)%1:B)<.5?T<.4?T<.256169?t.V(at,0,3.90367*(T-0)):t.V(at,1,6.95262*(T-.256169)):t.V(at,2,10*(T-.4)):T<.8?T<.623069?t.V(at,3,8.12552*(T-.5)):t.V(at,4,5.65192*(T-.623069)):t.V(at,5,5*(T-.8)),R=e.nb(i._32[0][at[0]],at[1]),_=o._/o._2,M=_<0?0:_>1?1:_,t.V(ct,0,15*(M-0)),P=e.nb(i._33[0][ct[0]],ct[1]),O=_<0?0:_>1?1:_,t.V(ht,0,15*(O-0)),L=e.nb(i._34[0][ht[0]],ht[1]),N=t.r(t.r(ot,t.X(1,R,P)),L),I=t.j(it,N),t.S(o.Pd,[.5,.5]),t.U(o.Mc,$),t.S(o.Nd,I),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=0},this.Cc=function(t,e){return e._>e._2}}function h(){var n,i,o,s,r,a,c,h,u,d,l,p,f,_,b,y,v,m,g,C,A,x,w,S,B,R,T,P,M,L,O,N,I,F=[],k=[],E=[],V=[],j=[],G=[],U=[],D=[],W=[],H=[],q=[],K=[],z=[],J=[],X=[],Q=[],Z=[],Y=[],$=[],tt=[],et=[],nt=[],it=[],ot=[],st=[],rt=[],at=[],ct=[],ht=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter1",this.ud=function(t){t.dd(),t._6=[[[0,.220665,.318587,.379215,.420794,.451183,.474816,.494688,.513163,.532418,.554793,.583229,.622079,.679108,.772734,1,1]]],t._7=[[[242,-383],[321,-275],[321,-275]]],t._10=[[[.3,1,1]]],t._22=[[[0,.0129444,.0491835,.104924,.176478,.260245,.35269,.450322,.54968,.647311,.739756,.823523,.895077,.950817,.987056,1,1],[1,.987056,.950816,.895075,.823522,.739755,.647311,.549678,.450321,.352688,.260244,.176477,.104924,.0491832,.0129438,0,0]]],t._24=[[[0,.0129445,.0491834,.104923,.176477,.260245,.352688,.45032,.549679,.647311,.739757,.823523,.895077,.950817,.987056,1,1]]],t._30=[[[1,1.08235,1.31293,1.66757,2.12282,2.65577,3.24394,3.86511,4.49725,5.11842,5.70659,6.23954,6.69479,7.04943,7.27999,7.36235,7.36235]],[[1,1,1]]],t._32=[[[0,1,1],[1,.376401,.376401],[.376401,.8,.8],[.8,.1,.1],[.1,1,1],[1,0,0]]],t._33=[[[0,.34799,.516906,.631629,.71686,.782823,.834936,.876485,.90965,.935968,.956581,.972371,.984046,.992201,.997357,1,1]]],t._34=[[[1,.997975,.991373,.980075,.96386,.942401,.91523,.881707,.840947,.791711,.7322,.659677,.569629,.453644,.292056,0,0]]],t.jd=1e3,t.Vc=0},this.Mb=function(t){t.zb=.3,t.Gb=1,t.Jb=500},this.Pb=function(t,e,n){n.zb=.3},this.fd=function(p,f){f.Mc=[],f._=0,n=1+2*p.Ld.rand(),f._2=n,t.W(F,0,0,0),f._4=[],t.c(f._4,p.Ab,F),i=0+1*p.Ld.rand(),s=i<0?0:i>1?1:i,t.V(k,0,15*(s-0)),o=e.nb(p._6[0][k[0]],k[1]),r=e.kb(o),t.V(V,0,1*(r-0)),e.lb(E,p._7[V[0]],V[1]),t.W(j,E[0],E[1],0),a=0+1*p.Ld.rand(),h=a<0?0:a>1?1:a,t.V(G,0,1*(h-0)),c=e.nb(p._10[0][G[0]],G[1]),u=t.v(t.v(j,c),10),f._12=[],t.T(f._12,u),d=1+3*p.Ld.rand(),f._14=d,t.randv3gen(U,300,p.Ld.rand),f._16=[],t.T(f._16,U),t.randv3gen(D,300,p.Ld.rand),f._18=[],t.T(f._18,D),l=0+1*p.Ld.rand(),f._20=l,t.T(f.Ab,f._4)},this.gd=function(p,f){f.Mc=[],f._=0,n=1+2*p.Ld.rand(),f._2=n,t.W(F,0,0,0),f._4=[],t.c(f._4,p.Ab,F),i=0+1*p.Ld.rand(),s=i<0?0:i>1?1:i,t.V(k,0,15*(s-0)),o=e.nb(p._6[0][k[0]],k[1]),r=e.kb(o),t.V(V,0,1*(r-0)),e.lb(E,p._7[V[0]],V[1]),t.W(j,E[0],E[1],0),a=0+1*p.Ld.rand(),h=a<0?0:a>1?1:a,t.V(G,0,1*(h-0)),c=e.nb(p._10[0][G[0]],G[1]),u=t.v(t.v(j,c),10),f._12=[],t.T(f._12,u),d=1+3*p.Ld.rand(),f._14=d,t.randv3gen(U,300,p.Ld.rand),f._16=[],t.T(f._16,U),t.randv3gen(D,300,p.Ld.rand),f._18=[],t.T(f._18,D),l=0+1*p.Ld.rand(),f._20=l,t.T(f.Ab,f._4)},this.qc=function(n,i,o){for(o._+=n,t.W(W,0,150,0),(f=o._<502169e-9?502169e-9:o._>1?502169e-9+(o._-502169e-9)%.999498:o._)<.5?t.V(H,0,30.0302*(f-502169e-9)):t.V(H,1,30*(f-.5)),p=e.nb(i._22[0][H[0]],H[1]),_=o._/o._2,y=_<502169e-9?502169e-9:_>1?1:_,t.V(q,0,15.0075*(y-502169e-9)),b=e.nb(i._24[0][q[0]],q[1]),v=t.v(t.bb(o._16,o._18,p),b),t.T(K,W),t.c(K,K,v),t.T(z,[0,0,0]),g=n,t.T(Q,o._12),t.T(Z,o._4);g>1e-4;)C=g,t.T(Y,K),t.g(J,z,Q),(m=t.P(J))>1e-4&&(m=Math.sqrt(m),t.w(X,J,m),(A=.01*o._14*m)*C>.2&&(C=.2/A),t.c(Y,Y,t.v(X,m*A))),t.c(Q,Q,t.v(Y,C)),t.c(Z,Z,t.v(Q,C)),g-=C;t.T(o._4,Z),t.T(o._12,Q),t.T(o.Ab,o._4),t.Q(nt,[0,0,1]),t.I(et,nt,o._12),t.Q(et,et),t.I(tt,et,nt),t.pb($,tt,et,nt),t.V(it,3,3),x=t.O(o._12),w=x<0?0:x>200?200:x,t.V(st,0,.075*(w-0)),S=x<0?0:x>1?1:x,t.V(rt,0,1*(S-0)),t.V(ot,e.nb(i._30[0][st[0]],st[1]),e.nb(i._30[1][rt[0]],rt[1])),B=o._+o._20,(T=B<0?0:B>1?0+(B-0)%1:B)<.5?T<.4?T<.256169?t.V(at,0,3.90367*(T-0)):t.V(at,1,6.95262*(T-.256169)):t.V(at,2,10*(T-.4)):T<.8?T<.623069?t.V(at,3,8.12552*(T-.5)):t.V(at,4,5.65192*(T-.623069)):t.V(at,5,5*(T-.8)),R=e.nb(i._32[0][at[0]],at[1]),_=o._/o._2,M=_<0?0:_>1?1:_,t.V(ct,0,15*(M-0)),P=e.nb(i._33[0][ct[0]],ct[1]),O=_<0?0:_>1?1:_,t.V(ht,0,15*(O-0)),L=e.nb(i._34[0][ht[0]],ht[1]),N=t.r(t.r(ot,t.X(1,R,P)),L),I=t.j(it,N),t.S(o.Pd,[.5,.5]),t.U(o.Mc,$),t.S(o.Nd,I),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=0},this.Cc=function(t,e){return e._>e._2}}function u(){var n,i,o,s,r,a,c,h,u,d,l,p,f,_,b,y,v,m,g,C,A,x,w,S,B,R,T,P,M,L,O,N,I,F=[],k=[],E=[],V=[],j=[],G=[],U=[],D=[],W=[],H=[],q=[],K=[],z=[],J=[],X=[],Q=[],Z=[],Y=[],$=[],tt=[],et=[],nt=[],it=[],ot=[],st=[],rt=[],at=[],ct=[],ht=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter2",this.ud=function(t){t.dd(),t._6=[[[0,.220665,.318587,.379215,.420794,.451183,.474816,.494688,.513163,.532418,.554793,.583229,.622079,.679108,.772734,1,1]]],t._7=[[[165,-150],[210,-78],[210,-78]]],t._10=[[[.3,1,1]]],t._22=[[[0,.0129444,.0491835,.104924,.176478,.260245,.35269,.450322,.54968,.647311,.739756,.823523,.895077,.950817,.987056,1,1],[1,.987056,.950816,.895075,.823522,.739755,.647311,.549678,.450321,.352688,.260244,.176477,.104924,.0491832,.0129438,0,0]]],t._24=[[[0,.0129445,.0491834,.104923,.176477,.260245,.352688,.45032,.549679,.647311,.739757,.823523,.895077,.950817,.987056,1,1]]],t._30=[[[1,1.08235,1.31293,1.66757,2.12282,2.65577,3.24394,3.86511,4.49725,5.11842,5.70659,6.23954,6.69479,7.04943,7.27999,7.36235,7.36235]],[[1,1,1]]],t._32=[[[0,1,1],[1,.376401,.376401],[.376401,.8,.8],[.8,.1,.1],[.1,1,1],[1,0,0]]],t._33=[[[0,.34799,.516906,.631629,.71686,.782823,.834936,.876485,.90965,.935968,.956581,.972371,.984046,.992201,.997357,1,1]]],t._34=[[[1,.997975,.991373,.980075,.96386,.942401,.91523,.881707,.840947,.791711,.7322,.659677,.569629,.453644,.292056,0,0]]],t.jd=1e3,t.Vc=0},this.Mb=function(t){t.zb=.3,t.Gb=1,t.Jb=500},this.Pb=function(t,e,n){n.zb=.3},this.fd=function(p,f){f.Mc=[],f._=0,n=1+2*p.Ld.rand(),f._2=n,t.W(F,0,0,0),f._4=[],t.c(f._4,p.Ab,F),i=0+1*p.Ld.rand(),s=i<0?0:i>1?1:i,t.V(k,0,15*(s-0)),o=e.nb(p._6[0][k[0]],k[1]),r=e.kb(o),t.V(V,0,1*(r-0)),e.lb(E,p._7[V[0]],V[1]),t.W(j,E[0],E[1],0),a=0+1*p.Ld.rand(),h=a<0?0:a>1?1:a,t.V(G,0,1*(h-0)),c=e.nb(p._10[0][G[0]],G[1]),u=t.v(t.v(j,c),10),f._12=[],t.T(f._12,u),d=1+3*p.Ld.rand(),f._14=d,t.randv3gen(U,300,p.Ld.rand),f._16=[],t.T(f._16,U),t.randv3gen(D,300,p.Ld.rand),f._18=[],t.T(f._18,D),l=0+1*p.Ld.rand(),f._20=l,t.T(f.Ab,f._4)},this.gd=function(p,f){f.Mc=[],f._=0,n=1+2*p.Ld.rand(),f._2=n,t.W(F,0,0,0),f._4=[],t.c(f._4,p.Ab,F),i=0+1*p.Ld.rand(),s=i<0?0:i>1?1:i,t.V(k,0,15*(s-0)),o=e.nb(p._6[0][k[0]],k[1]),r=e.kb(o),t.V(V,0,1*(r-0)),e.lb(E,p._7[V[0]],V[1]),t.W(j,E[0],E[1],0),a=0+1*p.Ld.rand(),h=a<0?0:a>1?1:a,t.V(G,0,1*(h-0)),c=e.nb(p._10[0][G[0]],G[1]),u=t.v(t.v(j,c),10),f._12=[],t.T(f._12,u),d=1+3*p.Ld.rand(),f._14=d,t.randv3gen(U,300,p.Ld.rand),f._16=[],t.T(f._16,U),t.randv3gen(D,300,p.Ld.rand),f._18=[],t.T(f._18,D),l=0+1*p.Ld.rand(),f._20=l,t.T(f.Ab,f._4)},this.qc=function(n,i,o){for(o._+=n,t.W(W,0,150,0),(f=o._<502169e-9?502169e-9:o._>1?502169e-9+(o._-502169e-9)%.999498:o._)<.5?t.V(H,0,30.0302*(f-502169e-9)):t.V(H,1,30*(f-.5)),p=e.nb(i._22[0][H[0]],H[1]),_=o._/o._2,y=_<502169e-9?502169e-9:_>1?1:_,t.V(q,0,15.0075*(y-502169e-9)),b=e.nb(i._24[0][q[0]],q[1]),v=t.v(t.bb(o._16,o._18,p),b),t.T(K,W),t.c(K,K,v),t.T(z,[0,0,0]),g=n,t.T(Q,o._12),t.T(Z,o._4);g>1e-4;)C=g,t.T(Y,K),t.g(J,z,Q),(m=t.P(J))>1e-4&&(m=Math.sqrt(m),t.w(X,J,m),(A=.01*o._14*m)*C>.2&&(C=.2/A),t.c(Y,Y,t.v(X,m*A))),t.c(Q,Q,t.v(Y,C)),t.c(Z,Z,t.v(Q,C)),g-=C;t.T(o._4,Z),t.T(o._12,Q),t.T(o.Ab,o._4),t.Q(nt,[0,0,1]),t.I(et,nt,o._12),t.Q(et,et),t.I(tt,et,nt),t.pb($,tt,et,nt),t.V(it,3,3),x=t.O(o._12),w=x<0?0:x>200?200:x,t.V(st,0,.075*(w-0)),S=x<0?0:x>1?1:x,t.V(rt,0,1*(S-0)),t.V(ot,e.nb(i._30[0][st[0]],st[1]),e.nb(i._30[1][rt[0]],rt[1])),B=o._+o._20,(T=B<0?0:B>1?0+(B-0)%1:B)<.5?T<.4?T<.256169?t.V(at,0,3.90367*(T-0)):t.V(at,1,6.95262*(T-.256169)):t.V(at,2,10*(T-.4)):T<.8?T<.623069?t.V(at,3,8.12552*(T-.5)):t.V(at,4,5.65192*(T-.623069)):t.V(at,5,5*(T-.8)),R=e.nb(i._32[0][at[0]],at[1]),_=o._/o._2,M=_<0?0:_>1?1:_,t.V(ct,0,15*(M-0)),P=e.nb(i._33[0][ct[0]],ct[1]),O=_<0?0:_>1?1:_,t.V(ht,0,15*(O-0)),L=e.nb(i._34[0][ht[0]],ht[1]),N=t.r(t.r(ot,t.X(1,R,P)),L),I=t.j(it,N),t.S(o.Pd,[.5,.5]),t.U(o.Mc,$),t.S(o.Nd,I),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=0},this.Cc=function(t,e){return e._>e._2}}(a.prototype=new s).draw=function(t,e){for(var n=0;n<this.od.length;++n)this.od[n].Hd(t,e)},this.createWGLInstance=function(t,e,n,i){var o=new r;return o._init(this,t,e,n,i||{}),o},this.createCanvas2DInstance=function(t,e,n){var i=new a;return i._init(this,t,e,n||{}),i},this.textures=["sphere_orange.png"],this.materials=[1],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=3e3,this.qd=function(t){t.Dd=.0166667,t.Ud=0,t.presimFrameTime=.1,t.rand=function(){return Math.random()},t.pd(new c),t.pd(new h),t.pd(new u)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,n,i){var o=Math.floor(i),s=i-o;t.Y(e,n[o],n[o+1],s)},this.nb=function(e,n){var i=Math.floor(n),o=i+1;return t.X(e[i],e[o],n-i)}}}),cc._RF.pop()},{}],Sparks_epic:[function(t,e,n){"use strict";cc._RF.push(e,"19935/j0w9Fy5yK4u+rWHjs","Sparks_epic"),function(t,i){if("object"==typeof n&&void 0!==e)e.exports=i();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Sparks_epic=i()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Sparks_epic=i()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,n=function t(e,n){this.Ld=e,this.Bd=n,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};n.prototype={Ec:function(e,n,i){var o=t.ib(i.Md),s=Math.cos(o),r=Math.sin(o),a=t.Ae(i.Nd[0]),c=t.Ae(i.Nd[1]);e.transform(a*s,a*r,c*-r,c*s,n[0],n[1])},Fc:function(e,n,i){var o=i.Mc,s=2*o[2]*o[2],r=2*o[0]*o[1],a=2*o[3]*o[2],c=t.Ae(i.Nd[0]),h=t.Ae(i.Nd[1]);e.transform(c*(1-2*o[1]*o[1]-s),c*(r+a),h*(a-r),h*(2*o[0]*o[0]+s-1),n[0],n[1])},Pc:function(e,n,i){if(n.vc(e,-1,i),this.we&&null!=this.Be&&!n.oc&&n.Od>.001){var o=Math.floor(n.Qc%this.we.Rc),s=Math.floor(n.Qc/this.we.Rc),r=n.Ab.slice(),a=n.Nd.slice();if(!i||i.transform(r,a)){var c=Math.abs(a[0]),h=Math.abs(a[1]);if(c>.001&&h>.001){if(e.save(),this.Lc(e,r,n),e.translate(-c*n.Pd[0],-h*(1-n.Pd[1])),e.globalAlpha*=n.Od,n.gf[0]<.999||n.gf[1]<.999||n.gf[2]<.999){if(c>=1&&h>=1){var u=c<this.Tc?c:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(n.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,c,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,c,h);e.restore()}}}n.vc(e,1,i)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var n=0;n<this.Bd.tc.length;++n)this.Pc(t,this.Bd.tc[n],e);break;case 1:for(n=this.Bd.tc.length;n-- >0;)this.Pc(t,this.Bd.tc[n],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),n=0;n<this.Bd.tc.length;++n)this.Pc(t,this.Bd.tc[n],e)}t.restore()}};var i=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};i.prototype={qe:function(e,n,i,o,s){if(e.Ce(-1,n,i,o,s),this.we&&!e.oc){var r=this.vertex[0],a=this.vertex[1],c=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var l=t.ib(e.Md),p=-Math.sin(l),f=Math.cos(l);u[0]=n[0]*f+i[0]*p,u[1]=n[1]*f+i[1]*p,u[2]=n[2]*f+i[2]*p,d[0]=-n[0]*p+i[0]*f,d[1]=-n[1]*p+i[1]*f,d[2]=-n[2]*p+i[2]*f}else{var _=e.Mc,b=2*_[2]*_[2],y=2*_[0]*_[1],v=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=y+v,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=y-v,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var m=[],g=[],C=[],A=[];t.u(m,u,-e.Nd[0]*e.Pd[0]),t.u(g,u,e.Nd[0]*(1-e.Pd[0])),t.u(C,d,-e.Nd[1]*e.Pd[1]),t.u(A,d,e.Nd[1]*(1-e.Pd[1])),t.c(r.position,m,C),t.c(r.position,r.position,e.Ab),t.c(a.position,m,A),t.c(a.position,a.position,e.Ab),t.c(c.position,g,A),t.c(c.position,c.position,e.Ab),t.c(h.position,g,C),t.c(h.position,h.position,e.Ab);var x=t.v(e.gf,255);r.color=a.color=c.color=h.color=[x[0],x[1],x[2],255*e.Od];var w,S,B=Math.floor(e.Qc%this.we.Rc),R=Math.floor(e.Qc/this.we.Rc),T=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(T)var P=T.width/this.we.Rc,M=T.height/this.we.Sc,L=(w=T.x+B*P)+P,O=(S=T.y+T.height-R*M)-M;else L=(w=B*(P=1/this.we.Rc))+P,O=(S=1-R*(M=1/this.we.Sc))-M;if(r.texCoords[0]=[w,O],a.texCoords[0]=[w,S],c.texCoords[0]=[L,S],h.texCoords[0]=[L,O],s.beforeQuad&&s.beforeQuad(this.we.renderStyleIndex),s.pushVertex(r),s.pushVertex(a),s.pushVertex(c),s.pushVertex(h),s.__lastRenderCall){var N=s.__lastRenderCall;N.renderStyleIndex==this.we.renderStyleIndex?N.numIndices+=6:(s.pushRenderCall(N),s.__lastRenderCall=new t.RenderCall(N.startIndex+N.numIndices,6,this.we.renderStyleIndex))}else s.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,n,i,o,s)},ue:function(e,n,i,o){switch(this.Bd.Vc){case 0:for(var s=0;s<this.Bd.tc.length;++s)this.qe(this.Bd.tc[s],e,n,i,o);break;case 1:for(s=this.Bd.tc.length;s-- >0;)this.qe(this.Bd.tc[s],e,n,i,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(i,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,n,i,o)},this)}}};var o=function e(n,i,o){var s=this;function r(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function a(){this.Gb=1,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function c(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=n,this.we=i,r.prototype={Jd:function(){this.Nb()},Id:function(e,i,o){s.we.Pb(e,s,this);var r=s.Rb,a=n.Rb,c=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(c-=d,r+=d,a+=d,null!=this.Hb&&r>this.Hb){s.disactivate();break}s.Rb=r,n.Rb=a,i&&e>0&&t.ab(s.Ab,i,s.Bb,c/e),o&&e>0&&t.slerpq(s.Mc,o,s.prevRotation,c/e),this.Lb=this.Jb;for(var l=0;l<this.Jb&&0!=s.sc.length;++l){1==this.Jb?this.Kb=0:this.Kb=l/(this.Jb-1);var p=s.sc.pop();s.tc.unshift(p),0==l?p.Yb():p.Zb(),p.Id(c),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){s.disactivate();break}}this.Ob=u}return r+=c,s.Rb=r,i&&t.T(s.Ab,i),o&&t.U(s.Mc,o),h}},a.prototype={Jd:function(){this.Nb()},Id:function(e,i,o){s.we.Pb(e,s,this);var r=s.Rb,a=r+e,c=n.Rb,h=c+e,u=i?t.O(t.h(i,s.Bb)):0,d=0;if(u>1e-6){for(var l=u/this.rd,p=this.bc+l,f=l<.001?1-this.bc:(1-this.bc)/l,_=[];p>1;){var b=r+f*e;i&&t.ab(_,s.Bb,i,f),s.Rb=b,t.T(s.Ab,_),n.Rb=t.X(c,h,f),this.Lb=this.Jb;for(var y=0;y<this.Jb&&0!=s.sc.length;++y){1==this.Jb?this.Kb=0:this.Kb=y/(this.Jb-1);var v=s.sc.pop();s.tc.unshift(v),0==y?v.Yb():v.Zb(),v.Id(e*(1-f)),++d}f+=1/l,p-=1}this.bc=p}return s.Rb=a,i&&t.T(s.Ab,i),o&&t.U(s.Mc,o),d}},c.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){s.we.fd(s,this),this.nc()},Zb:function(){s.we.gd(s,this),this.nc()},Id:function(t){s.we.qc(t,s,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,i){this.Kc.push({Bd:new e(n,t,o),Ad:i})},vc:function(t,e,n){for(var i=0;i<this.Kc.length;++i){var o=this.Kc[i];e==o.Ad.xc&&o.Bd.Hd(t,n)}},Ce:function(t,e,n,i,o){for(var s=0;s<this.Kc.length;++s){var r=this.Kc[s];t==r.Ad.xc&&r.Bd.ue(e,n,i,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return s.we.Cc(s,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new r},this.ed=function(){this.vd=new a},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new c,l=0;l<this.Yc.length;++l){var p=this.Yc[l];d.uc(p.Db,p.Ad)}this.sc.push(d)}this.Nb=function(e,n){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,n||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,n,i){if(this.paused_)this.Td(n,i);else{if(this.wd=this.Rb,n)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,n,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var s;i&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?s=this.vd.Id(e,n,i):(n&&t.T(this.Ab,n),i&&t.U(this.Mc,i),s=0,this.Rb+=e);for(var r=s;r<this.tc.length;){var a=this.tc[r];if(a.oc){if(a.rc(e),this.xd(r))continue}else if(a.Id(e),this.Wc.Ac(this.tc[r])&&(a.wc(),this.xd(r)))continue;++r}}},o.prototype.xd=function(t){for(var e=this.tc[t],n=!0,i=0;i<e.Kc.length;++i){var o=e.Kc[i].Bd;if(o.activated()||o.tc.length>0){n=!1;break}}return!!n&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,n,i){this.construct.ue(t,e,n,i)},o.prototype.Td=function(e,n){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),n&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,n))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var s=function(){this._init=function(e,n,i,s,r){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,s);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,n){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,n||[0,0,0,1])},this.Nb(n,i),this.model.qd(this),this._presimNeeded=!0,r.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),r.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,n,i,this.presimFrameTime),this._presimNeeded=!1)}};s.prototype.restart=function(t,e,n){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var i=0;i<this.od.length;++i)this.od[i].Jd(this.Ab,this.Mc);this._presimNeeded=!0,n&&n.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),n&&n.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},s.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},s.prototype.update=function(t,e,n){this.Dd>0?this.updateFixed(t,e,n,this.Dd):this.updateFlex(t,e,n)},s.prototype.updateFixed=function(e,n,i,o){var s=0,r=[];t.T(r,this.Ab);var a=[];for(t.U(a,this.Mc),n&&t.equalv3_(n,this.Ab)&&(n=null),i&&t.equalq_(i,this.Mc)&&(i=null);e-s+this.Cd>=o;){var c=this.Rb;n&&t.ab(r,this.Ab,n,s/e),i&&t.slerpq(a,this.Mc,i,s/e);for(var h=0;h<this.od.length;++h)this.od[h].Id(o,r,a),this.Rb=c;s+=o-this.Cd,this.Cd=0,this.Rb=c+o}n&&t.T(this.Ab,n),i&&t.U(this.Mc,i),this.Cd+=e-s},s.prototype.updateFlex=function(e,n,i){for(var o=this.Rb,s=0;s<this.od.length;++s)this.od[s].Id(e,n,i),this.Rb=o;this.Rb=o+e,n&&t.T(this.Ab,n),i&&t.U(this.Mc,i)},s.prototype.resetPosition=function(e,n){e&&t.T(this.Ab,e),n&&t.U(this.Mc,n);for(var i=0;i<this.od.length;++i)this.od[i].Td(this.Ab,this.Mc)},s.prototype.setPropertyInAllEmitters=function(e,n){var i="_".concat(e);if(n instanceof Array)if(2==n.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][i],n);else for(o=0;o<this.od.length;++o)t.T(this.od[o][i],n);else for(o=0;o<this.od.length;++o)this.od[o][i]=n},s.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},s.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},s.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},s.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},s.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},s.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},s.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var r=function t(){this._init=function(e,n,o,s,r){t.prototype._init.call(this,e,n,o,i,r),this.texturesRemap=[];for(var a,c=[],h=0;h<this.model.Xe;++h)a=4*h,c.push(a+0,a+3,a+1,a+1,a+3,a+2);this.renderBuffer=s,this.renderBuffer.initialize(4*this.model.Xe,[2],c,this.model.Xe),this.renderBuffer.__numIndices=0}};(r.prototype=new s).fillGeometryBuffers=function(t,e,n){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(i){i.ue(t,e,n,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var a=function t(){this._init=function(e,i,o,s){t.prototype._init.call(this,e,i,o,n,s),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function c(){var n,i,o,s,r,a,c,h,u,d,l,p,f,_,b,y,v,m,g,C,A,x,w,S,B,R,T=[],P=[],M=[],L=[],O=[],N=[],I=[],F=[],k=[],E=[],V=[],j=[],G=[],U=[],D=[],W=[],H=[],q=[],K=[],z=[],J=[],X=[],Q=[],Z=[],Y=[],$=[],tt=[],et=[],nt=[],it=[],ot=[],st=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter",this.ud=function(t){t.dd(),t._2=[[[-474.8,357.544],[560.536,358],[560.536,358]]],t._8=[[[0,0,0]],[[-500,-200,-200],[-200,-500,-500]],[[0,0,0]]],t._19=[[[1e3,840.98,754.461,730.229,756.67,821.18,910.671,1012.09,1112.92,1201.56,1267.68,1302.38,1298.22,1249.27,1150.97,1e3,1e3]]],t._24=[[[1,1,1]],[[.4,.406561,.421334,.443034,.470859,.504328,.543192,.587403,.637113,.692703,.754872,.824812,.904612,.998302,1.11553,1.3,1.3]]],t._26=[[[1,1,1]],[[.5,1,1]],[[.5,1,1]]],t._27=[[[0,1,1],[1,1,1],[1,.3,.3],[.3,.3,.3],[.3,1,1],[1,1,1],[1,0,0]]],t.jd=800,t.Vc=0},this.Mb=function(t){t.zb=250,t.Gb=1,t.Jb=1},this.Pb=function(t,e,n){n.zb=250},this.fd=function(l,p){p.Mc=[],p._=0,n=0+1*l.Ld.rand(),i=e.kb(n),t.V(P,0,1*(i-0)),e.lb(T,l._2[P[0]],P[1]),o=1e3*l.Ld.rand()-500,t.W(M,T[0],T[1],o),p._5=[],t.c(p._5,l.Ab,M),t.randv3gen(L,600,l.Ld.rand),p._7=[],t.T(p._7,L),s=l.Rb<0?0:l.Rb>1?1:l.Rb,t.V(N,0,1*(s-0)),(r=l.Rb<0?0:l.Rb>4?0+(l.Rb-0)%4:l.Rb)<2?t.V(I,0,.5*(r-0)):t.V(I,1,.5*(r-2)),a=l.Rb<0?0:l.Rb>1?1:l.Rb,t.V(F,0,1*(a-0)),t.W(O,e.nb(l._8[0][N[0]],N[1]),e.nb(l._8[1][I[0]],I[1]),e.nb(l._8[2][F[0]],F[1])),p._9=[],t.T(p._9,O),c=3+1*l.Ld.rand(),p._11=c,h=10+5*l.Ld.rand(),u=10+5*l.Ld.rand(),t.V(k,h,u),p._15=[],t.S(p._15,k),d=.4+l.Ld.rand()*(.6-.4),p._17=d,t.T(p.Ab,p._5)},this.gd=function(l,p){p.Mc=[],p._=0,n=0+1*l.Ld.rand(),i=e.kb(n),t.V(P,0,1*(i-0)),e.lb(T,l._2[P[0]],P[1]),o=1e3*l.Ld.rand()-500,t.W(M,T[0],T[1],o),p._5=[],t.c(p._5,l.Ab,M),t.randv3gen(L,600,l.Ld.rand),p._7=[],t.T(p._7,L),s=l.Rb<0?0:l.Rb>1?1:l.Rb,t.V(N,0,1*(s-0)),(r=l.Rb<0?0:l.Rb>4?0+(l.Rb-0)%4:l.Rb)<2?t.V(I,0,.5*(r-0)):t.V(I,1,.5*(r-2)),a=l.Rb<0?0:l.Rb>1?1:l.Rb,t.V(F,0,1*(a-0)),t.W(O,e.nb(l._8[0][N[0]],N[1]),e.nb(l._8[1][I[0]],I[1]),e.nb(l._8[2][F[0]],F[1])),p._9=[],t.T(p._9,O),c=3+1*l.Ld.rand(),p._11=c,h=10+5*l.Ld.rand(),u=10+5*l.Ld.rand(),t.V(k,h,u),p._15=[],t.S(p._15,k),d=.4+l.Ld.rand()*(.6-.4),p._17=d,t.T(p.Ab,p._5)},this.qc=function(n,i,o){for(o._+=n,l=o._/o._11,f=l<0?0:l>1?1:l,t.V(E,0,15*(f-0)),p=e.nb(i._19[0][E[0]],E[1]),t.u(j,[200,100,60],i.Ld.Rb),t.c(j,j,o._5),t.u(G,j,5e-4),t.xb(V,G),t.k(V,V,[.0078125,.0078125,.0078125]),t.c(V,V,[-1,-1,-1]),t.u(V,V,p),t.T(U,V),t.c(U,U,o._9),t.T(D,[0,0,0]),b=n,t.T(q,o._7),t.T(K,o._5);b>1e-4;)y=b,t.T(z,U),t.g(W,D,q),(_=t.P(W))>1e-4&&(_=Math.sqrt(_),t.w(H,W,_),(v=.01*o._17*_)*y>.2&&(y=.2/v),t.c(z,z,t.v(H,_*v))),t.c(q,q,t.v(z,y)),t.c(K,K,t.v(q,y)),b-=y;t.T(o._5,K),t.T(o._7,q),t.T(o.Ab,o._5),t.Q(Z,[0,0,1]),t.I(X,o._7,Z),t.Q(X,X),t.I(Q,Z,X),t.pb(J,X,Q,Z),m=t.O(o._7),g=m<0?0:m>1?1:m,t.V($,0,1*(g-0)),C=m<200?200:m>400?400:m,t.V(tt,0,.075*(C-200)),t.V(Y,e.nb(i._24[0][$[0]],$[1]),e.nb(i._24[1][tt[0]],tt[1])),A=t.j(o._15,Y),l=o._/o._11,x=l<0?0:l>1?1:l,t.V(nt,0,1*(x-0)),w=l<0?0:l>1?1:l,t.V(it,0,1*(w-0)),S=l<0?0:l>1?1:l,t.V(ot,0,1*(S-0)),t.W(et,e.nb(i._26[0][nt[0]],nt[1]),e.nb(i._26[1][it[0]],it[1]),e.nb(i._26[2][ot[0]],ot[1])),(R=l<.1?.1:l>1?1:l)<.550358?R<.412479?R<.2?t.V(st,0,10*(R-.1)):t.V(st,1,4.70635*(R-.2)):R<.473283?t.V(st,2,16.4463*(R-.412479)):t.V(st,3,12.9744*(R-.473283)):R<.9?R<.6?t.V(st,4,20.1442*(R-.550358)):t.V(st,5,3.33333*(R-.6)):t.V(st,6,10*(R-.9)),B=e.nb(i._27[0][st[0]],st[1]),t.S(o.Pd,[.5,.5]),t.U(o.Mc,J),t.S(o.Nd,A),t.T(o.gf,et),o.Od=B,o.Qc=0},this.Cc=function(t,e){return e._>e._11}}(a.prototype=new s).draw=function(t,e){for(var n=0;n<this.od.length;++n)this.od[n].Hd(t,e)},this.createWGLInstance=function(t,e,n,i){var o=new r;return o._init(this,t,e,n,i||{}),o},this.createCanvas2DInstance=function(t,e,n){var i=new a;return i._init(this,t,e,n||{}),i},this.textures=["spark_orange_glow.png"],this.materials=[1],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=800,this.qd=function(t){t.Dd=.0333333,t.Ud=5,t.presimFrameTime=.1,t.rand=function(){return Math.random()},t.pd(new c)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,n,i){var o=Math.floor(i),s=i-o;t.Y(e,n[o],n[o+1],s)},this.nb=function(e,n){var i=Math.floor(n),o=i+1;return t.X(e[i],e[o],n-i)}}}),cc._RF.pop()},{}],SpawnController:[function(t,e,n){"use strict";cc._RF.push(e,"fe46aRT4+tC+aNQcYlNw6Y+","SpawnController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("../Other/Army"),c=t("../Data/Ultils"),h=cc._decorator,u=h.ccclass,d=h.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BasePlayer=null,e.AllyPoints=[],e.EnemyPoints=[],e.Army_Lv1=null,e.Army_Lv2=null,e.Army_Lv3=null,e.enemySpawnTime=1,e.isReduce=!1,e}return o(e,t),e.prototype.start=function(){r.Constants.isUpgrade=!0,this.spawnTank()},e.prototype.spawnTank=function(){var t=this;this.scheduleOnce(function(){var e;e=cc.instantiate(t.Army_Lv3),r.Constants.allyArmies.push(e),e.scale=r.Constants.scaleArmy;var n=t.AllyPoints[2];n.parent.addChild(e),e.setSiblingIndex(0),e.setPosition(n.getPosition()),e.group="Ally",e.getChildByName("Spine").getComponent(sp.Skeleton).timeScale=.9,r.Constants.isSpawnTank=!0,cc.log("Spawned Tank!")},.5)},e.prototype.SpawnEnemies=function(){var t=this;this.schedule(function(){var e=c.RandomRangeInt(1,3);r.Constants.isPauseGame||r.Constants.shootCount>=2||t.SpawnEnemyArmy(r.Constants.ArmySkin.Enemy,e)},this.enemySpawnTime,cc.macro.REPEAT_FOREVER,.2)},e.prototype.SpawnEnemyArmy=function(t,e){var n=c.RandomRangeInt(0,5),i=null;switch(e){case 1:i=cc.instantiate(this.Army_Lv1);break;case 2:i=cc.instantiate(this.Army_Lv2)}r.Constants.enemyArmies.push(i),i.scaleX=-r.Constants.scaleArmy,i.scaleY=r.Constants.scaleArmy;var o=this.EnemyPoints[n],s=i.getComponent(a.default);o.parent.addChild(i),i.setSiblingIndex(0),i.setPosition(o.getPosition()),s.skin=t,i.group="Enemy",i.getChildByName("Spine").getComponent(sp.Skeleton).setSkin(t),console.log("Enemy - Group: "+i.group)},e.prototype.SpawnPlayerArmy=function(t,e){var n,i=c.RandomRangeInt(0,5);switch(e){case 1:n=cc.instantiate(this.Army_Lv1);break;case 2:n=cc.instantiate(this.Army_Lv2);break;case 3:n=cc.instantiate(this.Army_Lv3)}r.Constants.allyArmies.push(n),console.log("Allies:"+r.Constants.allyArmies.length),n.scale=r.Constants.scaleArmy;var o=this.AllyPoints[i],s=n.getComponent(a.default);o.parent.addChild(n),n.setPosition(o.getPosition()),s.skin=t,n.group="Ally";var h=n.getChildByName("Spine").getComponent(sp.Skeleton);h.setSkin(t),h.timeScale=.9},s([d(cc.Node)],e.prototype,"BasePlayer",void 0),s([d([cc.Node])],e.prototype,"AllyPoints",void 0),s([d([cc.Node])],e.prototype,"EnemyPoints",void 0),s([d(cc.Prefab)],e.prototype,"Army_Lv1",void 0),s([d(cc.Prefab)],e.prototype,"Army_Lv2",void 0),s([d(cc.Prefab)],e.prototype,"Army_Lv3",void 0),s([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Data/Ultils":"Ultils","../Data/constants":"constants","../Other/Army":"Army"}],TankController:[function(t,e,n){"use strict";cc._RF.push(e,"dce60iE4EVAx6idfxoSFJOu","TankController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=t("../Other/Army"),c=t("../Plugin/AudioManager"),h=cc._decorator,u=h.ccclass,d=h.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.HealthBar=null,e.vFx_Booom=null,e.FX_Upgrade=null,e.FX_Blink=null,e.TroopsPoints=[],e.AudioManager=null,e.spine=null,e.collider=null,e.skin="",e.speed=25,e.isRunning=!1,e.isBase=!1,e.isLive=!0,e.rigidbody=null,e}return o(e,t),e.prototype.onCollisionEnter=function(t,e){var n=this;if(t){0===t.tag&&(r.Constants.isTankCanRun=!1,this.shoot());var i=t.getComponent(a.default);i&&r.Constants.isTankCanRun&&18===e.tag&&(r.Constants.shootCount+=1,r.Constants.isTankCanRun=!1,this.spine.setAnimation(0,r.Constants.ArmyAnim.Attack,!1),this.scheduleOnce(function(){n.node.getChildByName("Blast").getComponent(cc.Animation).play("Tank_BlastAnim"),n.AudioManager.playSound(r.Constants.SoundTrack.Lv2_Tank),n.shootEnemy(i);for(var t=function(t){var e=r.Constants.enemyArmies[t],n=e.getComponent(a.default);n.isLive=!1,n.spine.setAnimation(0,r.Constants.ArmyAnim.Die,!1),cc.tween(e).to(.5,{opacity:0}).call(function(){e.active=!1,e.destroy()}).start()},e=0;e<r.Constants.enemyArmies.length;e++)t(e);r.Constants.enemyArmies=[]},.3))}},e.prototype.shootEnemy=function(){cc.log("shoot!!!");var t=this.node.getPosition(),e=cc.instantiate(this.vFx_Booom);e.parent=this.node,e.setPosition(t.x+50,t.y+105),e.active=!0,this.scheduleOnce(function(){e.active=!1,r.Constants.isTankCanRun=!0},1.5)},e.prototype.start=function(){var t=this;this.AudioManager=this.node.parent.parent.parent.parent.parent.parent.getChildByName("AudioManager").getComponent(c.default),this.spine=this.node.getChildByName("Spine").getComponent(sp.Skeleton),this.collider=this.getComponent(cc.BoxCollider),this.collider.enabled=!1,this.scheduleOnce(function(){t.runAheadBase(),t.spine.setAnimation(0,r.Constants.ArmyAnim.Run,!0)},.2),r.Constants.tank_TroopPoints=this.TroopsPoints},e.prototype.shoot=function(){var t=this;this.spine.setAnimation(0,r.Constants.ArmyAnim.Attack,!1),this.scheduleOnce(function(){t.node.getChildByName("Blast").getComponent(cc.Animation).play("Tank_BlastAnim"),t.AudioManager.playSound(r.Constants.SoundTrack.Lv2_Tank);var e=new cc.Event.EventCustom("Shooting",!0);t.node.dispatchEvent(e)},.3)},e.prototype.die=function(){var t=this;this.isLive=!1,this.spine.timeScale=.3,this.spine.setAnimation(0,r.Constants.ArmyAnim.Die,!1),this.HealthBar.active=!1,r.Constants.isLoose=!0,r.Constants.isPauseGame=!0,cc.tween(this.node).to(1,{opacity:0}).call(function(){return t.node.destroy()}).start(),this.node.getComponent(cc.Collider).enabled=!1,this.node.getComponent(cc.Collider).destroy()},e.prototype.runAheadBase=function(){var t=this.node.getPosition();this.node.x=t.x+100,r.Constants.isCanTouch=!0},e.prototype.activeAnimRun=function(){this.isRunning||(this.spine.node.active=!0,this.HealthBar.parent.active=!0,this.collider.enabled=!0,this.updateTankPremeium(),this.registerEvent(),this.spine.setAnimation(0,r.Constants.ArmyAnim.Run,!0))},e.prototype.updateTankPremeium=function(){var t=this.node.scale;this.FX_Upgrade.resetSystem(),this.FX_Blink.resetSystem(),cc.tween(this.node).to(.5,{scale:t+.15},{easing:cc.easing.elasticOut}).start()},e.prototype.registerEvent=function(){var t=new cc.Event.EventCustom("ShowSpeedLine",!0);this.node.dispatchEvent(t)},e.prototype.run=function(){this.activeAnimRun(),this.isRunning=!0;var t=this.node.getPosition(),e=new cc.Vec2(t.x+25+r.Constants.Responsive.speedCalculated,t.y);this.node.setPosition(t.lerp(e,.02,t))},e.prototype.update=function(){this.HealthBar.scaleX<=.05&&this.isLive&&this.die(),r.Constants.isTankCanRun&&this.run()},s([d(cc.Node)],e.prototype,"HealthBar",void 0),s([d(cc.Prefab)],e.prototype,"vFx_Booom",void 0),s([d(cc.ParticleSystem)],e.prototype,"FX_Upgrade",void 0),s([d(cc.ParticleSystem)],e.prototype,"FX_Blink",void 0),s([d([cc.Node])],e.prototype,"TroopsPoints",void 0),s([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Data/constants":"constants","../Other/Army":"Army","../Plugin/AudioManager":"AudioManager"}],TouchAreaController:[function(t,e,n){"use strict";cc._RF.push(e,"85711X2lIBGPIPjaJXFSYaE","TouchAreaController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TouchAreaController=void 0;var r=t("../Data/constants"),a=t("../Data/IronSource"),c=t("../Plugin/AudioManager"),h=t("./GameController"),u=t("./GamePlay"),d=cc._decorator,l=d.ccclass,p=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.IronSource=null,e.AudioManager=null,e.GameController=null,e.GamePlay=null,e.CTA=null,e.hidemask=null,e.hand=null,e.btn_SpawnArmys=[],e.btn_install=null,e.btn_upgrade=null,e.btn_BuyArmys=[],e.ps_upgrade=[],e.Lv1Troops=[],e.Lv2Troops=[],e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.registerEvent()},e.prototype.registerEvent=function(){for(var t=this,e=function(e){n.btn_SpawnArmys[e].on(cc.Node.EventType.TOUCH_START,function(){r.Constants.isCanTouch&&(r.Constants.isToStore?t.GameController.installHandle():r.Constants.isLoose||r.Constants.isWin||t.CTA.active||(t.AudioManager.playSound(r.Constants.SoundTrack.clickSound),t.GamePlay.spawnArmy(e+1),t.hand.active=!1))},n)},n=this,i=0;i<this.btn_SpawnArmys.length;i++)e(i);var o=function(e){var n=s.btn_BuyArmys[e];n.on(cc.Node.EventType.TOUCH_START,function(){r.Constants.isToStore?t.GameController.installHandle():0===e?r.Constants.currentCoin>=60?(t.AudioManager.playSound(r.Constants.SoundTrack.buySound),console.log("buyed"),r.Constants.isCanBuyArmyLv2=!0,r.Constants.enemyDie-=2,t.btn_SpawnArmys[e+1].getChildByName("frame").active=!0,n.active=!1):console.log("-- can not buy"):r.Constants.currentCoin>=90?(t.AudioManager.playSound(r.Constants.SoundTrack.buySound),console.log("buyed"),r.Constants.isCanBuyArmyLv3=!0,r.Constants.enemyDie-=3,t.btn_SpawnArmys[e+1].getChildByName("frame").active=!0,n.active=!1):console.log("-- can not buy")},s)},s=this;for(i=0;i<this.btn_BuyArmys.length;i++)o(i)},s([p(a.default)],e.prototype,"IronSource",void 0),s([p(c.default)],e.prototype,"AudioManager",void 0),s([p(h.GameController)],e.prototype,"GameController",void 0),s([p(u.default)],e.prototype,"GamePlay",void 0),s([p(cc.Node)],e.prototype,"CTA",void 0),s([p(cc.Node)],e.prototype,"hidemask",void 0),s([p(cc.Node)],e.prototype,"hand",void 0),s([p([cc.Node])],e.prototype,"btn_SpawnArmys",void 0),s([p(cc.Node)],e.prototype,"btn_install",void 0),s([p(cc.Node)],e.prototype,"btn_upgrade",void 0),s([p([cc.Node])],e.prototype,"btn_BuyArmys",void 0),s([p([cc.ParticleSystem])],e.prototype,"ps_upgrade",void 0),s([p([cc.Node])],e.prototype,"Lv1Troops",void 0),s([p([cc.Node])],e.prototype,"Lv2Troops",void 0),s([l],e)}(cc.Component);n.TouchAreaController=f,cc._RF.pop()},{"../Data/IronSource":"IronSource","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./GamePlay":"GamePlay"}],Ultils:[function(t,e,n){"use strict";cc._RF.push(e,"03f2ceupvBEfa9putmH215T","Ultils"),Object.defineProperty(n,"__esModule",{value:!0}),n.RandomRangeInt=void 0;var i=cc._decorator;i.ccclass,i.property,n.RandomRangeInt=function(t,e){return cc.math.randomRangeInt(t,e)},cc._RF.pop()},{}],constants:[function(t,e,n){"use strict";cc._RF.push(e,"eaccb/69FZDu6rC4YmR+uAW","constants"),Object.defineProperty(n,"__esModule",{value:!0}),n.Constants=void 0;var i,o,s,r=cc._decorator;r.ccclass,r.property,function(t){t.touchStart="touchstart",t.touchMove="touchmove",t.touchEnd="touchend",t.touchCancel="touchcancel"}(i||(i={})),function(t){t.Ally="ally",t.Enemy="enemy"}(o||(o={})),function(t){t.Attack="Attack",t.Die="Die",t.Hurt="Hurt",t.Run="Run",t.Idle="Idle"}(s||(s={}));var a,c={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},h={calculatedY:0,calculatedX:0,currentDevice:"",isHor:!1,isVer:!1,speedCalculated:0};(function(t){t.bgSound="bgSound",t.clickSound="clickSound",t.buySound="buySound",t.coinSound="coinSound",t.failSound="failSound",t.winSound="winSound",t.Lv2_Kinife="Lv2_Kinife",t.Lv2_Gun="Lv2_Gun",t.Lv2_Tank="Lv2_Tank",t.Bg_Attack="Bg_Attack"})(a||(a={}));var u=function(){function t(){}return t.isRotate=!1,t.isTouch=!1,t.isCanTouch=!1,t.isToStore=!0,t.isStartGame=!1,t.isHasResult=!1,t.isGainCoin=!1,t.isPauseGame=!1,t.isWin=!1,t.isLoose=!1,t.isCollideBase=!1,t.isActiveCTA=!1,t.isSpawnTank=!1,t.isFirstShoot=!1,t.isCanBuyArmyLv2=!1,t.isCanBuyArmyLv3=!1,t.isUpgrade=!1,t.currentCoin=0,t.increaseCoin=10,t.enemyDie=0,t.food=15,t.EnemyBaseHeal=1,t.AllyBaseHeal=1,t.scaleBoss=.5,t.scaleArmy=0,t.shootCount=0,t.comboCount=0,t.troopsSpawnLeftCount=4,t.troopsInTankCount=0,t.isFiveBroInTank=!1,t.isTankCanRun=!1,t.enemyArmies=[],t.allyArmies=[],t.tank_TroopPoints=[],t.Event=i,t.SoundTrack=a,t.ironSource=c,t.Responsive=h,t.ArmySkin=o,t.ArmyAnim=s,t}();n.Constants=u,cc._RF.pop()},{}],"neutrinoparticles.umd":[function(require,module,exports){"use strict";var global,factory;cc._RF.push(module,"ab558HOKv9Bq5K2NwBWDZL+","neutrinoparticles.umd"),global=void 0,factory=function(exports){function Context(){var ctx=this;function colorCompToHex_(t){return t<16?"0"+t.toString(16):t.toString(16)}this.equalv3_=function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]},this.equalq_=function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]&&t[3]==e[3]},this.a=function(t,e,n){t[0]=e[0]+n[0],t[1]=e[1]+n[1]},this.b=function(t,e){return[t[0]+e[0],t[1]+e[1]]},this.y=function(t,e,n){t[0]=e[0]+n,t[1]=e[1]+n},this.z=function(t,e){return[t[0]+e,t[1]+e]},this.c=function(t,e,n){t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2]},this.d=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},this.C=function(t,e,n){t[0]=e[0]+n,t[1]=e[1]+n,t[2]=e[2]+n},this.D=function(t,e){return[t[0]+e,t[1]+e,t[2]+e]},this.addq=function(t,e,n){t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3]},this.addq_=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3]]},this.e=function(t,e,n){t[0]=e[0]-n[0],t[1]=e[1]-n[1]},this.f=function(t,e){return[t[0]-e[0],t[1]-e[1]]},this.A=function(t,e,n){t[0]=e[0]-n,t[1]=e[1]-n},this.B=function(t,e){return[t[0]-e,t[1]-e]},this.nf=function(t,e,n){t[0]=e-n[0],t[1]=e-n[1]},this.of=function(t,e){return[t-e[0],t-e[1]]},this.g=function(t,e,n){t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2]},this.h=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},this.E=function(t,e,n){t[0]=e[0]-n,t[1]=e[1]-n,t[2]=e[2]-n},this.F=function(t,e){return[t[0]-e,t[1]-e,t[2]-e]},this.rf=function(t,e,n){t[0]=e-n[0],t[1]=e-n[1],t[2]=e-n[2]},this.sf=function(t,e){return[t-e[0],t-e[1],t-e[2]]},this.i=function(t,e,n){t[0]=e[0]*n[0],t[1]=e[1]*n[1]},this.j=function(t,e){return[t[0]*e[0],t[1]*e[1]]},this.k=function(t,e,n){t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2]},this.l=function(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2]]},this.m=function(t,e,n){t[0]=e[0]/n[0],t[1]=e[1]/n[1]},this.n=function(t,e){return[t[0]/e[0],t[1]/e[1]]},this.o=function(t,e,n){t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2]},this.p=function(t,e){return[t[0]/e[0],t[1]/e[1],t[2]/e[2]]},this.H=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},this.dotq_=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},this.q=function(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n},this.r=function(t,e){return[t[0]*e,t[1]*e]},this.s=function(t,e,n){t[0]=e[0]/n,t[1]=e[1]/n},this.t=function(t,e){return[t[0]/e,t[1]/e]},this.u=function(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n},this.v=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},this.w=function(t,e,n){t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n},this.x=function(t,e){return[t[0]/e,t[1]/e,t[2]/e]},this.y=function(t,e,n){t[0]=e[0]+n,t[1]=e[1]+n},this.z=function(t,e){return[t[0]+e,t[1]+e]},this.A=function(t,e,n){t[0]=e[0]-n,t[1]=e[1]-n},this.B=function(t,e){return[t[0]-e,t[1]-e]},this.G=function(t,e){return t[0]*e[0]+t[1]*e[1]},this.H=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},this.I=function(t,e,n){var i=e[0],o=e[1],s=e[2],r=n[0],a=n[1],c=n[2];t[0]=o*c-s*a,t[1]=s*r-i*c,t[2]=i*a-o*r},this.J=function(t,e){var n=t[0],i=t[1],o=t[2],s=e[0],r=e[1],a=e[2];return[i*a-o*r,o*s-n*a,n*r-i*s]},this.K=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},this.L=function(t){return t[0]*t[0]+t[1]*t[1]},this.M=function(t,e){ctx.q(t,e,1/ctx.K(e))},this.N=function(t){return ctx.r(t,1/ctx.K(t))},this.O=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},this.P=function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},this.Q=function(t,e){ctx.u(t,e,1/ctx.O(e))},this.R=function(t){return ctx.v(t,1/ctx.O(t))},this.S=function(t,e){t[0]=e[0],t[1]=e[1]},this.T=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]},this.U=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]},this.V=function(t,e,n){t[0]=e,t[1]=n},this.W=function(t,e,n,i){t[0]=e,t[1]=n,t[2]=i},this.X=function(t,e,n){return t+(e-t)*n},this.Y=function(t,e,n,i){t[0]=e[0]+(n[0]-e[0])*i,t[1]=e[1]+(n[1]-e[1])*i},this.Z=function(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]},this.ab=function(t,e,n,i){t[0]=e[0]+(n[0]-e[0])*i,t[1]=e[1]+(n[1]-e[1])*i,t[2]=e[2]+(n[2]-e[2])*i},this.bb=function(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n,t[2]+(e[2]-t[2])*n]},this.slerpq=function(t,e,n,i){var o=ctx.dotq_(e,n),s=[];if(o<0?(ctx.negq(s,n),o=-o):ctx.U(s,n),1-o<Number.EPSILON)t[0]=ctx.X(e[0],n[0],i),t[1]=ctx.X(e[1],n[1],i),t[2]=ctx.X(e[2],n[2],i),t[3]=ctx.X(e[3],n[3],i);else{var r=ctx.acos_(o);ctx.mulqscalar(t,ctx.addq_(ctx.mulqscalar_(e,ctx.sin_((1-i)*r)),ctx.mulqscalar_(s,ctx.sin_(i*r))),1/ctx.sin_(r))}},this.slerpq_=function(t,e,n){var i=[];return slerpq(i,t,e,n),i},this.acos_=function(t){return Math.acos(t)},this.sin_=function(t){return Math.sin(t)},this.cos_=function(t){return Math.cos(t)},this.taus88=function(t){var e,n,i;t||(t=0),this.seed=function(t){e=(t&=4294967295)<2?t+2:t,n=t<8?t+8:t,i=t<16?t+16:t},this.rand=function(){var t=(4294967295&(e<<13^e))>>>19;return(((e=((4294967294&e)<<12^t)>>>0)^(n=((4294967288&n)<<4^(t=(4294967295&(n<<2^n))>>>25))>>>0)^(i=((4294967280&i)<<17^(t=(4294967295&(i<<3^i))>>>11))>>>0))>>>0)/4294967296},this.seed(t)},this.cb=function(t,e){this.randv2gen(t,e,function(){return Math.random()})},this.randv2gen=function(t,e,n){var i=n()*Math.PI*2;t[0]=e*ctx.cos_(i),t[1]=e*ctx.sin_(i)},this.db=function(t,e){this.randv3gen(t,e,function(){return Math.random()})},this.randv3gen=function(t,e,n){var i=n()*Math.PI*2,o=2*n()-1,s=e*Math.sqrt(1-o*o);t[0]=s*ctx.cos_(i),t[1]=s*ctx.sin_(i),t[2]=e*o},this.yb=function(t,e,n,i,o){var s=e+o()*i[0],r=n+o()*i[1];ctx.V(t,s,r)},this.eb=function(t,e){ctx.V(-e[0],-e[1])},this.fb=function(t){return[-t[0],-t[1]]},this.gb=function(t,e){ctx.W(-e[0],-e[1],-e[2])},this.hb=function(t){return[-t[0],-t[1],-t[2]]},this.negq=function(t,e){t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3]},this.negq_=function(t){return[-t[0],-t[1],-t[2],-t[3]]},this.ib=function(t){return t/180*Math.PI},this.jb=function(t){return t/Math.PI*180},this.Ae=function(t){return t<0?-1:1},this.ob=function(t,e,n,i){var o=2*i[0]*i[0],s=2*i[1]*i[1],r=2*i[2]*i[2],a=2*i[0]*i[1],c=2*i[0]*i[2],h=2*i[1]*i[2],u=2*i[3]*i[2],d=2*i[3]*i[1],l=2*i[3]*i[0];t[0]=1-s-r,t[1]=a+u,t[2]=c-d,e[0]=a-u,e[1]=1-o-r,e[2]=h+l,n[0]=c+d,n[1]=h-l,n[2]=1-o-s},this.pb=function(t,e,n,i){var o=e[0]+n[1]+i[2];if(o>0){var s=2*Math.sqrt(o+1);t[3]=.25*s,t[0]=(n[2]-i[1])/s,t[1]=(i[0]-e[2])/s,t[2]=(e[1]-n[0])/s}else e[0]>n[1]&e[0]>i[2]?(s=2*Math.sqrt(1+e[0]-n[1]-i[2]),t[3]=(n[2]-i[1])/s,t[0]=.25*s,t[1]=(e[1]+n[0])/s,t[2]=(i[0]+e[2])/s):n[1]>i[2]?(s=2*Math.sqrt(1+n[1]-e[0]-i[2]),t[3]=(i[0]-e[2])/s,t[0]=(e[1]+n[0])/s,t[1]=.25*s,t[2]=(n[2]+i[1])/s):(s=2*Math.sqrt(1+i[2]-e[0]-n[1]),t[3]=(e[1]-n[0])/s,t[0]=(i[0]+e[2])/s,t[1]=(n[2]+i[1])/s,t[2]=.25*s)},this.axes2quat=this.pb,this.qb=function(t,e,n){var i=.5*ctx.ib(n),o=Math.sin(i);t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=Math.cos(i)},this.axisangle2quat=this.qb,this.axisangle2quat_=function(t,e){var n=.5*ctx.ib(e),i=Math.sin(n);return[t[0]*i,t[1]*i,t[2]*i,ctx.cos_(n)]},this.axisangle2quat_=this.axisangle2quat_,this.rb=function(t,e,n){var i=e[0],o=e[1],s=e[2],r=n[0],a=n[1],c=n[2],h=n[3],u=h*i+a*s-c*o,d=h*o+c*i-r*s,l=h*s+r*o-a*i,p=-r*i-a*o-c*s;t[0]=u*h+p*-r+d*-c-l*-a,t[1]=d*h+p*-a+l*-r-u*-c,t[2]=l*h+p*-c+u*-a-d*-r},this.sb=function(t,e,n){var i=e[0],o=e[1],s=e[2],r=e[3],a=n[0],c=n[1],h=n[2],u=n[3];t[0]=i*u+r*a+o*h-s*c,t[1]=o*u+r*c+s*a-i*h,t[2]=s*u+r*h+i*c-o*a,t[3]=r*u-i*a-o*c-s*h},this.mulqscalar=function(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n},this.mulqscalar_=function(t,e){return[t[0]*e,t[1]*e,t[2]*e,t[3]*e]},this.tb=function(t,e,n,i,o){var s=ctx.ib(n),r=Math.cos(s)*i,a=Math.sin(s)*i;t[0]=e[0]+r*o[0]-a*o[1],t[1]=e[1]+a*o[0]+r*o[1]},this.ub=function(t,e,n,i,o){var s=ctx.ib(n),r=Math.cos(s)/i,a=Math.sin(s)/i;t[0]=r*o[0]+a*o[1]-e[0]*r-e[1]*a,t[1]=r*o[1]-a*o[0]+e[0]*a-e[1]*r},this.vb=function(t){return t<0?Math.floor(ctx.yd-1+t%ctx.yd):Math.floor(t%ctx.yd)},this.ff=function(t){return"#"+colorCompToHex_(Math.floor(255*t[0]))+colorCompToHex_(Math.floor(255*t[1]))+colorCompToHex_(Math.floor(255*t[2]))},this.tf=function(t,e,n,i,o,s){var r=ctx.f(i,t),a=ctx.f(o,t),c=ctx.r(e,n);if(r[0]<-c[0]&&a[0]<-c[0]||r[0]>c[0]&&a[0]>c[0]||r[1]<-c[1]&&a[1]<-c[1]||r[1]>c[1]&&a[1]>c[1])return!1;if(r[0]<=c[0]&&r[0]>=-c[0]&&r[1]<=c[1]&&r[1]>=-c[1])return!0;if(s<1e-6)return!1;if(a[0]<=c[0]&&a[0]>=-c[0]&&a[1]<=c[1]&&a[1]>=-c[1])return!0;var h=ctx.f(o,i);ctx.s(h,h,s);var u=[-h[1],h[0]],d=Math.abs(ctx.G(u,a));if(Math.abs(ctx.G(u,c))>=d){var l=[-e[1],e[0]];if(ctx.G(l,r)*ctx.G(l,a)<=0)return!0}else if(Math.abs(ctx.G(u,[c[0],-c[1]]))>=d){var p=[e[1],e[0]];if(ctx.G(p,r)*ctx.G(p,a)<=0)return!0}return!1},this.uf=function(t,e,n,i,o,s,r){var a=ctx.f(i,t),c=ctx.f(o,t),h=ctx.r(e,n);if(s<1e-6)return!1;if(a[0]<-h[0]&&c[0]<-h[0]||a[0]>h[0]&&c[0]>h[0]||a[1]<-h[1]&&c[1]<-h[1]||a[1]>h[1]&&c[1]>h[1])return!1;var u=ctx.f(o,i);ctx.s(u,u,s);var d=[-u[1],u[0]],l=Math.abs(ctx.G(d,c));if(r){if(Math.abs(ctx.G(d,h))>=l){var p=[-e[1],e[0]];if(ctx.G(p,a)*ctx.G(p,c)<=0)return!0}}else if(Math.abs(ctx.G(d,[h[0],-h[1]]))>=l){var f=[e[1],e[0]];if(ctx.G(f,a)*ctx.G(f,c)<=0)return!0}return!1},this.wb=function(t,e,n,i){var o=3*(n*ctx.yd+e),s=ctx.zd[i];t[0]=s.getUint8(o),t[1]=s.getUint8(o+1),t[2]=s.getUint8(o+2)},this.xb=function(t,e){if(null!=ctx.zd){var n=e[0]*ctx.yd,i=e[1]*ctx.yd,o=e[2]*ctx.yd,s=Math.floor(n),r=Math.floor(i),a=Math.floor(o),c=n-s,h=i-r,u=o-a,d=ctx.vb(s),l=ctx.vb(s+1),p=ctx.vb(r),f=ctx.vb(r+1),_=ctx.vb(a),b=ctx.vb(a+1),y=[],v=[],m=[],g=[],C=[],A=[],x=[],w=[];ctx.wb(y,d,p,_),ctx.wb(v,d,p,b),ctx.wb(m,d,f,_),ctx.wb(g,d,f,b),ctx.wb(C,l,p,_),ctx.wb(A,l,p,b),ctx.wb(x,l,f,_),ctx.wb(w,l,f,b);var S=[],B=[],R=[],T=[];ctx.ab(S,y,v,u),ctx.ab(B,m,g,u),ctx.ab(R,C,A,u),ctx.ab(T,x,w,u);var P=[],M=[];ctx.ab(P,S,B,h),ctx.ab(M,R,T,h),ctx.ab(t,P,M,c)}else ctx.W(t,128,128,128)},this.ImageDesc=function(t,e,n,i,o){this.image=t,this.x=e,this.y=n,this.width=i,this.height=o},this.RenderCall=function(t,e,n){this.startIndex=t,this.numIndices=e,this.renderStyleIndex=n},this.SubRect=function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i},this.Camera2D=function(){},this.Camera2D.prototype.tb=function(){return!0},this.Camera3D=function(t,e){this.Qd=ctx.r(t,.5),this.z=-.5*t[0]/Math.tan(ctx.ib(.5*e))},this.Camera3D.prototype.transform=function(t,e){if(t[2]<this.z)return!1;var n=-this.z/(t[2]-this.z);return ctx.a(t,ctx.r(ctx.f(t,this.Qd),n),this.Qd),ctx.q(e,e,n),!0},this.zd=null,this.yd=0,this.initializeNoise=function(t,e,n){if(t||alert("path should be defined"),null==this.zd){null!=t&&null!=t||(t=this.defaultPath);var i=new XMLHttpRequest;i.open("GET",t+"neutrinoparticles.noise.bin",!0),i.responseType="arraybuffer",i.ctx=this,i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<300||304==i.status){var t=i.response,o=i.ctx,s=new DataView(t,0,4).getUint32(0,!0);o.zd=[],o.yd=s;for(var r=0;r<s;++r)o.zd[r]=new DataView(t,4+3*s*s*r);e&&e()}else n&&n()},i.send()}else e()},this.NoiseGenerator=function(){for(var t,e,n,i,o,s,r,a=function(t,e,n,i,o){return.5*(2*e+(-t+n)*o+(2*t-5*e+4*n-i)*o*o+(3*e-t-3*n+i)*o*o*o)},c=function(t,e,n,i,o){return[a(t[0],e[0],n[0],i[0],o),a(t[1],e[1],n[1],i[1],o),a(t[2],e[2],n[2],i[2],o)]},h=function(t,e,n){return t<e?e:t>n?n:t},u=[],d=[],l=new ctx.taus88(120),p=function(){return l.rand()},f=.7,_=64,b=0,y=0,v=_>>>1;v>0;v>>>=1){var m=Math.floor(64/v);b+=m*m}var g=0;this.progress=0;var C=function(){for(var t=0;t<64;++t)for(var e=u[t]=[],n=0;n<64;++n)for(var i=e[n]=[],o=0;o<64;++o)i[o]=[0,0,0];g=1,this.progress=.01},A=function(){t=_>>>1,e=Math.floor(64/t),n=e*e,i=Math.max(e-1,1),o=e*e*e,s=0,r=0;for(var a=0;a<o;++a)d[a]=[],d[a][2]=2*p()-1,d[a][1]=2*p()-1,d[a][0]=2*p()-1;g=2},x=function(){for(var o=0;o<e;++o)for(var a=s-1>>>0&i,l=s>>>0&i,p=s+1>>>0&i,v=s+2>>>0&i,m=r-1>>>0&i,C=r>>>0&i,A=r+1>>>0&i,x=r+2>>>0&i,w=o-1>>>0&i,S=o>>>0&i,B=o+1>>>0&i,R=o+2>>>0&i,T=[[[d[a*n+m*e+w],d[a*n+m*e+S],d[a*n+m*e+B],d[a*n+m*e+R]],[d[a*n+C*e+w],d[a*n+C*e+S],d[a*n+C*e+B],d[a*n+C*e+R]],[d[a*n+A*e+w],d[a*n+A*e+S],d[a*n+A*e+B],d[a*n+A*e+R]],[d[a*n+x*e+w],d[a*n+x*e+S],d[a*n+x*e+B],d[a*n+x*e+R]]],[[d[l*n+m*e+w],d[l*n+m*e+S],d[l*n+m*e+B],d[l*n+m*e+R]],[d[l*n+C*e+w],d[l*n+C*e+S],d[l*n+C*e+B],d[l*n+C*e+R]],[d[l*n+A*e+w],d[l*n+A*e+S],d[l*n+A*e+B],d[l*n+A*e+R]],[d[l*n+x*e+w],d[l*n+x*e+S],d[l*n+x*e+B],d[l*n+x*e+R]]],[[d[p*n+m*e+w],d[p*n+m*e+S],d[p*n+m*e+B],d[p*n+m*e+R]],[d[p*n+C*e+w],d[p*n+C*e+S],d[p*n+C*e+B],d[p*n+C*e+R]],[d[p*n+A*e+w],d[p*n+A*e+S],d[p*n+A*e+B],d[p*n+A*e+R]],[d[p*n+x*e+w],d[p*n+x*e+S],d[p*n+x*e+B],d[p*n+x*e+R]]],[[d[v*n+m*e+w],d[v*n+m*e+S],d[v*n+m*e+B],d[v*n+m*e+R]],[d[v*n+C*e+w],d[v*n+C*e+S],d[v*n+C*e+B],d[v*n+C*e+R]],[d[v*n+A*e+w],d[v*n+A*e+S],d[v*n+A*e+B],d[v*n+A*e+R]],[d[v*n+x*e+w],d[v*n+x*e+S],d[v*n+x*e+B],d[v*n+x*e+R]]]],P=0;P<t;++P)for(var M=P/t,L=s*t+P,O=[[c(T[0][0][0],T[1][0][0],T[2][0][0],T[3][0][0],M),c(T[0][0][1],T[1][0][1],T[2][0][1],T[3][0][1],M),c(T[0][0][2],T[1][0][2],T[2][0][2],T[3][0][2],M),c(T[0][0][3],T[1][0][3],T[2][0][3],T[3][0][3],M)],[c(T[0][1][0],T[1][1][0],T[2][1][0],T[3][1][0],M),c(T[0][1][1],T[1][1][1],T[2][1][1],T[3][1][1],M),c(T[0][1][2],T[1][1][2],T[2][1][2],T[3][1][2],M),c(T[0][1][3],T[1][1][3],T[2][1][3],T[3][1][3],M)],[c(T[0][2][0],T[1][2][0],T[2][2][0],T[3][2][0],M),c(T[0][2][1],T[1][2][1],T[2][2][1],T[3][2][1],M),c(T[0][2][2],T[1][2][2],T[2][2][2],T[3][2][2],M),c(T[0][2][3],T[1][2][3],T[2][2][3],T[3][2][3],M)],[c(T[0][2][0],T[1][3][0],T[2][3][0],T[3][3][0],M),c(T[0][2][1],T[1][3][1],T[2][3][1],T[3][3][1],M),c(T[0][2][2],T[1][3][2],T[2][3][2],T[3][3][2],M),c(T[0][2][3],T[1][3][3],T[2][3][3],T[3][3][3],M)]],N=0;N<t;++N)for(var I=N/t,F=r*t+N,k=c(O[0][0],O[1][0],O[2][0],O[3][0],I),E=c(O[0][1],O[1][1],O[2][1],O[3][1],I),V=c(O[0][2],O[1][2],O[2][2],O[3][2],I),j=c(O[0][3],O[1][3],O[2][3],O[3][3],I),G=0;G<t;++G){var U=o*t+G,D=c(k,E,V,j,G/t),W=ctx.d(ctx.v(D,f),u[L][F][U]),H=[h(W[0],-1,1),h(W[1],-1,1),h(W[2],-1,1)];u[L][F][U]=H}y++,this.progress=.01+y/b*.89,++r>=e&&(r=0,++s>=e&&(s=0,_=t,f=Math.pow(f,1.2),_<=1?(g=3,this.progress=.9):g=1))},w=function(){for(var t=[-1,-1,-1],e=[.5,.7,1],n=0;n<64;++n)for(var i=u[n],o=0;o<64;++o)for(var s=i[o],r=0;r<64;++r){var a=s[r];a[0]=ctx.X(t[0],e[0],.5*a[0]+.5),a[1]=ctx.X(t[1],e[1],.5*a[1]+.5),a[2]=ctx.X(t[2],e[2],.5*a[2]+.5)}g=4,this.progress=.95},S=function(){ctx.yd=64,ctx.zd=[];for(var t=0;t<64;++t){for(var e=u[t],n=new ArrayBuffer(12288),i=new DataView(n),o=0;o<64;++o)for(var s=e[o],r=0;r<64;++r){var a=s[r],c=3*(64*o+r);i.setUint8(c+0,Math.floor(h(256*(.5*a[0]+.5)-.5,0,255))),i.setUint8(c+1,Math.floor(h(256*(.5*a[1]+.5)-.5,0,255))),i.setUint8(c+2,Math.floor(h(256*(.5*a[2]+.5)-.5,0,255)))}ctx.zd[t]=i}g=5,this.progress=1};this.step=function(){switch(g){case 0:C.call(this);break;case 1:A.call(this);break;case 2:x.call(this);break;case 3:w.call(this);break;case 4:S.call(this)}return 5==g}},this.cf=document.createElement("canvas"),this.cf.width=0,this.cf.height=0,this.bf=this.cf.getContext("2d"),this.af=function(t,e){(this.cf.width<t||this.cf.height<e)&&(this.cf.width=t,this.cf.height=e,this.bf=this.cf.getContext("2d"))},this.effects=[],this.loadEffect=function(effectFilePath,onSuccessFunc,onFailFunc){if(null!=this.effects[effectFilePath]){var effectModel=this.effects[effectFilePath];return effectModel instanceof Array?void(effectModel[effectModel.length]=[onSuccessFunc,onFailFunc]):void onSuccessFunc(effectModel)}this.effects[effectFilePath]=[[onSuccessFunc,onFailFunc]];var request=new XMLHttpRequest;request.open("GET",effectFilePath,!0),request.responseType="text",request.ctx=this,request.onreadystatechange=function(){if(4==request.readyState){var callbacks=this.ctx.effects[effectFilePath];if(request.status>=200&&request.status<300||304==request.status){var evalText="(function(ctx) {\n"+request.responseText+"\nreturn new NeutrinoEffect(ctx);\n})(this.ctx);",effectModel=eval(evalText);this.ctx.effects[effectFilePath]=effectModel,callbacks.forEach(function(t){t[0](effectModel)})}else callbacks.forEach(function(t){t[1]()})}},request.send()},this.removeEffect=function(t){delete this.effects[t]}}exports.Context=Context,Object.defineProperty(exports,"__esModule",{value:!0})},"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global=global||self).Neutrino={}),cc._RF.pop()},{}],textures:[function(t,e,n){"use strict";cc._RF.push(e,"6e0b7pYCxFA27qiwxcad20V","textures"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=[{uuid:"35f33345-38a7-4a8b-8836-ab28c94025e7",path:"Free Collection 1/Animated/FlameArc8_small"},{uuid:"e5236d44-8e3a-4095-a940-a4256225f26e",path:"Free Collection 1/Static/Glows/Flare10"},{uuid:"f70be5fa-2146-4253-81f7-248f8896b86e",path:"Free Collection 1/Static/Glows/Flare2"},{uuid:"e358a5b4-ebd6-48c4-acc0-a8cc7fffba7b",path:"Free Collection 1/Static/Halos/blastwave1"},{uuid:"425f3c8e-3e01-4135-b977-6dfd51a48477",path:"Free Collection 1/Static/Smoke/CloudPart"},{uuid:"e78d5b89-311e-4ff1-a672-031de499c396",path:"fx/fireworks/sparks2x3_violet"},{uuid:"b15a3db2-f55a-4ef7-8097-d3f16848418c",path:"fx/fireworks/sparks5x2_long_violet"},{uuid:"891da459-7f01-41cb-b4c8-1eb8f582b792",path:"fx/fireworks/sparks5x3_long"},{uuid:"d83bb0c2-313f-46dc-8ae0-abd70612ba8e",path:"spark_orange_glow"},{uuid:"cd88438a-1305-4f3b-b827-e03d9c939d0c",path:"sphere_orange"},{uuid:"a0b2248f-8fdf-4295-889a-38f2012cf28d",path:"textures"}],cc._RF.pop()},{}],vFxController:[function(t,e,n){"use strict";cc._RF.push(e,"ea71f2bo9lAG7VjMLcpHTjW","vFxController");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Data/constants"),a=cc._decorator,c=a.ccclass,h=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vFx_Booom=null,e.sp_SpeedLine=null,e.enemyBase=null,e.enemyBaseHealth=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.handleShooting=function(){var t=this;cc.log("boommmmm!!!!"),r.Constants.isPauseGame=!0,this.enemyBase.getChildByName("nha lose").active=!0,this.enemyBase.getChildByName("baseLv2").active=!1,this.enemyBaseHealth.active=!1,this.vFx_Booom.active=!0,cc.tween(this.sp_SpeedLine.node).to(.5,{opacity:0}).start(),this.scheduleOnce(function(){t.vFx_Booom.active=!1,r.Constants.isWin=!0},1.5)},e.prototype.ShowSpeedLine=function(){cc.log("speedUp!!!!!"),r.Constants.isRotate&&(this.sp_SpeedLine.node.active=!0,cc.tween(this.sp_SpeedLine.node).to(.5,{opacity:255}).start())},s([h(cc.Node)],e.prototype,"vFx_Booom",void 0),s([h(sp.Skeleton)],e.prototype,"sp_SpeedLine",void 0),s([h(cc.Node)],e.prototype,"enemyBase",void 0),s([h(cc.Node)],e.prototype,"enemyBaseHealth",void 0),s([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Data/constants":"constants"}]},{},["BaseController","BossController","CmoboController","CoinController","GameController","GamePlay","LoadFoodController","SpawnController","TankController","TouchAreaController","vFxController","IronSource","Ultils","constants","Army","CTA","AudioManager","Responsive","Singleton","NeutrinoEffect_Blast03","NeutrinoEffect_Fireworks01","NeutrinoEffect_Sparks burst","NeutrinoEffect_Sparks_epic","Blast03","Fireworks01","Sparks burst","Sparks_epic","textures","NeutrinoAssembler","NeutrinoAssemblerJSB","NeutrinoAssemblerWebGL","NeutrinoComponent","NeutrinoContext","NeutrinoSettings","neutrinoparticles.umd"]);