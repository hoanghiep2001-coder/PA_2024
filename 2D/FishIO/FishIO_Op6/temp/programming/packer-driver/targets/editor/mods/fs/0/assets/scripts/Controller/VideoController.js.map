{"version":3,"sources":["file:///D:/PA_2023/2D/FishIO/FishIO_Op6/assets/scripts/Controller/VideoController.ts"],"names":["_decorator","Component","VideoPlayer","Constants","ccclass","property","VideoController","start","forceReplay","Video","node","active","on","EventType","READY_TO_PLAY","initVideo","COMPLETED","onCompleteVideo","volume","play","isCompleteVideo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,W,OAAAA,W;;AAC7BC,MAAAA,S,iBAAAA,S;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;iCAGjBM,e,WADZF,OAAO,CAAC,iBAAD,C,UAGHC,QAAQ,CAACH,WAAD,C,oCAHb,MACaI,eADb,SACqCL,SADrC,CAC+C;AAAA;AAAA;;AAAA;AAAA;;AAMjCM,QAAAA,KAAK,GAAS;AACpB,cAAG;AAAA;AAAA,sCAAUC,WAAb,EAA0B;AACtB,iBAAKC,KAAL,CAAWC,IAAX,CAAgBC,MAAhB,GAAyB,KAAzB;AACA;AACH;;AAAA;AACD,eAAKF,KAAL,CAAWC,IAAX,CAAgBE,EAAhB,CAAmBV,WAAW,CAACW,SAAZ,CAAsBC,aAAzC,EAAwD,KAAKC,SAA7D,EAAwE,IAAxE;AACA,eAAKN,KAAL,CAAWC,IAAX,CAAgBE,EAAhB,CAAmBV,WAAW,CAACW,SAAZ,CAAsBG,SAAzC,EAAoD,KAAKC,eAAzD,EAA0E,IAA1E;AACH;;AAGOF,QAAAA,SAAS,GAAS;AACtB,eAAKN,KAAL,CAAWS,MAAX,GAAoB,CAApB;AACA,eAAKT,KAAL,CAAWU,IAAX;AACH;;AAEOF,QAAAA,eAAe,GAAS;AAC5B;AAAA;AAAA,sCAAUG,eAAV,GAA4B,IAA5B;AACA,eAAKX,KAAL,CAAWC,IAAX,CAAgBC,MAAhB,GAAyB,KAAzB;AACH;;AAxB0C,O;;;;;iBAGtB,I","sourcesContent":["\nimport { _decorator, Component, Node, VideoPlayer } from 'cc';\nimport { Constants } from '../Data/Constant';\nconst { ccclass, property } = _decorator;\n \n@ccclass('VideoController')\nexport class VideoController extends Component {\n\n    @property(VideoPlayer)\n    Video: VideoPlayer = null;\n\n\n    protected start(): void {\n        if(Constants.forceReplay) {\n            this.Video.node.active = false;\n            return;\n        };\n        this.Video.node.on(VideoPlayer.EventType.READY_TO_PLAY, this.initVideo, this);\n        this.Video.node.on(VideoPlayer.EventType.COMPLETED, this.onCompleteVideo, this);\n    }\n\n\n    private initVideo(): void {\n        this.Video.volume = 0;\n        this.Video.play();\n    }\n\n    private onCompleteVideo(): void {\n        Constants.isCompleteVideo = true;\n        this.Video.node.active = false;\n    }\n}\n\n"]}