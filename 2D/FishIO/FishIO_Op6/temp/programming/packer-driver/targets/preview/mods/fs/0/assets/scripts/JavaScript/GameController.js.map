{"version":3,"sources":["file:///D:/playable-ads-hiepdh/FishIO/FishIO_Op6/assets/scripts/JavaScript/GameController.js"],"names":["Constants","require","cc","Class","extends","Component","properties","isStartGame","isNoIntro","audioClick","AudioClip","sharkSound","whooseSound","transformSound","audioAtk","audioUpgrade","audioWarning","audioBgMusic","audioEat","audioBossAtk","onLoad","start","window","gameReady","scheduleOnce","handleIronSourcePlaySound","ironSource","isPlayBgSound","SoundState","audioEngine","play","handleMuteSoundIronSource","State","parseInt","localStorage","getItem","isEndGame","stopAll","onFinish","gameEnd","playAudio","audio","stopAudio","installHandle","console","log","playableSDK","openAppStore","ExitApi","exit","dapi","openStoreUrl","mraid","sys","os","OS_ANDROID","ANDROID","open","OS_IOS","IPHONE","IPAD","install","update"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,cAAM;AAAEA,YAAAA;AAAF,cAAgBC,OAAO,CAAC,kBAAD,CAA7B;;AAEAC,UAAAA,EAAE,CAACC,KAAH,CAAS;AACPC,YAAAA,OAAO,EAAEF,EAAE,CAACG,SADL;AAGPC,YAAAA,UAAU,EAAE;AACVC,cAAAA,WAAW,EAAE,KADH;AAEVC,cAAAA,SAAS,EAAE,KAFD;AAIV;AACAC,cAAAA,UAAU,EAAEP,EAAE,CAACQ,SALL;AAMVC,cAAAA,UAAU,EAAET,EAAE,CAACQ,SANL;AAOVE,cAAAA,WAAW,EAAEV,EAAE,CAACQ,SAPN;AAQVG,cAAAA,cAAc,EAAEX,EAAE,CAACQ,SART;AASVI,cAAAA,QAAQ,EAAEZ,EAAE,CAACQ,SATH;AAUVK,cAAAA,YAAY,EAAEb,EAAE,CAACQ,SAVP;AAWVM,cAAAA,YAAY,EAAEd,EAAE,CAACQ,SAXP;AAYVO,cAAAA,YAAY,EAAEf,EAAE,CAACQ,SAZP;AAaVQ,cAAAA,QAAQ,EAAEhB,EAAE,CAACQ,SAbH;AAcVS,cAAAA,YAAY,EAAEjB,EAAE,CAACQ;AAdP,aAHL;;AAoBPU,YAAAA,MAAM,GAAG,CAAE,CApBJ;;AAsBPC,YAAAA,KAAK,GAAG;AACNC,cAAAA,MAAM,CAACC,SAAP,IAAoBD,MAAM,CAACC,SAAP,EAApB,CADM,CAGN;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,mBAAKC,YAAL,CAAkB,MAAM;AACtB,qBAAKjB,WAAL,GAAmB,IAAnB;AACD,eAFD,EAEG,CAFH;AAGD,aAhDM;;AAkDPkB,YAAAA,yBAAyB,GAAG;AAC1B,kBAAIzB,SAAS,CAAC0B,UAAV,CAAqBC,aAAzB,EAAwC;AACtC;AACD;;AAED,kBAAI3B,SAAS,CAAC0B,UAAV,CAAqBE,UAAzB,EAAqC;AACnC1B,gBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKb,YAAzB,EAAuC,IAAvC,EAA6C,CAA7C;AACD;;AAEDjB,cAAAA,SAAS,CAAC0B,UAAV,CAAqBC,aAArB,GAAqC,IAArC;AACD,aA5DM;;AA8DPI,YAAAA,yBAAyB,GAAG;AAC1B/B,cAAAA,SAAS,CAAC0B,UAAV,CAAqBM,KAArB,GAA6BC,QAAQ,CACnCC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CADmC,EAEnC,EAFmC,CAArC;;AAKA,kBAAInC,SAAS,CAAC0B,UAAV,CAAqBM,KAAzB,EAAgC;AAC9B,oBACEhC,SAAS,CAAC0B,UAAV,CAAqBM,KAArB,KAA+B,CAA/B,IACA,CAAChC,SAAS,CAAC0B,UAAV,CAAqBE,UADtB,IAEA,CAAC5B,SAAS,CAAC0B,UAAV,CAAqBU,SAHxB,EAIE;AACApC,kBAAAA,SAAS,CAAC0B,UAAV,CAAqBE,UAArB,GAAkC,IAAlC;AACA1B,kBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKb,YAAzB,EAAuC,IAAvC,EAA6C,CAA7C;AACD;;AAED,oBAAIjB,SAAS,CAAC0B,UAAV,CAAqBM,KAArB,KAA+B,CAA/B,IAAoChC,SAAS,CAAC0B,UAAV,CAAqBE,UAA7D,EAAyE;AACvE5B,kBAAAA,SAAS,CAAC0B,UAAV,CAAqBE,UAArB,GAAkC,KAAlC;AACA1B,kBAAAA,EAAE,CAAC2B,WAAH,CAAeQ,OAAf;AACD;AACF;AACF,aAnFM;;AAqFPC,YAAAA,QAAQ,GAAG;AACThB,cAAAA,MAAM,CAACiB,OAAP,IAAkBjB,MAAM,CAACiB,OAAP,EAAlB;AACD,aAvFM;;AAyFPC,YAAAA,SAAS,CAACC,KAAD,EAAQ;AACf,kBAAIzC,SAAS,CAAC0B,UAAV,CAAqBE,UAAzB,EAAqC;AACnC,oBAAIa,KAAK,KAAK,KAAKhC,UAAnB,EAA+B;AAC7BP,kBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKrB,UAAzB,EAAqC,KAArC,EAA4C,CAA5C;AACD,iBAFD,MAEO,IAAIgC,KAAK,KAAK,KAAK3B,QAAnB,EAA6B;AAClCZ,kBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKhB,QAAzB,EAAmC,KAAnC,EAA0C,GAA1C;AACD,iBAFM,MAEA,IAAI2B,KAAK,KAAK,KAAK1B,YAAnB,EAAiC;AACtCb,kBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKf,YAAzB,EAAuC,KAAvC,EAA8C,GAA9C;AACD,iBAFM,MAEA,IAAI0B,KAAK,KAAK,KAAKzB,YAAnB,EAAiC;AACtCd,kBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKd,YAAzB,EAAuC,KAAvC,EAA8C,GAA9C;AACD,iBAFM,MAEA,IAAIyB,KAAK,KAAK,KAAKxB,YAAnB,EAAiC;AACtCf,kBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKb,YAAzB,EAAuC,IAAvC,EAA6C,CAA7C;AACD,iBAFM,MAEA,IAAIwB,KAAK,KAAK,KAAKvB,QAAnB,EAA6B;AAClChB,kBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKZ,QAAzB,EAAmC,KAAnC,EAA0C,CAA1C;AACD,iBAFM,MAEA,IAAIuB,KAAK,KAAK,KAAKtB,YAAnB,EAAiC;AACtCjB,kBAAAA,EAAE,CAAC2B,WAAH,CAAeC,IAAf,CAAoB,KAAKX,YAAzB,EAAuC,KAAvC,EAA8C,GAA9C;AACD;AACF;AACF,aA3GM;;AA6GPuB,YAAAA,SAAS,GAAG;AACVxC,cAAAA,EAAE,CAAC2B,WAAH,CAAeQ,OAAf;AACD,aA/GM;;AAiHPM,YAAAA,aAAa,GAAG;AACdC,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA3C,cAAAA,EAAE,CAAC2B,WAAH,CAAeQ,OAAf;AACArC,cAAAA,SAAS,CAAC0B,UAAV,CAAqBU,SAArB,GAAiC,IAAjC;AACAd,cAAAA,MAAM,CAACiB,OAAP,IAAkBjB,MAAM,CAACiB,OAAP,EAAlB,CAJc,CAKd;;AACA,kBAAI,OAAOO,WAAP,IAAsB,WAA1B,EAAuC;AACrCxB,gBAAAA,MAAM,CAACwB,WAAP,CAAmBC,YAAnB;AACA;AACD,eATa,CAWd;;;AACA,kBAAI,OAAOC,OAAP,IAAkB,WAAtB,EAAmC;AACjCA,gBAAAA,OAAO,CAACC,IAAR;AACA;AACD,eAfa,CAiBd;;;AACA,kBAAI,OAAOC,IAAP,IAAe,WAAnB,EAAgC;AAC9BA,gBAAAA,IAAI,CAACC,YAAL;AACA;AACD,eArBa,CAuBd;;;AACA,kBAAI,OAAOC,KAAP,IAAgB,WAApB,EAAiC;AAC/B,oBAAIlD,EAAE,CAACmD,GAAH,CAAOC,EAAP,IAAapD,EAAE,CAACmD,GAAH,CAAOE,UAApB,IAAkCrD,EAAE,CAACmD,GAAH,CAAOC,EAAP,IAAapD,EAAE,CAACmD,GAAH,CAAOG,OAA1D,EAAmE;AACjEJ,kBAAAA,KAAK,CAACK,IAAN,CACE,qEADF;AAGA;AACD;;AAED,oBACEvD,EAAE,CAACmD,GAAH,CAAOC,EAAP,IAAapD,EAAE,CAACmD,GAAH,CAAOK,MAApB,IACAxD,EAAE,CAACmD,GAAH,CAAOC,EAAP,IAAapD,EAAE,CAACmD,GAAH,CAAOM,MADpB,IAEAzD,EAAE,CAACmD,GAAH,CAAOC,EAAP,IAAapD,EAAE,CAACmD,GAAH,CAAOO,IAHtB,EAIE;AACAR,kBAAAA,KAAK,CAACK,IAAN,CAAW,mDAAX;AACA;AACD;;AAEDL,gBAAAA,KAAK,CAACK,IAAN,CACE,qEADF;AAGA;AACD,eA7Ca,CA8Cd;;;AACAnC,cAAAA,MAAM,CAACuC,OAAP,IAAkBvC,MAAM,CAACuC,OAAP,EAAlB;AACD,aAjKM;;AAmKPC,YAAAA,MAAM,GAAG;AACP,mBAAK/B,yBAAL;AACD;;AArKM,WAAT","sourcesContent":["const { Constants } = require(\"../Data/Constant\");\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    isStartGame: false,\r\n    isNoIntro: false,\r\n\r\n    //audio\r\n    audioClick: cc.AudioClip,\r\n    sharkSound: cc.AudioClip,\r\n    whooseSound: cc.AudioClip,\r\n    transformSound: cc.AudioClip,\r\n    audioAtk: cc.AudioClip,\r\n    audioUpgrade: cc.AudioClip,\r\n    audioWarning: cc.AudioClip,\r\n    audioBgMusic: cc.AudioClip,\r\n    audioEat: cc.AudioClip,\r\n    audioBossAtk: cc.AudioClip,\r\n  },\r\n\r\n  onLoad() {},\r\n\r\n  start() {\r\n    window.gameReady && window.gameReady();\r\n\r\n    // if (this.isNoIntro) {\r\n    //   if (!Constants.isPlaySound) {\r\n    //     cc.audioEngine.play(this.audioBgMusic, true, 1);\r\n    //   }\r\n\r\n    //   Constants.isPlaySound = true;\r\n    // } else {\r\n    //   if (!Constants.isPlaySound) {\r\n    //     cc.audioEngine.play(this.audioBgMusic, true, 1);\r\n    //   }\r\n    //   Constants.isPlaySound = true;\r\n    //   this.scheduleOnce(() => {\r\n    //     cc.audioEngine.play(this.sharkSound, false, 0.6);\r\n    //   }, 0.5);\r\n\r\n    //   this.scheduleOnce(() => {\r\n    //     cc.audioEngine.play(this.whooseSound, false, 1);\r\n    //   }, 2.5);\r\n    // }\r\n\r\n    this.scheduleOnce(() => {\r\n      this.isStartGame = true;\r\n    }, 1);\r\n  },\r\n\r\n  handleIronSourcePlaySound() {\r\n    if (Constants.ironSource.isPlayBgSound) {\r\n      return;\r\n    }\r\n\r\n    if (Constants.ironSource.SoundState) {\r\n      cc.audioEngine.play(this.audioBgMusic, true, 1);\r\n    }\r\n\r\n    Constants.ironSource.isPlayBgSound = true;\r\n  },\r\n\r\n  handleMuteSoundIronSource() {\r\n    Constants.ironSource.State = parseInt(\r\n      localStorage.getItem(\"cocosSoundState\"),\r\n      10\r\n    );\r\n\r\n    if (Constants.ironSource.State) {\r\n      if (\r\n        Constants.ironSource.State === 1 &&\r\n        !Constants.ironSource.SoundState &&\r\n        !Constants.ironSource.isEndGame\r\n      ) {\r\n        Constants.ironSource.SoundState = true;\r\n        cc.audioEngine.play(this.audioBgMusic, true, 1);\r\n      }\r\n\r\n      if (Constants.ironSource.State === 2 && Constants.ironSource.SoundState) {\r\n        Constants.ironSource.SoundState = false;\r\n        cc.audioEngine.stopAll();\r\n      }\r\n    }\r\n  },\r\n\r\n  onFinish() {\r\n    window.gameEnd && window.gameEnd();\r\n  },\r\n\r\n  playAudio(audio) {\r\n    if (Constants.ironSource.SoundState) {\r\n      if (audio === this.audioClick) {\r\n        cc.audioEngine.play(this.audioClick, false, 1);\r\n      } else if (audio === this.audioAtk) {\r\n        cc.audioEngine.play(this.audioAtk, false, 0.5);\r\n      } else if (audio === this.audioUpgrade) {\r\n        cc.audioEngine.play(this.audioUpgrade, false, 0.5);\r\n      } else if (audio === this.audioWarning) {\r\n        cc.audioEngine.play(this.audioWarning, false, 0.5);\r\n      } else if (audio === this.audioBgMusic) {\r\n        cc.audioEngine.play(this.audioBgMusic, true, 1);\r\n      } else if (audio === this.audioEat) {\r\n        cc.audioEngine.play(this.audioEat, false, 1);\r\n      } else if (audio === this.audioBossAtk) {\r\n        cc.audioEngine.play(this.audioBossAtk, false, 0.5);\r\n      }\r\n    }\r\n  },\r\n\r\n  stopAudio() {\r\n    cc.audioEngine.stopAll();\r\n  },\r\n\r\n  installHandle() {\r\n    console.log(\"install\");\r\n    cc.audioEngine.stopAll();\r\n    Constants.ironSource.isEndGame = true;\r\n    window.gameEnd && window.gameEnd();\r\n    //If ad network is tiktok\r\n    if (typeof playableSDK != \"undefined\") {\r\n      window.playableSDK.openAppStore();\r\n      return;\r\n    }\r\n\r\n    // If ad network is google ads\r\n    if (typeof ExitApi != \"undefined\") {\r\n      ExitApi.exit();\r\n      return;\r\n    }\r\n\r\n    // If ad netwrok is ironsources\r\n    if (typeof dapi != \"undefined\") {\r\n      dapi.openStoreUrl();\r\n      return;\r\n    }\r\n\r\n    // If ad network support MRAID 2.0\r\n    if (typeof mraid != \"undefined\") {\r\n      if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.ANDROID) {\r\n        mraid.open(\r\n          \"https://play.google.com/store/apps/details?id=com.fishio.hungryfish\"\r\n        );\r\n        return;\r\n      }\r\n\r\n      if (\r\n        cc.sys.os == cc.sys.OS_IOS ||\r\n        cc.sys.os == cc.sys.IPHONE ||\r\n        cc.sys.os == cc.sys.IPAD\r\n      ) {\r\n        mraid.open(\"https://itunes.apple.com/us/app/id6445980017?mt=8\");\r\n        return;\r\n      }\r\n\r\n      mraid.open(\r\n        \"https://play.google.com/store/apps/details?id=com.fishio.hungryfish\"\r\n      );\r\n      return;\r\n    }\r\n    // If ad network is mindwork. window alway avaiable so skip undefined check\r\n    window.install && window.install();\r\n  },\r\n\r\n  update() {\r\n    this.handleMuteSoundIronSource();\r\n  },\r\n});\r\n"]}