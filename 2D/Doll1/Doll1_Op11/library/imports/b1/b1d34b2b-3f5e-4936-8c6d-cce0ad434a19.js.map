{"version":3,"sources":["assets\\Script\\Controller\\GamePlay.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Constants } from \"../Data/constants\";\r\nimport AudioManager from \"../Plugin/AudioManager\";\r\nimport { GameController } from \"./GameController\";\r\nimport NodesContainer from \"./NodesContainer\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GamePlay extends cc.Component {\r\n\r\n  @property(AudioManager)\r\n  AudioManager: AudioManager = null;\r\n  @property(NodesContainer)\r\n  NodesContainer: NodesContainer = null;\r\n  @property(GameController)\r\n  GameController: GameController = null;\r\n\r\n  dollPrecent: number = 0;\r\n  opponentPrecent: number = 0;\r\n\r\n\r\n  protected start(): void {\r\n    // this.AudioManager.playSound(Constants.SoundTrack.bgSound);\r\n  }\r\n\r\n\r\n  public playGreatSound(): void {\r\n    this.AudioManager.playSound(Constants.SoundTrack.woaAnimeSound)\r\n    let random = Math.floor(Math.random() * 4) + 1;\r\n    switch (random) {\r\n      case 1:\r\n        this.AudioManager.playSound(Constants.SoundTrack.Fx_Bonus1)\r\n        this.AudioManager.Fx_Bonus1.volume = 0.5;\r\n        break;\r\n      case 2:\r\n        this.AudioManager.playSound(Constants.SoundTrack.Fx_Bonus2)\r\n        this.AudioManager.Fx_Bonus1.volume = 0.5;\r\n        break;\r\n      case 3:\r\n        this.AudioManager.playSound(Constants.SoundTrack.Fx_Bonus3)\r\n        this.AudioManager.Fx_Bonus1.volume = 0.5;\r\n        break;\r\n      case 4:\r\n        this.AudioManager.playSound(Constants.SoundTrack.Fx_Bonus4)\r\n        this.AudioManager.Fx_Bonus1.volume = 0.5;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  public switchToLv2(): void {\r\n    this.scheduleOnce(() => {\r\n      cc.tween(this.NodesContainer.Overlay)\r\n        .to(1, { opacity: 150 })\r\n        .call(() => {\r\n          this.switchDollToStep2();\r\n          this.NodesContainer.Lv1_Hint.active = false;\r\n          this.NodesContainer.Lv2_Hint.active = true;\r\n          this.NodesContainer.FX_Blink.stopSystem();\r\n        })\r\n        .to(1, { opacity: 0 })\r\n        .start();\r\n    }, 1.5)\r\n  }\r\n\r\n\r\n  private switchDollToStep2(): void {\r\n    this.NodesContainer.Dolls[0].active = false;\r\n    this.NodesContainer.Dolls[1].active = false;\r\n    this.NodesContainer.Dolls[2].active = false;\r\n\r\n    this.NodesContainer.Dolls.splice(0, 3);\r\n\r\n    this.NodesContainer.Dolls[0].active = true;\r\n    this.NodesContainer.Dolls[1].active = true;\r\n    this.NodesContainer.Dolls[2].active = true;\r\n\r\n    for (let index = 0; index < this.NodesContainer.Dolls.length; index++) {\r\n      const doll = this.NodesContainer.Dolls[index];\r\n      cc.tween(doll)\r\n        .to(1, { scale: 0.38, opacity: 255 }, { easing: 'elasticInOut' })\r\n        .call(() => { doll.getComponent(cc.Animation).play() })\r\n        .start();\r\n    }\r\n  }\r\n}\r\n"]}