window.__require=function t(e,o,r){function i(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var h="function"==typeof __require&&__require;if(!c&&h)return h(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,o,r)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<r.length;s++)i(r[s]);return i}({AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"4c7cf9rDSJL36cJtz1lUze/","AudioManager");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Data/constants"),c=cc._decorator,a=c.ccclass,h=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgSound=null,e.TouchSound=null,e.winSound=null,e.CorrectSound=null,e.LoseSound=null,e.BoilSound=null,e}return i(e,t),e.prototype.playSound=function(t){if(s.Constants.ironSource.SoundState&&!s.Constants.ironSource.isEndGame)switch(t){case"bgSound":this.bgSound.play();break;case"LoseSound":this.LoseSound.play();break;case"TouchSound":this.TouchSound.play();break;case"BoilSound":this.BoilSound.play();break;case"winSound":this.winSound.play();break;case"CorrectSound":this.CorrectSound.play()}},e.prototype.stopAllSound=function(){this.bgSound.stop(),this.TouchSound.stop(),this.winSound.stop(),this.CorrectSound.stop(),this.BoilSound.stop(),this.LoseSound.stop()},n([h(cc.AudioSource)],e.prototype,"bgSound",void 0),n([h(cc.AudioSource)],e.prototype,"TouchSound",void 0),n([h(cc.AudioSource)],e.prototype,"winSound",void 0),n([h(cc.AudioSource)],e.prototype,"CorrectSound",void 0),n([h(cc.AudioSource)],e.prototype,"LoseSound",void 0),n([h(cc.AudioSource)],e.prototype,"BoilSound",void 0),n([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],BottleItem:[function(t,e,o){"use strict";cc._RF.push(e,"739edhvLuxKk7ufJqFAN/rI","BottleItem");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,h=t("../Data/constants"),u=t("../Plugin/AudioManager"),l=t("./WaterManager"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteColors=[],e.AudioManager=null,e.waterColors=[],e.waterHeights=[],e.tubeSide="",e.newState=null,e.height1=210,e.height2=200,e.height3=250,e.height4=350,e.GamePlay=null,e.isIncreasing=!1,e.initPos=null,e.PS_Star=null,e}return i(e,t),e.prototype.start=function(){this.applyWaterColor(),this.initTubeSide();var t=this.node.parent.parent.parent.parent;this.GamePlay=t.getComponent("GamePlay"),this.initPos=this.node.getPosition()},e.prototype.initTubeSide=function(){switch(this.node.name){case"Bottle_1":this.tubeSide="left";break;case"Bottle_2":this.tubeSide="right";break;case"Bottle_3":this.tubeSide="left";break;case"Bottle_4":this.tubeSide="right"}},e.prototype.applyWaterColor=function(){for(var t=0;t<this.spriteColors.length;t++){var e=this.spriteColors[t];e.node.color=this.waterColors[t],this.isTransparentColor(e.node.color)&&this.setTransparentColor(e.node)}},e.prototype.MoveToAnotherTube=function(t){var e=this;cc.log("Di chuy\u1ec3n"),h.Constants.isCanTouch=!1,this.newState=t,cc.tween(this.node).to(.3,{position:t.position}).call(function(){return e.rotateTube(t)}).start()},e.prototype.rotateTube=function(t){var e=this;cc.log("angling"),this.AudioManager.playSound(h.Constants.SoundTrack.WaterDropSound),this.scheduleOnce(function(){e.decreaseHeightOfWater(t),t.otherTube.increseHeightOfWater()},.5),cc.tween(this.node).to(.5,{angle:t.angle}).start()},e.prototype.getColorStatus=function(){return this.node.parent.parent.parent.parent.getComponent("GamePlay").getColorStatus(this.waterColors)},e.prototype.changeColorWater=function(t){var e=t.match(/\d+(\.\d+)?/g).map(Number),o=new cc.Color(e[0],e[1],e[2],255*e[3]);return cc.log("M\xe0u \u0111c chuy\u1ec3n \u0111\u1ed5i: "+o),o},e.prototype.increseHeightOfWater=function(){cc.log("T\u0103ng m\u1ef1c n\u01b0\u1edbc"),this.drawLineRender();var t=this.getColorStatus();l.WaterManager.increaseWater(h.Constants.numberOfIncreaseFloor,this.changeColorWater(h.Constants.colorToIncrease),t.indexOfFirstColor,this),this.AudioManager.playSound(h.Constants.SoundTrack.BoilSound)},e.prototype.activeDoneStepSound=function(){this.node.getChildByName("PSBase").children[0].getComponent(cc.ParticleSystem).resetSystem(),this.AudioManager.playSound(h.Constants.SoundTrack.winSound)},e.prototype.decreaseHeightOfWater=function(){cc.log("gi\u1ea3m m\u1ef1c n\u01b0\u1edbc");var t=this.getColorStatus();h.Constants.numberOfIncreaseFloor=t.numberOfDecreaseFloor,h.Constants.colorToIncrease=t.firstColorOfTube,cc.log(t.isHasThreeSameOneDiffColor),l.WaterManager.decreaseWater(t.numberOfDecreaseFloor,t.indexOfFirstColor,this)},e.prototype.drawLineRender=function(){var t=this.node.getChildByName("LineRender");t.color=this.changeColorWater(this.getColorStatus().firstColorOfTube),cc.tween(t).to(.35,{height:1100}).call(function(){cc.tween(t).to(.15,{height:0}).start()}).start()},e.prototype.isTransparentColor=function(t){return 0===t.a},e.prototype.setTransparentColor=function(t){t.opacity=0},e.prototype.update=function(){this.angleColorWithBottle()},e.prototype.angleColorWithBottle=function(){for(var t=0;t<this.spriteColors.length;t++)this.spriteColors[t].node.angle=-this.node.angle/1.5},n([a([cc.Sprite])],e.prototype,"spriteColors",void 0),n([a(u.default)],e.prototype,"AudioManager",void 0),n([a(cc.ParticleSystem)],e.prototype,"PS_Star",void 0),n([c],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./WaterManager":"WaterManager"}],Cigarette:[function(t,e,o){"use strict";cc._RF.push(e,"b9da2I2VIFIyYJlJGUWj0Xb","Cigarette"),function(t,r){if("object"==typeof o&&void 0!==e)e.exports=r();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Cigarette=r()});else{var i=t.NeutrinoEffect||(t.NeutrinoEffect={});i.__last__=i.Cigarette=r()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,o=function t(e,o){this.Ld=e,this.Bd=o,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};o.prototype={Ec:function(e,o,r){var i=t.ib(r.Md),n=Math.cos(i),s=Math.sin(i),c=t.Ae(r.Nd[0]),a=t.Ae(r.Nd[1]);e.transform(c*n,c*s,a*-s,a*n,o[0],o[1])},Fc:function(e,o,r){var i=r.Mc,n=2*i[2]*i[2],s=2*i[0]*i[1],c=2*i[3]*i[2],a=t.Ae(r.Nd[0]),h=t.Ae(r.Nd[1]);e.transform(a*(1-2*i[1]*i[1]-n),a*(s+c),h*(c-s),h*(2*i[0]*i[0]+n-1),o[0],o[1])},Pc:function(e,o,r){if(o.vc(e,-1,r),this.we&&null!=this.Be&&!o.oc&&o.Od>.001){var i=Math.floor(o.Qc%this.we.Rc),n=Math.floor(o.Qc/this.we.Rc),s=o.Ab.slice(),c=o.Nd.slice();if(!r||r.transform(s,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,s,o),e.translate(-a*o.Pd[0],-h*(1-o.Pd[1])),e.globalAlpha*=o.Od,o.gf[0]<.999||o.gf[1]<.999||o.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,l=h<this.Uc?h:this.Uc;t.af(u,l),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,u,l),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(o.gf),t.bf.fillRect(0,0,u,l),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,u,l),e.drawImage(t.cf,0,0,u,l,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,a,h);e.restore()}}}o.vc(e,1,r)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var o=0;o<this.Bd.tc.length;++o)this.Pc(t,this.Bd.tc[o],e);break;case 1:for(o=this.Bd.tc.length;o-- >0;)this.Pc(t,this.Bd.tc[o],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),o=0;o<this.Bd.tc.length;++o)this.Pc(t,this.Bd.tc[o],e)}t.restore()}};var r=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};r.prototype={qe:function(e,o,r,i,n){if(e.Ce(-1,o,r,i,n),this.we&&!e.oc){var s=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],l=[];if(0==this.we.xe){var d=t.ib(e.Md),f=-Math.sin(d),p=Math.cos(d);u[0]=o[0]*p+r[0]*f,u[1]=o[1]*p+r[1]*f,u[2]=o[2]*p+r[2]*f,l[0]=-o[0]*f+r[0]*p,l[1]=-o[1]*f+r[1]*p,l[2]=-o[2]*f+r[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],y=2*_[0]*_[1],v=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=y+v,u[2]=2*_[0]*_[2]-2*_[3]*_[1],l[0]=y-v,l[1]=1-2*_[0]*_[0]-b,l[2]=2*_[1]*_[2]+2*_[3]*_[0]}var g=[],m=[],C=[],x=[];t.u(g,u,-e.Nd[0]*e.Pd[0]),t.u(m,u,e.Nd[0]*(1-e.Pd[0])),t.u(C,l,-e.Nd[1]*e.Pd[1]),t.u(x,l,e.Nd[1]*(1-e.Pd[1])),t.c(s.position,g,C),t.c(s.position,s.position,e.Ab),t.c(c.position,g,x),t.c(c.position,c.position,e.Ab),t.c(a.position,m,x),t.c(a.position,a.position,e.Ab),t.c(h.position,m,C),t.c(h.position,h.position,e.Ab);var w=t.v(e.gf,255);s.color=c.color=a.color=h.color=[w[0],w[1],w[2],255*e.Od];var A,S,P=Math.floor(e.Qc%this.we.Rc),B=Math.floor(e.Qc/this.we.Rc),T=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(T)var M=T.width/this.we.Rc,R=T.height/this.we.Sc,I=(A=T.x+P*M)+M,O=(S=T.y+T.height-B*R)-R;else I=(A=P*(M=1/this.we.Rc))+M,O=(S=1-B*(R=1/this.we.Sc))-R;if(s.texCoords[0]=[A,O],c.texCoords[0]=[A,S],a.texCoords[0]=[I,S],h.texCoords[0]=[I,O],n.beforeQuad&&n.beforeQuad(this.we.renderStyleIndex),n.pushVertex(s),n.pushVertex(c),n.pushVertex(a),n.pushVertex(h),n.__lastRenderCall){var N=n.__lastRenderCall;N.renderStyleIndex==this.we.renderStyleIndex?N.numIndices+=6:(n.pushRenderCall(N),n.__lastRenderCall=new t.RenderCall(N.startIndex+N.numIndices,6,this.we.renderStyleIndex))}else n.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,o,r,i,n)},ue:function(e,o,r,i){switch(this.Bd.Vc){case 0:for(var n=0;n<this.Bd.tc.length;++n)this.qe(this.Bd.tc[n],e,o,r,i);break;case 1:for(n=this.Bd.tc.length;n-- >0;)this.qe(this.Bd.tc[n],e,o,r,i);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(r,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,o,r,i)},this)}}};var i=function e(o,r,i){var n=this;function s(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,n.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,n.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=o,this.we=r,s.prototype={Jd:function(){this.Nb()},Id:function(e,r,i){n.we.Pb(e,n,this);var s=n.Rb,c=o.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var l=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=l,s+=l,c+=l,null!=this.Hb&&s>this.Hb){n.disactivate();break}n.Rb=s,o.Rb=c,r&&e>0&&t.ab(n.Ab,r,n.Bb,a/e),i&&e>0&&t.slerpq(n.Mc,i,n.prevRotation,a/e),this.Lb=this.Jb;for(var d=0;d<this.Jb&&0!=n.sc.length;++d){1==this.Jb?this.Kb=0:this.Kb=d/(this.Jb-1);var f=n.sc.pop();n.tc.unshift(f),0==d?f.Yb():f.Zb(),f.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){n.disactivate();break}}this.Ob=u}return s+=a,n.Rb=s,r&&t.T(n.Ab,r),i&&t.U(n.Mc,i),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,r,i){n.we.Pb(e,n,this);var s=n.Rb,c=s+e,a=o.Rb,h=a+e,u=r?t.O(t.h(r,n.Bb)):0,l=0;if(u>1e-6){for(var d=u/this.rd,f=this.bc+d,p=d<.001?1-this.bc:(1-this.bc)/d,_=[];f>1;){var b=s+p*e;r&&t.ab(_,n.Bb,r,p),n.Rb=b,t.T(n.Ab,_),o.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var y=0;y<this.Jb&&0!=n.sc.length;++y){1==this.Jb?this.Kb=0:this.Kb=y/(this.Jb-1);var v=n.sc.pop();n.tc.unshift(v),0==y?v.Yb():v.Zb(),v.Id(e*(1-p)),++l}p+=1/d,f-=1}this.bc=f}return n.Rb=c,r&&t.T(n.Ab,r),i&&t.U(n.Mc,i),l}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){n.we.fd(n,this),this.nc()},Zb:function(){n.we.gd(n,this),this.nc()},Id:function(t){n.we.qc(t,n,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,r){this.Kc.push({Bd:new e(o,t,i),Ad:r})},vc:function(t,e,o){for(var r=0;r<this.Kc.length;++r){var i=this.Kc[r];e==i.Ad.xc&&i.Bd.Hd(t,o)}},Ce:function(t,e,o,r,i){for(var n=0;n<this.Kc.length;++n){var s=this.Kc[n];t==s.Ad.xc&&s.Bd.ue(e,o,r,i)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return n.we.Cc(n,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new i(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new s},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var l=new a,d=0;d<this.Yc.length;++d){var f=this.Yc[d];l.uc(f.Db,f.Ad)}this.sc.push(l)}this.Nb=function(e,o){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,o||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};i.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},i.prototype.Id=function(e,o,r){if(this.paused_)this.Td(o,r);else{if(this.wd=this.Rb,o)if(t.T(this.Bb,this.Ab),e>1e-4){var i=[];t.g(i,o,this.Bb),t.T(this.ad,i),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var n;r&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?n=this.vd.Id(e,o,r):(o&&t.T(this.Ab,o),r&&t.U(this.Mc,r),n=0,this.Rb+=e);for(var s=n;s<this.tc.length;){var c=this.tc[s];if(c.oc){if(c.rc(e),this.xd(s))continue}else if(c.Id(e),this.Wc.Ac(this.tc[s])&&(c.wc(),this.xd(s)))continue;++s}}},i.prototype.xd=function(t){for(var e=this.tc[t],o=!0,r=0;r<e.Kc.length;++r){var i=e.Kc[r].Bd;if(i.activated()||i.tc.length>0){o=!1;break}}return!!o&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},i.prototype.Hd=function(t,e){this.construct.Hd(t,e)},i.prototype.ue=function(t,e,o,r){this.construct.ue(t,e,o,r)},i.prototype.Td=function(e,o){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),o&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,o))},i.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},i.prototype.pause=function(){this.paused_=!0},i.prototype.unpause=function(){this.paused_=!1},i.prototype.paused=function(){return this.paused_},i.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},i.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},i.prototype.generatorsPaused=function(){return this.generatorsPaused_},i.prototype.activate=function(){this.Zc=!0},i.prototype.disactivate=function(){this.Zc=!1},i.prototype.activated=function(){return this.Zc},i.prototype.getNumParticles=function(){return this.tc.length};var n=function(){this._init=function(e,o,r,n,s){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new i(this,t,n);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,o){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,o||[0,0,0,1])},this.Nb(o,r),this.model.qd(this),this._presimNeeded=!0,s.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),s.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,o,r),this._presimNeeded=!1)}};n.prototype.restart=function(t,e,o){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var r=0;r<this.od.length;++r)this.od[r].Jd(this.Ab,this.Mc);this._presimNeeded=!0,o&&o.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),o&&o.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},n.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},n.prototype.update=function(t,e,o){this.Dd>0?this.updateFixed(t,e,o):this.updateFlex(t,e,o)},n.prototype.updateFixed=function(e,o,r){var i=0,n=[];t.T(n,this.Ab);var s=[];for(t.U(s,this.Mc),o&&t.equalv3_(o,this.Ab)&&(o=null),r&&t.equalq_(r,this.Mc)&&(r=null);e-i+this.Cd>=this.Dd;){var c=this.Rb;o&&t.ab(n,this.Ab,o,i/e),r&&t.slerpq(s,this.Mc,r,i/e);for(var a=0;a<this.od.length;++a)this.od[a].Id(this.Dd,n,s),this.Rb=c;i+=this.Dd-this.Cd,this.Cd=0,this.Rb=c+this.Dd}o&&t.T(this.Ab,o),r&&t.U(this.Mc,r),this.Cd+=e-i},n.prototype.updateFlex=function(e,o,r){for(var i=this.Rb,n=0;n<this.od.length;++n)this.od[n].Id(e,o,r),this.Rb=i;this.Rb=i+e,o&&t.T(this.Ab,o),r&&t.U(this.Mc,r)},n.prototype.resetPosition=function(e,o){e&&t.T(this.Ab,e),o&&t.U(this.Mc,o);for(var r=0;r<this.od.length;++r)this.od[r].Td(this.Ab,this.Mc)},n.prototype.setPropertyInAllEmitters=function(e,o){var r="_".concat(e);if(o instanceof Array)if(2==o.length)for(var i=0;i<this.od.length;++i)t.S(this.od[i][r],o);else for(i=0;i<this.od.length;++i)t.T(this.od[i][r],o);else for(i=0;i<this.od.length;++i)this.od[i][r]=o},n.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},n.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},n.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},n.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},n.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},n.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},n.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var s=function t(){this._init=function(e,o,i,n,s){t.prototype._init.call(this,e,o,i,r,s),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=n,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(s.prototype=new n).fillGeometryBuffers=function(t,e,o){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(r){r.ue(t,e,o,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,r,i,n){t.prototype._init.call(this,e,r,i,o,n),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var o,r,i,n,s,c,a,h,u,l,d,f,p,_,b,y,v,g,m,C,x,w=[],A=[],S=[],P=[],B=[],T=[],M=[],R=[],I=[],O=[],N=[],F=[],L=[],E=[],G=[],j=[],U=[],V=[],D=[],W=[],q=[],k=[],z=[];this.pe=[{xe:0,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter",this.ud=function(t){t.dd(),t._2=[[[-4.67432,2.25574],[4.79819,2.25574],[4.79819,2.25574]]],t._6=[[[-3.14021,-46.509],[8.87581,-46.3798],[8.87581,-46.3798]]],t._13=[[[0,300,300]],[[-800,-604.339,-467.578,-364.595,-284.193,-220.208,-168.805,-127.398,-94.1339,-67.6183,-46.7594,-30.6685,-18.5932,-9.86816,-3.87458,0,0]],[[0,0,0]]],t._14=[[[200,292.426,364.042,419.226,461.403,493.309,517.178,534.853,547.883,557.584,565.086,571.366,577.283,583.592,590.964,600,600]]],t._18=[[[.5,.572555,.703337,.891427,1.13639,1.43827,1.79756,2.21527,2.69291,3.23262,3.83719,4.51023,5.25633,6.08134,6.9927,8,8]]],t._20=[[[0,.1,.1],[.1,0,0]]],t.jd=1e3,t.Vc=0},this.Mb=function(t){t.zb=100,t.Gb=1,t.Jb=1},this.Pb=function(t,e,o){o.zb=100},this.fd=function(c,a){a._=0,o=0+1*c.Ld.rand(),r=e.kb(o),t.V(A,0,1*(r-0)),e.lb(w,c._2[A[0]],A[1]),t.W(S,w[0],w[1],0),a._4=[],t.rb(a._4,S,c.Mc),t.c(a._4,c.Ab,a._4),i=0+1*c.Ld.rand(),n=e.kb(i),t.V(B,0,1*(n-0)),e.lb(P,c._6[B[0]],B[1]),t.W(T,P[0],P[1],0),a._8=[],t.rb(a._8,T,c.Mc),t.c(a._8,c.ad,a._8),s=0+360*c.Ld.rand(),a._10=s,t.T(a.Ab,a._4)},this.gd=function(c,a){a._=0,o=0+1*c.Ld.rand(),r=e.kb(o),t.V(A,0,1*(r-0)),e.lb(w,c._2[A[0]],A[1]),t.W(S,w[0],w[1],0),a._4=[],t.rb(a._4,S,c.Mc),t.c(a._4,c.Ab,a._4),i=0+1*c.Ld.rand(),n=e.kb(i),t.V(B,0,1*(n-0)),e.lb(P,c._6[B[0]],B[1]),t.W(T,P[0],P[1],0),a._8=[],t.rb(a._8,T,c.Mc),t.c(a._8,c.ad,a._8),s=0+360*c.Ld.rand(),a._10=s,t.T(a.Ab,a._4)},this.qc=function(o,r,i){for(i._+=o,c=3,a=i._/c,h=a<0?0:a>1?1:a,t.V(R,0,1*(h-0)),u=a<0?0:a>1?1:a,t.V(I,0,15*(u-0)),l=a<0?0:a>1?1:a,t.V(O,0,1*(l-0)),t.W(M,e.nb(r._13[0][R[0]],R[1]),e.nb(r._13[1][I[0]],I[1]),e.nb(r._13[2][O[0]],O[1])),f=a<0?0:a>1?1:a,t.V(N,0,15*(f-0)),d=e.nb(r._14[0][N[0]],N[1]),t.u(L,[100,50,30],r.Ld.Rb),t.c(L,L,i._4),t.u(E,L,.001),t.xb(F,E),t.k(F,F,[.0078125,.0078125,.0078125]),t.c(F,F,[-1,-1,-1]),t.u(F,F,d),t.T(G,M),t.c(G,G,F),t.T(j,[0,0,0]),_=o,t.T(D,i._8),t.T(W,i._4);_>1e-4;)b=_,t.T(q,G),t.g(U,j,D),(p=t.P(U))>1e-4&&(p=Math.sqrt(p),t.w(V,U,p),(y=.01*p)*b>.2&&(b=.2/y),t.c(q,q,t.v(V,p*y))),t.c(D,D,t.v(q,b)),t.c(W,W,t.v(D,b)),_-=b;t.T(i._4,W),t.T(i._8,D),t.T(i.Ab,i._4),c=3,a=i._/c,g=a<0?0:a>1?1:a,t.V(k,0,15*(g-0)),v=e.nb(r._18[0][k[0]],k[1]),m=30*v,(x=a<0?0:a>1?1:a)<.1?t.V(z,0,10*(x-0)):t.V(z,1,1.11111*(x-.1)),C=e.nb(r._20[0][z[0]],z[1]),t.S(i.Pd,[.5,.5]),i.Md=i._10,t.V(i.Nd,m,m),t.T(i.gf,[1,1,1]),i.Od=C,i.Qc=0},this.Cc=function(t,e){return c=3,e._>c}}(c.prototype=new n).draw=function(t,e){for(var o=0;o<this.od.length;++o)this.od[o].Hd(t,e)},this.createWGLInstance=function(t,e,o,r){var i=new s;return i._init(this,t,e,o,r||{}),i},this.createCanvas2DInstance=function(t,e,o){var r=new c;return r._init(this,t,e,o||{}),r},this.textures=["smoke01_white_blurred.png"],this.materials=[0],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=1e3,this.qd=function(t){t.Dd=.0333333,t.Ud=0,t.rand=function(){return Math.random()},t.pd(new a)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,o,r){var i=Math.floor(r),n=r-i;t.Y(e,o[i],o[i+1],n)},this.nb=function(e,o){var r=Math.floor(o),i=r+1;return t.X(e[r],e[i],o-r)}}}),cc._RF.pop()},{}],Cresent_stars:[function(t,e,o){"use strict";cc._RF.push(e,"9fda1aLTkhIe7C4vgF+9i4m","Cresent_stars"),function(t,r){if("object"==typeof o&&void 0!==e)e.exports=r();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Cresent_stars=r()});else{var i=t.NeutrinoEffect||(t.NeutrinoEffect={});i.__last__=i.Cresent_stars=r()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,o=function t(e,o){this.Ld=e,this.Bd=o,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};o.prototype={Ec:function(e,o,r){var i=t.ib(r.Md),n=Math.cos(i),s=Math.sin(i),c=t.Ae(r.Nd[0]),a=t.Ae(r.Nd[1]);e.transform(c*n,c*s,a*-s,a*n,o[0],o[1])},Fc:function(e,o,r){var i=r.Mc,n=2*i[2]*i[2],s=2*i[0]*i[1],c=2*i[3]*i[2],a=t.Ae(r.Nd[0]),h=t.Ae(r.Nd[1]);e.transform(a*(1-2*i[1]*i[1]-n),a*(s+c),h*(c-s),h*(2*i[0]*i[0]+n-1),o[0],o[1])},Pc:function(e,o,r){if(o.vc(e,-1,r),this.we&&null!=this.Be&&!o.oc&&o.Od>.001){var i=Math.floor(o.Qc%this.we.Rc),n=Math.floor(o.Qc/this.we.Rc),s=o.Ab.slice(),c=o.Nd.slice();if(!r||r.transform(s,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,s,o),e.translate(-a*o.Pd[0],-h*(1-o.Pd[1])),e.globalAlpha*=o.Od,o.gf[0]<.999||o.gf[1]<.999||o.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,l=h<this.Uc?h:this.Uc;t.af(u,l),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,u,l),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(o.gf),t.bf.fillRect(0,0,u,l),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,u,l),e.drawImage(t.cf,0,0,u,l,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,a,h);e.restore()}}}o.vc(e,1,r)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var o=0;o<this.Bd.tc.length;++o)this.Pc(t,this.Bd.tc[o],e);break;case 1:for(o=this.Bd.tc.length;o-- >0;)this.Pc(t,this.Bd.tc[o],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),o=0;o<this.Bd.tc.length;++o)this.Pc(t,this.Bd.tc[o],e)}t.restore()}};var r=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};r.prototype={qe:function(e,o,r,i,n){if(e.Ce(-1,o,r,i,n),this.we&&!e.oc){var s=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],l=[];if(0==this.we.xe){var d=t.ib(e.Md),f=-Math.sin(d),p=Math.cos(d);u[0]=o[0]*p+r[0]*f,u[1]=o[1]*p+r[1]*f,u[2]=o[2]*p+r[2]*f,l[0]=-o[0]*f+r[0]*p,l[1]=-o[1]*f+r[1]*p,l[2]=-o[2]*f+r[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],y=2*_[0]*_[1],v=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=y+v,u[2]=2*_[0]*_[2]-2*_[3]*_[1],l[0]=y-v,l[1]=1-2*_[0]*_[0]-b,l[2]=2*_[1]*_[2]+2*_[3]*_[0]}var g=[],m=[],C=[],x=[];t.u(g,u,-e.Nd[0]*e.Pd[0]),t.u(m,u,e.Nd[0]*(1-e.Pd[0])),t.u(C,l,-e.Nd[1]*e.Pd[1]),t.u(x,l,e.Nd[1]*(1-e.Pd[1])),t.c(s.position,g,C),t.c(s.position,s.position,e.Ab),t.c(c.position,g,x),t.c(c.position,c.position,e.Ab),t.c(a.position,m,x),t.c(a.position,a.position,e.Ab),t.c(h.position,m,C),t.c(h.position,h.position,e.Ab);var w=t.v(e.gf,255);s.color=c.color=a.color=h.color=[w[0],w[1],w[2],255*e.Od];var A,S,P=Math.floor(e.Qc%this.we.Rc),B=Math.floor(e.Qc/this.we.Rc),T=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(T)var M=T.width/this.we.Rc,R=T.height/this.we.Sc,I=(A=T.x+P*M)+M,O=(S=T.y+T.height-B*R)-R;else I=(A=P*(M=1/this.we.Rc))+M,O=(S=1-B*(R=1/this.we.Sc))-R;if(s.texCoords[0]=[A,O],c.texCoords[0]=[A,S],a.texCoords[0]=[I,S],h.texCoords[0]=[I,O],n.beforeQuad&&n.beforeQuad(this.we.renderStyleIndex),n.pushVertex(s),n.pushVertex(c),n.pushVertex(a),n.pushVertex(h),n.__lastRenderCall){var N=n.__lastRenderCall;N.renderStyleIndex==this.we.renderStyleIndex?N.numIndices+=6:(n.pushRenderCall(N),n.__lastRenderCall=new t.RenderCall(N.startIndex+N.numIndices,6,this.we.renderStyleIndex))}else n.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,o,r,i,n)},ue:function(e,o,r,i){switch(this.Bd.Vc){case 0:for(var n=0;n<this.Bd.tc.length;++n)this.qe(this.Bd.tc[n],e,o,r,i);break;case 1:for(n=this.Bd.tc.length;n-- >0;)this.qe(this.Bd.tc[n],e,o,r,i);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(r,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,o,r,i)},this)}}};var i=function e(o,r,i){var n=this;function s(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,n.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,n.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=o,this.we=r,s.prototype={Jd:function(){this.Nb()},Id:function(e,r,i){n.we.Pb(e,n,this);var s=n.Rb,c=o.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var l=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=l,s+=l,c+=l,null!=this.Hb&&s>this.Hb){n.disactivate();break}n.Rb=s,o.Rb=c,r&&e>0&&t.ab(n.Ab,r,n.Bb,a/e),i&&e>0&&t.slerpq(n.Mc,i,n.prevRotation,a/e),this.Lb=this.Jb;for(var d=0;d<this.Jb&&0!=n.sc.length;++d){1==this.Jb?this.Kb=0:this.Kb=d/(this.Jb-1);var f=n.sc.pop();n.tc.unshift(f),0==d?f.Yb():f.Zb(),f.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){n.disactivate();break}}this.Ob=u}return s+=a,n.Rb=s,r&&t.T(n.Ab,r),i&&t.U(n.Mc,i),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,r,i){n.we.Pb(e,n,this);var s=n.Rb,c=s+e,a=o.Rb,h=a+e,u=r?t.O(t.h(r,n.Bb)):0,l=0;if(u>1e-6){for(var d=u/this.rd,f=this.bc+d,p=d<.001?1-this.bc:(1-this.bc)/d,_=[];f>1;){var b=s+p*e;r&&t.ab(_,n.Bb,r,p),n.Rb=b,t.T(n.Ab,_),o.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var y=0;y<this.Jb&&0!=n.sc.length;++y){1==this.Jb?this.Kb=0:this.Kb=y/(this.Jb-1);var v=n.sc.pop();n.tc.unshift(v),0==y?v.Yb():v.Zb(),v.Id(e*(1-p)),++l}p+=1/d,f-=1}this.bc=f}return n.Rb=c,r&&t.T(n.Ab,r),i&&t.U(n.Mc,i),l}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){n.we.fd(n,this),this.nc()},Zb:function(){n.we.gd(n,this),this.nc()},Id:function(t){n.we.qc(t,n,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,r){this.Kc.push({Bd:new e(o,t,i),Ad:r})},vc:function(t,e,o){for(var r=0;r<this.Kc.length;++r){var i=this.Kc[r];e==i.Ad.xc&&i.Bd.Hd(t,o)}},Ce:function(t,e,o,r,i){for(var n=0;n<this.Kc.length;++n){var s=this.Kc[n];t==s.Ad.xc&&s.Bd.ue(e,o,r,i)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return n.we.Cc(n,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new i(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new s},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var l=new a,d=0;d<this.Yc.length;++d){var f=this.Yc[d];l.uc(f.Db,f.Ad)}this.sc.push(l)}this.Nb=function(e,o){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,o||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};i.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},i.prototype.Id=function(e,o,r){if(this.paused_)this.Td(o,r);else{if(this.wd=this.Rb,o)if(t.T(this.Bb,this.Ab),e>1e-4){var i=[];t.g(i,o,this.Bb),t.T(this.ad,i),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var n;r&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?n=this.vd.Id(e,o,r):(o&&t.T(this.Ab,o),r&&t.U(this.Mc,r),n=0,this.Rb+=e);for(var s=n;s<this.tc.length;){var c=this.tc[s];if(c.oc){if(c.rc(e),this.xd(s))continue}else if(c.Id(e),this.Wc.Ac(this.tc[s])&&(c.wc(),this.xd(s)))continue;++s}}},i.prototype.xd=function(t){for(var e=this.tc[t],o=!0,r=0;r<e.Kc.length;++r){var i=e.Kc[r].Bd;if(i.activated()||i.tc.length>0){o=!1;break}}return!!o&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},i.prototype.Hd=function(t,e){this.construct.Hd(t,e)},i.prototype.ue=function(t,e,o,r){this.construct.ue(t,e,o,r)},i.prototype.Td=function(e,o){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),o&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,o))},i.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},i.prototype.pause=function(){this.paused_=!0},i.prototype.unpause=function(){this.paused_=!1},i.prototype.paused=function(){return this.paused_},i.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},i.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},i.prototype.generatorsPaused=function(){return this.generatorsPaused_},i.prototype.activate=function(){this.Zc=!0},i.prototype.disactivate=function(){this.Zc=!1},i.prototype.activated=function(){return this.Zc},i.prototype.getNumParticles=function(){return this.tc.length};var n=function(){this._init=function(e,o,r,n,s){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new i(this,t,n);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,o){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,o||[0,0,0,1])},this.Nb(o,r),this.model.qd(this),this._presimNeeded=!0,s.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),s.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,o,r),this._presimNeeded=!1)}};n.prototype.restart=function(t,e,o){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var r=0;r<this.od.length;++r)this.od[r].Jd(this.Ab,this.Mc);this._presimNeeded=!0,o&&o.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),o&&o.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},n.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},n.prototype.update=function(t,e,o){this.Dd>0?this.updateFixed(t,e,o):this.updateFlex(t,e,o)},n.prototype.updateFixed=function(e,o,r){var i=0,n=[];t.T(n,this.Ab);var s=[];for(t.U(s,this.Mc),o&&t.equalv3_(o,this.Ab)&&(o=null),r&&t.equalq_(r,this.Mc)&&(r=null);e-i+this.Cd>=this.Dd;){var c=this.Rb;o&&t.ab(n,this.Ab,o,i/e),r&&t.slerpq(s,this.Mc,r,i/e);for(var a=0;a<this.od.length;++a)this.od[a].Id(this.Dd,n,s),this.Rb=c;i+=this.Dd-this.Cd,this.Cd=0,this.Rb=c+this.Dd}o&&t.T(this.Ab,o),r&&t.U(this.Mc,r),this.Cd+=e-i},n.prototype.updateFlex=function(e,o,r){for(var i=this.Rb,n=0;n<this.od.length;++n)this.od[n].Id(e,o,r),this.Rb=i;this.Rb=i+e,o&&t.T(this.Ab,o),r&&t.U(this.Mc,r)},n.prototype.resetPosition=function(e,o){e&&t.T(this.Ab,e),o&&t.U(this.Mc,o);for(var r=0;r<this.od.length;++r)this.od[r].Td(this.Ab,this.Mc)},n.prototype.setPropertyInAllEmitters=function(e,o){var r="_".concat(e);if(o instanceof Array)if(2==o.length)for(var i=0;i<this.od.length;++i)t.S(this.od[i][r],o);else for(i=0;i<this.od.length;++i)t.T(this.od[i][r],o);else for(i=0;i<this.od.length;++i)this.od[i][r]=o},n.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},n.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},n.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},n.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},n.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},n.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},n.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var s=function t(){this._init=function(e,o,i,n,s){t.prototype._init.call(this,e,o,i,r,s),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=n,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(s.prototype=new n).fillGeometryBuffers=function(t,e,o){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(r){r.ue(t,e,o,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,r,i,n){t.prototype._init.call(this,e,r,i,o,n),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var o,r,i,n,s,c,a,h,u,l,d,f=[[9.97468,9.93443],[19.9494,19.8689],[29.9241,19.8689],[19.9494,9.93443],[49.8734,39.7377],[19.9494,29.8033],[49.8734,69.541],[49.8734,79.4754],[99.7468,149.016],[9.97468,19.8689],[19.9494,39.7377],[99.7468,79.4754],[29.9241,39.7377],[29.9241,29.8033],[49.8734,29.8033]],p=[],_=[],b=[],y=[];this.pe=[{xe:0,Rc:1,Sc:1,renderStyleIndex:0}],this.name="Stars",this.ud=function(t){t.dd(),t._11=[[[1,1,1],[.4,.4,.4]]],t._14=[[[0,1.2,1.2],[1.2,1,1],[1,1,1],[1,1.2,1.2],[1.2,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=1.54,t.Gb=1,t.Jb=1},this.Pb=function(t,e,o){o.zb=1.54},this.fd=function(h,u){u._=0,o=0+1*h.Ld.rand(),r=this._2f(685903*o),t.yb(p,r[0]%79*9.97468-6,14+9.93443*Math.floor(r[0]/79),f[r[1]],h.Ld.rand),t.W(_,p[0],p[1],0),u._4=[],t.rb(u._4,_,h.Mc),t.c(u._4,h.Ab,u._4),u._5=0,i=10+20*h.Ld.rand(),u._7=i,n=4.5+.5*h.Ld.rand(),u._9=n,s=0+1*h.Ld.rand(),(a=s<0?0:s>1?1:s)<.5?t.V(b,0,2*(a-0)):t.V(b,1,2*(a-.5)),c=e.nb(h._11[0][b[0]],b[1]),u._12=c,t.T(u.Ab,u._4)},this.gd=function(h,u){u._=0,o=0+1*h.Ld.rand(),r=this._2f(685903*o),t.yb(p,r[0]%79*9.97468-6,14+9.93443*Math.floor(r[0]/79),f[r[1]],h.Ld.rand),t.W(_,p[0],p[1],0),u._4=[],t.rb(u._4,_,h.Mc),t.c(u._4,h.Ab,u._4),u._5=0,i=10+20*h.Ld.rand(),u._7=i,n=4.5+.5*h.Ld.rand(),u._9=n,s=0+1*h.Ld.rand(),(a=s<0?0:s>1?1:s)<.5?t.V(b,0,2*(a-0)):t.V(b,1,2*(a-.5)),c=e.nb(h._11[0][b[0]],b[1]),u._12=c,t.T(u.Ab,u._4)},this.qc=function(o,r,i){i._+=o,t.T(i.Ab,i._4),h=i._/i._9,(l=h<0?0:h>1?1:h)<.922191?l<.0752853?l<.056?t.V(y,0,17.8571*(l-0)):t.V(y,1,51.853*(l-.056)):t.V(y,2,1.18077*(l-.0752853)):l<.955714?t.V(y,3,29.8297*(l-.922191)):t.V(y,4,22.5806*(l-.955714)),u=e.nb(r._14[0][y[0]],y[1]),d=i._7*u,t.S(i.Pd,[.5,.5]),i.Md=i._5,t.V(i.Nd,d,d),t.T(i.gf,[1,1,1]),i.Od=i._12,i.Qc=0},this.Cc=function(t,e){return e._>e._9},this._2f=function(t){return t<327665?t<175365?t<121741?t<58848?t<20647?t<7849?t<302?t<53?t<19?[320,0]:[399,0]:t<152?[478,0]:[557,0]:t<2757?t<1613?t<375?t<310?[85,0]:[86,0]:t<1103?t<641?t<419?[163,0]:[164,0]:t<849?[242,0]:[243,0]:[165,9]:t<1738?t<1683?[87,0]:[88,0]:t<2247?t<1993?[166,0]:[167,0]:[245,3]:t<5811?t<4282?t<3773?[321,1]:t<4027?[323,0]:[402,0]:t<5301?t<4791?t<4537?[479,0]:[480,0]:[558,3]:[481,9]:t<6829?t<6319?[324,3]:[403,3]:[482,1]:t<10456?t<9006?t<8319?t<8050?[636,0]:t<8071?[714,0]:[715,0]:t<8648?t<8393?[793,0]:[794,0]:t<8751?[872,0]:[873,0]:t<9740?t<9373?t<9118?[951,0]:[952,0]:t<9485?[1030,0]:[1031,0]:t<10102?t<9847?[1109,0]:[1110,0]:t<10201?[1188,0]:[1189,0]:t<15547?t<13509?t<11983?t<11474?t<10965?t<10711?[637,0]:[638,0]:t<11220?[716,0]:[717,0]:t<11728?[639,0]:[718,0]:t<13e3?t<12491?[795,3]:t<12746?[874,0]:[875,0]:t<13254?[797,0]:[876,0]:t<14529?[640,1]:t<15037?[798,3]:[877,3]:[953,4]:t<38465?t<29193?t<24103?t<22591?t<21063?t<20878?t<20741?[89,0]:[90,0]:[91,0]:t<22083?[168,1]:[170,9]:t<23083?t<22614?t<22594?[13,0]:[14,0]:t<22834?[92,0]:[93,0]:[171,1]:t<27157?t<25629?t<25121?t<24611?[326,3]:[405,3]:[328,9]:t<26649?[484,1]:[486,9]:t<28174?t<27665?[329,3]:t<27919?[408,0]:[409,0]:t<28683?t<28428?[487,0]:[488,0]:[566,3]:t<33371?t<31686?t<30156?t<29822?t<29314?t<29243?[15,0]:[16,0]:[94,3]:t<29902?[17,0]:[96,0]:[173,2]:t<32351?t<31843?t<31764?[18,0]:[19,0]:[97,3]:[176,1]:t<36428?t<34898?t<34389?t<33879?[331,3]:[410,3]:t<34643?[333,0]:[412,0]:[489,2]:t<37446?t<36936?[334,3]:[413,3]:t<37955?t<37701?[492,0]:[493,0]:[571,3]:t<48655?t<43556?t<41520?t<39993?t<39485?[642,1]:[644,9]:t<41012?t<40502?t<40247?[800,0]:[801,0]:[879,3]:[802,9]:t<42539?t<42029?t<41774?[645,0]:[646,0]:[724,3]:t<43047?[803,3]:t<43301?[882,0]:[883,0]:t<46615?t<45085?t<44576?[958,1]:t<44830?[960,0]:[1039,0]:[1116,2]:[961,10]:t<53748?t<51711?t<50184?t<49674?t<49164?t<48909?[647,0]:[648,0]:[726,3]:[649,9]:t<51202?t<50692?[805,3]:[884,3]:t<51456?[807,0]:[886,0]:t<52730?t<52220?t<51966?[650,0]:[651,0]:[729,3]:t<53238?[808,3]:[887,3]:[963,4]:t<83554?t<71909?t<61709?t<60276?t<59559?t<59204?t<58949?[1267,0]:[1268,0]:t<59304?[1346,0]:[1347,0]:t<59918?t<59663?[1425,0]:[1426,0]:t<60021?[1504,0]:[1505,0]:t<60993?t<60634?t<60379?[1583,0]:[1584,0]:t<60738?[1662,0]:[1663,0]:t<61350?t<61095?[1741,0]:[1742,0]:t<61454?[1820,0]:[1821,0]:[1269,7]:t<74659?t<73426?t<72642?t<72269?t<72014?[1899,0]:[1900,0]:t<72388?[1978,0]:[1979,0]:t<73027?t<72773?[2057,0]:[2058,0]:t<73172?[2136,0]:[2137,0]:t<74241?t<73832?t<73578?[2215,0]:[2216,0]:t<73987?[2294,0]:[2295,0]:t<74405?[2373,0]:[2374,0]:t<79744?t<77710?t<76186?t<75677?t<75169?[1901,3]:[1980,3]:t<75932?[1903,0]:[1982,0]:[2059,2]:t<78728?t<78220?[1904,3]:[1983,3]:[2062,1]:[2217,14]:t<103952?t<93752?t<88652?t<86612?t<85083?t<84574?[1274,1]:t<84829?[1276,0]:[1355,0]:t<86103?[1432,1]:t<86358?[1434,0]:[1513,0]:[1277,10]:[1590,4]:[1279,7]:t<112846?t<109036?t<107002?t<105478?t<104970?t<104462?[1906,3]:[1985,3]:[1908,9]:[2064,2]:t<108020?t<107512?[1909,3]:[1988,3]:[2067,1]:[2222,14]:t<117931?t<115897?t<114373?t<113864?t<113356?[1911,3]:[1990,3]:t<114119?[1913,0]:[1992,0]:[2069,2]:t<116915?t<116407?[1914,3]:[1993,3]:[2072,1]:[2227,14]:t<166590?t<156441?t<139592?t<130850?t<125755?t<124204?t<122674?t<122381?t<121873?t<121811?[20,0]:[21,0]:[99,3]:t<122420?[22,0]:[101,0]:[178,2]:t<124735?t<124236?t<124225?[23,0]:[24,0]:t<124488?[102,0]:[103,0]:[181,1]:t<128812?t<127282?t<126773?t<126263?[336,3]:[415,3]:t<127027?[338,0]:[417,0]:[494,2]:t<129830?t<129320?[339,3]:[418,3]:[497,1]:t<134512?t<133130?t<131606?t<131362?t<130872?[25,3]:t<131116?[104,0]:[105,0]:t<131373?[27,0]:[106,0]:[183,2]:t<133496?t<133133?[28,0]:t<133340?[107,0]:[108,0]:[186,1]:[341,4]:t<149716?t<144685?t<142648?t<141121?t<140611?t<140101?t<139847?[652,0]:[653,0]:[731,3]:[654,9]:t<142139?t<141629?[810,3]:[889,3]:t<142393?[812,0]:[891,0]:t<143667?t<143157?t<142902?[655,0]:[656,0]:[734,3]:t<144175?[813,3]:[892,3]:t<147745?[968,12]:t<148765?[971,1]:t<149274?t<149020?[1129,0]:[1130,0]:t<149529?[1208,0]:[1209,0]:t<154796?[657,4]:t<156001?t<155897?t<155654?t<155304?[973,3]:t<155552?[1052,0]:[1053,0]:t<155892?[975,0]:[1054,0]:t<156e3?[1131,0]:[1210,0]:t<156437?t<156228?[976,0]:[977,0]:[1055,3]:t<162484?t<157934?t<157838?t<156533?t<156520?[109,0]:[110,0]:t<157510?t<157002?t<156787?[188,0]:[189,0]:[267,3]:t<157592?[190,0]:[269,0]:t<157839?[191,0]:[270,0]:t<160982?[346,12]:t<161619?t<161246?t<161215?[349,0]:[350,0]:t<161500?[428,0]:[429,0]:t<162047?t<161873?[507,0]:[508,0]:t<162301?[586,0]:[587,0]:t<166342?t<165443?t<164008?[662,2]:t<165021?t<164516?[820,3]:t<164770?[899,0]:[900,0]:t<165275?[822,0]:[901,0]:t<166159?t<165844?t<165697?[665,0]:[666,0]:t<166094?[744,0]:[745,0]:t<166326?t<166322?[823,0]:[824,0]:[902,0]:t<166585?t<166508?[978,0]:[979,0]:[980,0]:t<172715?t<170274?t<169644?t<168120?[1284,2]:t<169140?[1442,1]:t<169395?[1444,0]:[1523,0]:t<170151?t<169956?t<169897?[1287,0]:[1288,0]:t<170150?[1366,0]:[1367,0]:t<170250?[1445,0]:[1524,0]:t<172714?t<171623?t<171294?[1600,1]:t<171491?[1602,0]:[1681,0]:t<172632?t<172132?t<171878?[1758,0]:[1759,0]:t<172387?[1837,0]:[1838,0]:t<172696?[1760,0]:[1839,0]:[1603,0]:t<174386?t<173619?t<173618?t<173186?t<172970?[1916,0]:[1917,0]:t<173440?[1995,0]:[1996,0]:[1918,0]:t<174020?t<173873?[2074,0]:[2075,0]:t<174274?[2153,0]:[2154,0]:t<175042?t<174720?t<174640?[2232,0]:[2233,0]:t<174974?[2311,0]:[2312,0]:t<175296?[2390,0]:[2391,0]:t<288692?t<239867?t<201767?t<189249?t<179089?t<177111?t<176226?t<175791?t<175537?[2452,0]:[2453,0]:t<175972?[2531,0]:[2532,0]:t<176662?t<176408?[2610,0]:[2611,0]:t<176857?[2689,0]:[2690,0]:t<177139?t<177117?[2846,0]:[2925,9]:t<178094?t<177609?t<177355?[2768,0]:[2769,0]:t<177840?[2847,0]:[2848,0]:t<178589?t<178335?[2926,0]:[2927,0]:t<178835?[3005,0]:[3006,0]:[2454,7]:t<192877?t<191290?t<189293?t<189271?[3083,9]:[3241,9]:t<190291?t<189792?t<189538?[3084,0]:[3085,0]:t<190037?[3163,0]:[3164,0]:t<190791?t<190537?[3242,0]:[3243,0]:t<191036?[3321,0]:[3322,0]:t<191361?t<191332?t<191308?[3399,0]:[3478,0]:[3557,0]:t<192369?t<191865?t<191611?[3400,0]:[3401,0]:t<192115?[3479,0]:[3480,0]:[3558,3]:[3086,6]:[2459,8]:t<258831?t<254147?t<243977?t<242010?t<239978?t<239923?t<239894?[3636,0]:[3715,0]:t<239950?[3794,0]:[3873,0]:[3637,10]:t<242057?t<242049?t<242033?[3952,0]:[4031,0]:[4110,0]:t<243064?t<242561?t<242307?[3953,0]:[3954,0]:t<242810?[4032,0]:[4033,0]:t<243545?t<243290?[4111,0]:[4112,0]:t<243722?[4190,0]:[4191,0]:t<249057?[3639,4]:t<252111?t<250581?[3955,2]:[4113,2]:t<253127?[3958,1]:[4116,1]:t<254643?t<254634?t<254476?t<254225?[4269,0]:[4270,0]:t<254480?[4348,0]:[4349,0]:[4428,0]:t<256939?t<256172?t<255662?t<255153?[4271,3]:t<255407?[4350,0]:[4351,0]:[4273,9]:t<256579?t<256545?t<256306?[4429,0]:[4430,0]:[4509,0]:t<256833?[4431,0]:[4510,0]:t<257959?[4274,1]:t<258469?[4432,3]:t<258633?[4511,0]:[4512,0]:t<279171?t<269001?t<263911?[3644,4]:t<266965?t<265435?[3960,2]:[4118,2]:t<267981?[3963,1]:[4121,1]:t<274081?[3649,4]:t<277135?t<275605?[3965,2]:[4123,2]:t<278151?[3968,1]:[4126,1]:t<283907?t<283904?t<282059?t<280701?[4276,2]:t<281624?t<281211?[4434,3]:t<281419?[4513,0]:[4514,0]:t<281879?[4436,0]:[4515,0]:t<283079?[4279,1]:t<283589?[4437,3]:t<283752?[4516,0]:[4517,0]:[4592,0]:t<288690?t<286730?t<285437?[4281,2]:t<286280?t<285947?[4439,3]:t<286103?[4518,0]:[4519,0]:t<286535?[4441,0]:[4520,0]:t<287750?[4284,1]:t<288260?[4442,3]:t<288473?[4521,0]:[4522,0]:[4601,0]:t<298820?t<291277?t<289982?t<289337?t<289013?t<288946?[2469,0]:[2470,0]:t<289267?[2548,0]:[2549,0]:t<289658?t<289591?[2627,0]:[2628,0]:t<289912?[2706,0]:[2707,0]:t<290626?t<290303?t<290236?[2785,0]:[2786,0]:t<290557?[2864,0]:[2865,0]:t<290948?t<290880?[2943,0]:[2944,0]:t<291202?[3022,0]:[3023,0]:t<297685?t<293888?t<293597?t<292145?t<292132?t<291654?t<291531?[3101,0]:[3102,0]:t<291908?[3180,0]:[3181,0]:[3182,0]:t<293161?[3259,1]:t<293343?[3261,0]:[3340,0]:t<293618?[3262,0]:t<293835?[3341,0]:[3342,0]:t<296174?[3417,13]:t<297177?t<296669?t<296428?[3420,0]:[3421,0]:[3499,3]:[3578,3]:t<298805?t<298128?t<298126?t<297762?[3422,0]:t<298012?[3501,0]:[3502,0]:[3503,0]:t<298636?[3580,3]:[3582,0]:[3583,0]:t<327047?t<318661?t<308990?t<303900?[3654,4]:t<306954?t<305424?[3970,2]:[4128,2]:t<307970?[3973,1]:[4131,1]:t<313572?t<312038?[3659,12]:t<312593?t<312227?t<312217?[3662,0]:[3663,0]:t<312481?[3741,0]:[3742,0]:t<313064?t<312847?[3820,0]:[3821,0]:[3899,3]:t<316626?t<315096?[3975,2]:[4133,2]:t<317642?[3978,1]:t<318152?[4136,3]:t<318407?[4215,0]:[4216,0]:t<323535?t<323531?t<321616?t<320191?[4286,2]:t<321146?t<320701?[4444,3]:t<320928?[4523,0]:[4524,0]:t<321401?[4446,0]:[4525,0]:t<322636?[4289,1]:t<323146?[4447,3]:t<323344?[4526,0]:[4527,0]:[4602,3]:t<326101?t<325065?[4291,2]:t<325839?t<325574?t<325320?[4449,0]:[4450,0]:t<325733?[4528,0]:[4529,0]:t<326072?[4451,0]:[4530,0]:t<326941?t<326589?t<326356?[4294,0]:[4295,0]:t<326838?[4373,0]:[4374,0]:t<327045?[4452,0]:[4453,0]:t<327636?t<327111?t<327055?[3822,0]:[3901,0]:t<327379?t<327227?[3980,0]:[4059,0]:t<327531?[4138,0]:[4217,0]:[4296,0]:t<508426?t<378623?t<368181?t<333171?t<330802?t<328068?t<327726?[207,0]:t<327825?[285,0]:[286,0]:t<328783?t<328287?t<328121?[363,0]:[442,0]:t<328320?t<328299?[520,0]:[599,0]:t<328545?[521,0]:[600,0]:t<329786?t<329278?t<329024?[364,0]:[365,0]:[443,3]:[522,1]:t<333110?t<331257?t<331205?t<330814?[678,0]:t<331039?[679,0]:[758,0]:[837,0]:t<332273?[680,1]:t<332768?t<332514?[838,0]:[839,0]:t<332867?[917,0]:[918,0]:[997,0]:t<350301?t<341342?t<336262?t<334759?t<333317?t<333202?t<333173?[129,0]:[130,0]:[131,0]:t<334251?t<333743?t<333499?[208,0]:[209,0]:[287,3]:[210,9]:t<335246?t<334795?t<334765?[53,0]:[54,0]:t<335002?[132,0]:[133,0]:[211,1]:[366,4]:t<345221?t<343702?t<342178?t<341917?t<341411?t<341382?[55,0]:[56,0]:t<341663?[134,0]:[135,0]:t<341930?[57,0]:[136,0]:[213,2]:t<344205?t<343722?t<343713?[58,0]:[59,0]:t<343966?[137,0]:[138,0]:[216,1]:[371,4]:t<358023?t<355381?[682,4]:t<356363?t<356327?t<355854?t<355809?t<355563?[998,0]:[999,0]:t<355811?[1077,0]:[1078,0]:t<356108?[1e3,0]:[1079,0]:[1158,0]:t<357379?[1001,1]:t<357842?t<357588?[1159,0]:[1160,0]:t<357861?[1238,0]:[1239,0]:t<363103?[687,4]:t<366149?t<364627?[1003,2]:t<365641?t<365135?[1161,3]:t<365387?[1240,0]:[1241,0]:[1163,9]:[1006,10]:t<375158?t<368182?[1318,0]:t<371859?t<369827?t<369062?t<368554?t<368491?t<368261?[1319,0]:[1320,0]:[1399,0]:[1321,9]:t<369319?t<369170?[1478,0]:[1557,0]:[1479,9]:[1322,10]:t<373126?t<372615?t<372107?t<372003?[1636,0]:[1715,0]:[1637,9]:t<372662?t<372658?[1794,0]:[1873,0]:t<372914?[1795,0]:[1874,0]:[1638,10]:t<377336?t<375384?t<375366?t<375297?[1953,0]:[2032,0]:[2111,0]:t<376400?[1954,1]:t<376893?t<376639?[2112,0]:[2113,0]:t<377082?[2191,0]:[2192,0]:t<377339?[2427,0]:t<378156?t<377741?t<377487?[2270,0]:[2271,0]:t<377902?[2349,0]:[2350,0]:t<378369?[2428,0]:[2429,0]:t<442741?t<416469?t<396149?t<387403?t<382323?t<380845?t<379321?t<379092?t<378629?t<378627?[60,0]:[61,0]:t<378862?[139,0]:[140,0]:t<379095?[62,0]:[141,0]:[218,2]:t<381307?t<380850?t<380847?[63,0]:[64,0]:t<381080?[142,0]:[143,0]:[221,1]:[376,4]:t<391069?t<389619?t<388095?t<387865?t<387408?t<387405?[65,0]:[66,0]:t<387637?[144,0]:[145,0]:t<387868?[67,0]:[146,0]:[223,2]:t<390053?t<389621?[68,0]:t<389841?[147,0]:[148,0]:[226,1]:[381,4]:[692,11]:t<427454?t<424722?t<419642?t<418563?t<417039?t<416874?t<416676?[149,0]:[150,0]:[151,0]:[228,2]:t<418672?t<418658?[152,0]:[153,0]:t<419134?t<418926?[231,0]:[232,0]:[310,3]:[386,4]:t<425024?t<424771?[233,0]:t<424993?[312,0]:[313,0]:t<426026?t<425960?t<425453?t<425278?[391,0]:[392,0]:t<425707?[470,0]:[471,0]:t<425961?[393,0]:[472,0]:t<427042?[549,1]:t<427213?[551,0]:t<427441?[630,0]:[631,0]:t<437614?[702,7]:t<440510?t<439137?t<438630?[707,1]:t<438894?t<438871?[709,0]:[710,0]:t<439124?[788,0]:[789,0]:t<440153?[865,1]:t<440349?[867,0]:[946,0]:t<441783?t<441526?[1023,1]:t<441672?[1025,0]:[1104,0]:t<442694?t<442283?t<442037?[1181,0]:[1182,0]:t<442537?[1260,0]:[1261,0]:t<442739?[1183,0]:[1262,0]:t<480841?[1324,8]:t<495029?t<491001?[1334,7]:t<492593?t<491566?t<491241?t<491222?[1339,0]:[1340,0]:t<491488?[1418,0]:[1419,0]:t<492533?t<492028?t<491820?[1497,0]:[1498,0]:t<492282?[1576,0]:[1577,0]:t<492542?[1499,0]:[1578,0]:t<493804?t<493609?[1655,1]:t<493698?[1657,0]:[1736,0]:t<494820?[1813,1]:t<494923?[1815,0]:[1894,0]:t<503919?[1966,6]:t<506398?t<505144?t<504935?[1971,1]:t<505038?[1973,0]:[2052,0]:t<506160?[2129,1]:t<506271?[2131,0]:[2210,0]:t<507922?[2287,5]:t<508244?t<508075?[2289,0]:[2368,0]:[2447,0]:t<569553?t<528401?t<508561?t<508443?[3603,0]:[3604,0]:t<515555?t<508569?[3056,0]:t<511295?t<509264?t<508757?t<508623?[2506,0]:[2585,0]:t<508800?t<508758?[2663,0]:[2742,0]:t<509012?[2664,0]:[2743,0]:t<510279?t<509771?t<509517?[2507,0]:[2508,0]:[2586,3]:[2665,1]:t<513523?t<512186?t<511678?t<511433?[2821,0]:t<511445?[2899,0]:[2900,0]:[2822,9]:t<513015?t<512543?t<512289?[2978,0]:[2979,0]:t<512761?[3057,0]:[3058,0]:[2980,9]:[2823,10]:t<519511?t<516741?t<515575?[3370,0]:t<515900?t<515676?[3135,0]:t<515684?[3213,0]:[3214,0]:t<516256?t<516002?[3292,0]:[3293,0]:t<516487?[3371,0]:[3372,0]:t<517987?t<517258?t<516844?t<516742?[3448,0]:t<516747?[3526,0]:[3527,0]:t<517006?[3449,0]:[3528,0]:t<517733?t<517479?[3605,0]:[3606,0]:[3607,0]:[3450,5]:[3136,6]:t<540097?t<536892?t<528494?t<528444?t<528411?[3994,0]:[4073,0]:t<528480?[4152,0]:[4231,0]:t<531882?t<529898?t<528791?t<528528?[3759,0]:t<528567?[3681,0]:[3760,0]:t<529390?t<529010?t<528807?[3837,0]:[3838,0]:t<529136?[3916,0]:[3917,0]:[3839,9]:t<530866?t<530358?t<530104?[3682,0]:[3683,0]:[3761,3]:[3840,1]:t<534856?t<533362?t<532854?t<532354?t<532100?[3995,0]:[3996,0]:t<532600?[4074,0]:[4075,0]:[3997,9]:t<534346?t<533864?t<533609?[4153,0]:[4154,0]:t<534091?[4232,0]:[4233,0]:[4155,9]:t<535872?[3998,1]:[4156,1]:t<538316?t<538053?t<537543?t<537295?t<537041?[4311,0]:[4312,0]:t<537324?[4390,0]:[4391,0]:[4313,9]:t<538099?[4470,0]:t<538303?[4471,0]:[4550,0]:t<539336?[4314,1]:t<539845?t<539590?[4472,0]:[4473,0]:t<539936?[4551,0]:[4552,0]:t<560437?t<550267?t<545177?[3684,4]:t<548231?t<546701?[4e3,2]:[4158,2]:t<549247?[4003,1]:[4161,1]:t<555347?[3689,4]:t<558401?t<556871?[4005,2]:[4163,2]:t<559417?[4008,1]:[4166,1]:t<565179?t<563322?t<561967?[4316,2]:t<562876?t<562477?[4474,3]:t<562672?[4553,0]:[4554,0]:t<563131?[4476,0]:[4555,0]:t<564342?[4319,1]:t<564852?[4477,3]:t<565029?[4556,0]:[4557,0]:t<567831?t<566709?[4321,2]:t<567471?t<567219?[4479,3]:t<567353?[4558,0]:[4559,0]:t<567726?[4481,0]:[4560,0]:t<568851?[4324,1]:t<569361?[4482,3]:t<569460?[4561,0]:[4562,0]:t<637380?t<607653?[2509,8]:t<623639?t<617813?[2519,7]:t<620704?t<619230?t<618829?[2524,1]:t<619018?[2526,0]:t<619229?[2605,0]:[2606,0]:t<620246?[2682,1]:t<620471?t<620468?[2684,0]:[2685,0]:t<620702?[2763,0]:[2764,0]:t<622183?t<621720?[2840,1]:t<621951?t<621948?[2842,0]:[2843,0]:t<622181?[2921,0]:[2922,0]:t<623199?[2998,1]:t<623423?t<623420?[3e3,0]:[3001,0]:[3079,0]:t<632529?[3151,6]:t<635311?t<633932?t<633545?[3156,1]:t<633745?[3158,0]:[3237,0]:t<634948?[3314,1]:t<635131?[3316,0]:[3395,0]:t<636835?[3472,5]:t<637198?t<637018?[3474,0]:[3553,0]:[3632,0]:t<665496?t<657720?t<647550?t<642460?[3694,4]:t<645514?t<643984?[4010,2]:[4168,2]:t<646530?[4013,1]:[4171,1]:t<652630?[3699,4]:t<655684?t<654154?[4015,2]:[4173,2]:t<656700?[4018,1]:[4176,1]:t<661785?t<660225?t<659250?[4326,2]:t<659920?t<659760?[4484,3]:t<659849?[4563,0]:[4564,0]:t<660174?[4486,0]:[4565,0]:t<661245?[4329,1]:t<661744?t<661497?[4487,0]:[4488,0]:t<661770?[4566,0]:[4567,0]:t<664020?t<663315?[4331,2]:t<663793?t<663782?t<663552?[4489,0]:[4490,0]:t<663790?[4568,0]:[4569,0]:t<664018?[4491,0]:[4570,0]:t<665040?[4334,1]:t<665492?t<665262?[4492,0]:[4493,0]:[4571,3]:t<681134?t<675666?t<670576?[3704,4]:t<673630?t<672100?[4020,2]:[4178,2]:t<674646?[4023,1]:[4181,1]:t<678364?t<677021?t<676682?[3709,1]:t<676855?[3711,0]:[3790,0]:t<678037?[3867,1]:t<678194?[3869,0]:[3948,0]:t<679793?t<679380?[4025,1]:t<679580?[4027,0]:t<679790?[4106,0]:[4107,0]:t<680812?t<680303?[4183,3]:t<680558?[4262,0]:[4263,0]:t<681006?t<681005?[4185,0]:[4186,0]:[4264,0]:t<685014?t<683536?t<682664?[4336,2]:t<683228?t<683164?t<682911?[4494,0]:[4495,0]:t<683181?[4573,0]:[4574,0]:t<683481?[4496,0]:[4575,0]:t<684556?[4339,1]:t<684981?t<684798?[4497,0]:[4498,0]:t<685011?[4576,0]:[4577,0]:t<685848?t<685817?t<685499?t<685269?[4341,0]:[4342,0]:t<685738?[4420,0]:[4421,0]:[4343,0]:[4499,0]}}function h(){var o,r,i,n,s,c,a,h,u,l,d,f,p,_,b=[],y=[[],[]],v=[],g=[],m=[],C=[],x=[],w=[],A=[],S=[],P=[],B=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:1}],this.name="Beams",this.ud=function(t){t.dd(),t._2=[[[0,.173445,.269864,.33595,.385367,.424532,.457227,.486062,.513119,.540314,.569696,.603822,.646457,.704302,.793306,1,1]]],t._3=[[[[465.551,205.306],[-.867493,-.497449]],[[460.957,202.671],[-.893092,-.449874]],[[456.227,200.289],[-.919747,-.392511]],[[451.357,198.21],[-.945303,-.326193]],[[446.351,196.483],[-.967222,-.253934]],[[441.229,195.138],[-.983565,-.180552]],[[436.021,194.182],[-.993774,-.111417]],[[430.759,193.592],[-.998717,-.0506409]],[[425.47,193.324],[-1,-227616e-9]],[[420.174,193.323],[-.999209,.0397553]],[[414.882,193.533],[-.99752,.0703776]],[[409.599,193.906],[-.99565,.0931676]],[[404.325,194.399],[-.993968,.109671]],[[399.061,194.98],[-.992624,.12123]],[[393.803,195.622],[-.991648,.12897]],[[388.551,196.306],[-.991648,.12897]],[[388.551,196.306],[-.991648,.12897]]],[[[388.551,196.306],[-.984638,.174607]],[[382.725,197.339],[-.966844,.255368]],[[377.005,198.85],[-.944354,.328931]],[[371.417,200.796],[-.91838,.395701]],[[365.983,203.137],[-.889861,.456232]],[[360.717,205.837],[-.859405,.511295]],[[355.632,208.863],[-.827406,.561604]],[[350.735,212.186],[-.794009,.607907]],[[346.037,215.783],[-.759265,.650782]],[[341.544,219.634],[-.723005,.690843]],[[337.265,223.722],[-.684993,.728549]],[[333.212,228.034],[-.644844,.764315]],[[329.396,232.557],[-.602041,.798465]],[[325.833,237.282],[-.555936,.831225]],[[322.543,242.201],[-.50569,.862715]],[[319.551,247.306],[-.50569,.862715]],[[319.551,247.306],[-.50569,.862715]]],[[[319.551,247.306],[-.45124,.892403]],[[316.702,252.94],[-.396702,.917947]],[[314.197,258.736],[-.343474,.939162]],[[312.028,264.666],[-.291539,.956559]],[[310.187,270.706],[-.240765,.970584]],[[308.667,276.835],[-.19094,.981602]],[[307.461,283.033],[-.14189,.989883]],[[306.565,289.283],[-.0933151,.995637]],[[305.976,295.57],[-.0449856,.998988]],[[305.692,301.878],[.00342659,.999994]],[[305.714,308.193],[.0521727,.998638]],[[306.043,314.498],[.101591,.994826]],[[306.685,320.78],[.151961,.988387]],[[307.644,327.021],[.203581,.979058]],[[308.93,333.203],[.25675,.966478]],[[310.551,339.306],[.25675,.966478]],[[310.551,339.306],[.25675,.966478]]],[[[310.551,339.306],[.318603,.947888]],[[312.314,344.551],[.384028,.923321]],[[314.439,349.66],[.443926,.896063]],[[316.895,354.618],[.498661,.866797]],[[319.655,359.415],[.548806,.83595]],[[322.692,364.041],[.594867,.803824]],[[325.984,368.489],[.637368,.770559]],[[329.511,372.754],[.676778,.736187]],[[333.256,376.828],[.713526,.700628]],[[337.205,380.705],[.747964,.66374]],[[341.344,384.378],[.780407,.625272]],[[345.663,387.838],[.811092,.584918]],[[350.152,391.075],[.840202,.542273]],[[354.801,394.076],[.867825,.49687]],[[359.604,396.826],[.893982,.448102]],[[364.551,399.306],[.893982,.448102]],[[364.551,399.306],[.893982,.448102]]],[[[364.551,399.306],[.924438,.381332]],[[369.445,401.324],[.950752,.309953]],[[374.479,402.965],[.967973,.251052]],[[379.604,404.295],[.979645,.200738]],[[384.791,405.357],[.987706,.156325]],[[390.021,406.185],[.993253,.115966]],[[395.281,406.799],[.996933,.0782654]],[[400.56,407.214],[.999111,.0421459]],[[405.85,407.437],[.999978,.00668527]],[[411.145,407.472],[.99958,-.0289834]],[[416.438,407.319],[.997836,-.0657463]],[[421.722,406.971],[.994517,-.10458]],[[426.988,406.417],[.989186,-.146667]],[[432.226,405.64],[.98109,-.193554]],[[437.421,404.615],[.968913,-.247403]],[[442.551,403.306],[.968913,-.247403]],[[442.551,403.306],[.968913,-.247403]]]],t._16=[[[1,1,1]],[[0,.229511,.43425,.61081,.755889,.866518,.940316,.975727,.97219,.930204,.851269,.737719,.592492,.418874,.220266,0,0]]],t._18=[[[0,.2,.2],[.2,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=25,t.Gb=1,t.Jb=1},this.Pb=function(t,e,o){o.zb=25},this.fd=function(h,u){u.Mc=[],u._=0,o=0+1*h.Ld.rand(),i=o<0?0:o>1?1:o,t.V(b,0,15*(i-0)),r=e.nb(h._2[0][b[0]],b[1]),(n=e.kb(r))<.618116?n<.395441?n<.186762?t.V(v,0,80.3161*(n-0)):t.V(v,1,71.8809*(n-.186762)):t.V(v,2,67.3625*(n-.395441)):n<.81327?t.V(v,3,76.8624*(n-.618116)):t.V(v,4,80.33*(n-.81327)),e.mb(y,h._3[v[0]],v[1]),t.W(g,y[0][0],y[0][1],0),u._5=[],t.rb(u._5,g,h.Mc),t.c(u._5,h.Ab,u._5),s=t.jb(Math.atan2(y[1][1],y[1][0])),u._7=s,c=20+10*h.Ld.rand(),a=120+30*h.Ld.rand(),t.V(m,c,a),u._11=[],t.S(u._11,m),t.T(u.Ab,u._5)},this.gd=function(h,u){u.Mc=[],u._=0,o=0+1*h.Ld.rand(),i=o<0?0:o>1?1:o,t.V(b,0,15*(i-0)),r=e.nb(h._2[0][b[0]],b[1]),(n=e.kb(r))<.618116?n<.395441?n<.186762?t.V(v,0,80.3161*(n-0)):t.V(v,1,71.8809*(n-.186762)):t.V(v,2,67.3625*(n-.395441)):n<.81327?t.V(v,3,76.8624*(n-.618116)):t.V(v,4,80.33*(n-.81327)),e.mb(y,h._3[v[0]],v[1]),t.W(g,y[0][0],y[0][1],0),u._5=[],t.rb(u._5,g,h.Mc),t.c(u._5,h.Ab,u._5),s=t.jb(Math.atan2(y[1][1],y[1][0])),u._7=s,c=20+10*h.Ld.rand(),a=120+30*h.Ld.rand(),t.V(m,c,a),u._11=[],t.S(u._11,m),t.T(u.Ab,u._5)},this.qc=function(o,r,i){i._+=o,t.T(i.Ab,i._5),t.W(C,0,0,1),t.Q(w,C),t.qb(x,w,i._7),h=2,u=i._/h,l=u<0?0:u>1?1:u,t.V(S,0,1*(l-0)),d=u<0?0:u>1?1:u,t.V(P,0,15*(d-0)),t.V(A,e.nb(r._16[0][S[0]],S[1]),e.nb(r._16[1][P[0]],P[1])),f=t.j(i._11,A),(_=u<0?0:u>1?1:u)<.5?t.V(B,0,2*(_-0)):t.V(B,1,2*(_-.5)),p=e.nb(r._18[0][B[0]],B[1]),t.S(i.Pd,[.5,.12]),t.U(i.Mc,x),t.S(i.Nd,f),t.T(i.gf,[1,1,1]),i.Od=p,i.Qc=0},this.Cc=function(t,e){return h=2,e._>h}}(c.prototype=new n).draw=function(t,e){for(var o=0;o<this.od.length;++o)this.od[o].Hd(t,e)},this.createWGLInstance=function(t,e,o,r){var i=new s;return i._init(this,t,e,o,r||{}),i},this.createCanvas2DInstance=function(t,e,o){var r=new c;return r._init(this,t,e,o||{}),r},this.textures=["star_glow_white.png","Beam.png"],this.materials=[0,1],this.renderStyles=[{materialIndex:0,textureIndices:[0]},{materialIndex:1,textureIndices:[1]}],this.Xe=200,this.qd=function(t){t.Dd=.0333333,t.Ud=7,t.rand=function(){return Math.random()},t.pd(new a),t.pd(new h)},this.kb=function(t){return t<0?0:t>1?1:t},this.mb=function(e,o,r){var i=Math.floor(r),n=r-i;t.Y(e[0],o[i][0],o[i+1][0],n),t.Y(e[1],o[i][1],o[i+1][1],n)},this.nb=function(e,o){var r=Math.floor(o),i=r+1;return t.X(e[r],e[i],o-r)}}}),cc._RF.pop()},{}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"459a6fkmHFH5Z+5+z1O55SB","GameController");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.GameController=void 0;var s=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=cc._decorator,h=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){window.gameReady&&window.gameReady()},e.prototype.installHandle=function(){if(console.log("install"),s.Constants.ironSource.isEndGame=!0,this.AudioManager.stopAllSound(),window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?(cc.sys.os==cc.sys.OS_ANDROID||(cc.sys.os,cc.sys.ANDROID),void mraid.open("https://play.google.com/store/apps/details?id=com.an.satisday.antistress.organizinggame")):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},n([u(c.default)],e.prototype,"AudioManager",void 0),n([h],e)}(cc.Component);o.GameController=l,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(t,e,o){"use strict";cc._RF.push(e,"b1d34srP15JNoxtzOCtQ0oZ","GamePlay");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=t("../Plugin/Responsive"),h=t("../Ultils/BottleItem"),u=t("./GameController"),l=t("./NodesContainer"),d=cc._decorator,f=d.ccclass,p=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.NodesContainer=null,e.GameController=null,e.Responsive=null,e.dollPrecent=0,e.opponentPrecent=0,e.tweenStates=[],e.isShowCTA=!1,e.graphics=null,e.Level2=null,e.isDrawWaterGraphics=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.countingTime=function(){if(!this.isShowCTA){var t=this.NodesContainer.time.children[0];t.scaleX<=0&&s.Constants.isCanTouch?this.showCTA(!1):t.scaleX-=8e-4}},e.prototype.showCTA=function(){var t=this;this.isShowCTA=!0,s.Constants.isCanTouch=!1,s.Constants.isShowCTA=!0,s.Constants.isToStore=!0,this.Level2.active=!0,this.scheduleOnce(function(){cc.tween(t.NodesContainer.Tubes[0].parent).to(1,{opacity:0}).start(),cc.tween(t.Level2).to(1,{opacity:255}).start(),t.NodesContainer.hideMask.on(cc.Node.EventType.TOUCH_START,t.GameController.installHandle,t)},1)},e.prototype.checkThreeSameOneDifferent=function(t){if(4!==t.length)return console.error("M\u1ea3ng m\xe0u ph\u1ea3i ch\u1ee9a ch\xednh x\xe1c 4 ph\u1ea7n t\u1eed."),!1;for(var e=new Map,o=0,r=t;o<r.length;o++){var i=r[o].toHEX();e.has(i)?e.set(i,e.get(i)+1):e.set(i,1)}for(var n=!1,s=!1,c=0,a=Array.from(e.values());c<a.length;c++){var h=a[c];3===h?n=!0:1===h&&(s=!0)}return n&&s},e.prototype.getColorStatus=function(t){var e,o=null,r=null,i=[],n=null,s=[210,200,250,350],c=0;e=this.checkThreeSameOneDifferent(t);for(var a=0;a<t.length;a++)if(0!==t[a].a&&(o||(o=t[a].toCSS(),n=s[a],r=a),i.push(t[a].toCSS())),o){if(t[a].toCSS()!==o)break;c+=1}return{firstColorOfTube:o,indexOfFirstColor:r,nonTransparentColorArr:i,heightOfFirstColor:n,isHasTwoSameColor:!1,numberOfDecreaseFloor:c,isHasThreeSameOneDiffColor:e}},e.prototype.handleMoveToAnotherTube=function(t,e){var o=t.getComponent(h.default),r=e.getComponent(h.default);e.setSiblingIndex(this.NodesContainer.Tubes.length-1),t.setSiblingIndex(this.NodesContainer.Tubes.length-2);var i=this.calculateNewTubeState(r,o);o.MoveToAnotherTube(i),console.log("correct")},e.prototype.calculateNewTubeState=function(t,e){var o={position:null,angle:null,firstColorOfTube:null,currentHeightOfColor:null,otherTube:null,drawWaterSide:null},r=t.node.getPosition(),i=this.getColorStatus(e.waterColors);switch(o.firstColorOfTube=i.firstColorOfTube,o.currentHeightOfColor=i.heightOfFirstColor,o.otherTube=t,t.tubeSide){case"left":o.position=new cc.Vec3(30,r.y+120,0),o.angle=75,o.drawWaterSide="left";break;case"right":o.position=new cc.Vec3(-30,r.y+120,0),o.angle=-75,o.drawWaterSide="right"}return o},e.prototype.handleIronSourcePlaySound=function(){s.Constants.ironSource.isPlayBgSound||s.Constants.ironSource.SoundState&&(s.Constants.ironSource.isPlayBgSound=!0,this.AudioManager.playSound(s.Constants.SoundTrack.bgSound))},e.prototype.handleMuteSoundIronSource=function(){s.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),s.Constants.ironSource.State&&(1!==s.Constants.ironSource.State||s.Constants.ironSource.SoundState||s.Constants.ironSource.isEndGame||(s.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(s.Constants.SoundTrack.bgSound)),2===s.Constants.ironSource.State&&s.Constants.ironSource.SoundState&&(s.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},e.prototype.handleDrawWaterGraphics=function(t,e,o){this.graphics.clear();var r=this.node.convertToNodeSpaceAR(t),i=this.node.convertToNodeSpaceAR(e);this.graphics.strokeColor=o,this.graphics.moveTo(r.x,r.y),this.graphics.lineTo(i.x,i.y),this.graphics.stroke(),console.log("check")},e.prototype.update=function(){},n([p(c.default)],e.prototype,"AudioManager",void 0),n([p(l.default)],e.prototype,"NodesContainer",void 0),n([p(u.GameController)],e.prototype,"GameController",void 0),n([p(a.default)],e.prototype,"Responsive",void 0),n([p(cc.Graphics)],e.prototype,"graphics",void 0),n([p(cc.Node)],e.prototype,"Level2",void 0),n([f],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","../Plugin/Responsive":"Responsive","../Ultils/BottleItem":"BottleItem","./GameController":"GameController","./NodesContainer":"NodesContainer"}],Level2Controller:[function(t,e,o){"use strict";cc._RF.push(e,"c4057TRy/NPFqjhDgImHmIV","Level2Controller");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.Level2Controller=void 0;var s=t("./GameController"),c=cc._decorator,a=c.ccclass,h=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameController=null,e.Lobsters=[],e}return i(e,t),e.prototype.start=function(){},n([h(s.GameController)],e.prototype,"GameController",void 0),n([h([cc.Node])],e.prototype,"Lobsters",void 0),n([a],e)}(cc.Component);o.Level2Controller=u,cc._RF.pop()},{"./GameController":"GameController"}],NeutrinoAssemblerJSB:[function(t,e,o){"use strict";cc._RF.push(e,"908f2U8uBBKHLoXjGNOOkv8","NeutrinoAssemblerJSB");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),cc.renderer;var n=[0,1,3,1,2,3],s=512*n.length,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentVertex=0,e._renderStyleIndex=null,e._worldScale=new cc.Vec3,e}return i(e,t),e._checkAndCreateCurrentBuffer=function(){var t=e._bufferIndex;e._vertexBuffers[t]||(e._vertexBuffers[t]=new ArrayBuffer(2048*e._vertexFormat._bytes),e._vertexFloatBuffers[t]=new Float32Array(e._vertexBuffers[t]),e._vertexUint32Buffers[t]=new Uint32Array(e._vertexBuffers[t])),e._indexBuffers[t]||(e._indexBuffers[t]=new Uint16Array(s))},e._incBuffer=function(){++e._bufferIndex,e._numBufferVertices=0,e._numBufferIndices=0,e._startBufferVertex=0,e._startBufferIndex=0,e._checkAndCreateCurrentBuffer()},e.prototype._prepareForGeometry=function(t,o){e._numBufferVertices,(e._numBufferVertices+t>2048||e._numBufferIndices+o>s)&&(this._finishDrawCall(),e._incBuffer())},e.prototype._commitGeometry=function(t,o){e._numBufferVertices+=t,e._numBufferIndices+=o},e._resetGeometryBuffers=function(){this._bufferIndex=0,this._numBufferVertices=0,this._numBufferIndices=0,this._startBufferVertex=0,this._startBufferIndex=0,this._checkAndCreateCurrentBuffer()},e.prototype._finishDrawCall=function(){if(e._startBufferIndex!==e._numBufferIndices){var t=e._bufferIndex,o=new Float32Array(e._vertexBuffers[t],e._startBufferVertex*e._vertexFormat._bytes,(e._numBufferVertices-e._startBufferVertex)*e._vertexFormat._bytes/4),r=new Uint16Array(e._indexBuffers[t].buffer,2*e._startBufferIndex,e._numBufferIndices-e._startBufferIndex);this.updateIAData(this._drawCallIndex,e._vertexFormat._nativeObj,o,r);var i=this._renderComp.materials[this._renderStyleIndex].effect;this.updateEffect(this._drawCallIndex,i._nativeObj),e._startBufferVertex=e._numBufferVertices,e._startBufferIndex=e._numBufferIndices,++this._drawCallIndex}},e.prototype.updateRenderData=function(t){this.fillBuffers(t),t.node._renderFlag|=cc.RenderFlow.FLAG_UPDATE_RENDER_DATA},e.prototype.fillBuffers=function(t){t._neutrinoEffect&&t.context.loaded()&&(this.reset(),e._resetGeometryBuffers(),this._drawCallIndex=0,this._currentVertex=0,this._renderStyleIndex=null,this._worldScale=t._worldScale,t._neutrinoEffect.fillGeometryBuffers([1,0,0],[0,1,0],[0,0,-1]),this._finishDrawCall())},e.prototype.initialize=function(){},e.prototype.beforeQuad=function(t){this._renderStyleIndex!==t&&(this._finishDrawCall(),this._renderStyleIndex=t),this._prepareForGeometry(4,n.length)},e.prototype.pushVertex=function(t){var o=e._bufferIndex,r=e._vertexFormat._bytes/4,i=e._vertexFloatBuffers[o],s=e._vertexUint32Buffers[o],c=(e._numBufferVertices+this._currentVertex)*r,a=t.position[0]*this._worldScale.x,h=t.position[1]*this._worldScale.y,u=t.position[2]*this._worldScale.z;if(i[c++]=a,i[c++]=h,i[c++]=u,i[c++]=t.texCoords[0][0],i[c++]=1-t.texCoords[0][1],s[c++]=t.color[0]|t.color[1]<<8|t.color[2]<<16|t.color[3]<<24,++this._currentVertex,4==this._currentVertex){for(var l=e._indexBuffers[o],d=0;d<n.length;++d)l[e._numBufferIndices+d]=e._numBufferVertices-e._startBufferVertex+n[d];this._commitGeometry(4,n.length),this._currentVertex=0}},e.prototype.pushRenderCall=function(){},e.prototype.cleanup=function(){},e._vertexFormat=cc.gfx.VertexFormat.XYZ_UV_Color,e._vertexBuffers=[],e._vertexFloatBuffers=[],e._vertexUint32Buffers=[],e._indexBuffers=[],e}(cc.MeshRenderer.__assembler__);o.default=c,cc._RF.pop()},{}],NeutrinoAssemblerWebGL:[function(t,e,o){"use strict";cc._RF.push(e,"32e92P2G2hLrY8BaVp0+NVh","NeutrinoAssemblerWebGL");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var n=[0,1,3,1,2,3],s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initialized=!1,e._currentVertex=0,e._renderStyleIndex=null,e._vertexFormat=cc.gfx.VertexFormat.XYZ_UV_Color,e._buffer=null,e._bufferOffsetInfo=null,e._modelBatcher=null,e._worldScale=new cc.Vec3,e}return i(e,t),e.prototype.fillBuffers=function(t,e){t._neutrinoEffect&&t.context.loaded()&&(this._initialized||(this._buffer=e.getBuffer("mesh",this._vertexFormat),this._initialized=!0),this._modelBatcher=e,this._renderStyleIndex=null,this._worldScale=t._worldScale,t._neutrinoEffect.fillGeometryBuffers([1,0,0],[0,1,0],[0,0,-1]))},e.prototype.initialize=function(){},e.prototype.beforeQuad=function(t){if(this._renderStyleIndex!==t){var e=this._renderComp.materials[t];e&&e.getHash()!==this._modelBatcher.material.getHash()&&(this._modelBatcher._flush(),this._modelBatcher.material=e),this._renderStyleIndex=t}this._bufferOffsetInfo=this._buffer.request(4,n.length)},e.prototype.pushVertex=function(t){var e=this._bufferOffsetInfo,o=this._vertexFormat._bytes/4,r=this._buffer,i=r._vData,s=r._uintVData,c=e.byteOffset/4+this._currentVertex*o,a=t.position[0]*this._worldScale.x,h=t.position[1]*this._worldScale.y,u=t.position[2]*this._worldScale.z;if(i[c+0]=a,i[c+1]=h,i[c+2]=u,i[c+3]=t.texCoords[0][0],i[c+4]=1-t.texCoords[0][1],s[c+5]=t.color[0]|t.color[1]<<8|t.color[2]<<16|t.color[3]<<24,++this._currentVertex,4==this._currentVertex){for(var l=r._iData,d=0;d<n.length;++d)l[e.indiceOffset+d]=e.vertexOffset+n[d];this._currentVertex=0}},e.prototype.pushRenderCall=function(){},e.prototype.cleanup=function(){},e}(cc.Assembler);o.default=s,cc._RF.pop()},{}],NeutrinoAssembler:[function(t,e,o){"use strict";cc._RF.push(e,"7dd47KelZZLyadMohM05ouJ","NeutrinoAssembler"),Object.defineProperty(o,"__esModule",{value:!0});var r=t("./NeutrinoAssemblerWebGL"),i=(t("./NeutrinoAssemblerJSB"),r.default);o.default=i,cc._RF.pop()},{"./NeutrinoAssemblerJSB":"NeutrinoAssemblerJSB","./NeutrinoAssemblerWebGL":"NeutrinoAssemblerWebGL"}],NeutrinoComponent:[function(t,e,o){"use strict";cc._RF.push(e,"fe372iH4fZOBLxITCZbQxJ2","NeutrinoComponent");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./NeutrinoSettings"),c=t("./NeutrinoContext"),a=cc._decorator,h=a.ccclass,u=a.property,l=new cc.Mat4,d=new cc.Mat4,f=new cc.Quat,p=new cc.Vec3,_=new cc.Mat4,b=[0,0,0,0],y=[0,0,0,0];function v(t){return t instanceof cc.Vec2?[t.x,t.y]:t instanceof cc.Vec3?[t.x,t.y,t.z]:t}var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.context=null,e._neutrinoEffectModel=null,e._neutrinoEffect=null,e._spriteFrames=null,e._emitterPropsOnStart={},e._texturesRemap=null,e._waitingForContext=!1,e._resetInProgress=!1,e._numTexturesLoading=0,e._errorOnLoad=!1,e._worldScale=new cc.Vec3,e._destructed=!1,e._serialized=!1,e._worldParentId="",e._texturesPrefixPath="",e._spriteAtlas=null,e._pausedOnStart=!1,e._pausedGeneratorsOnStart=!1,e.destroyWhenEmpty=!1,e.destroyNodeWhenEmpty=!1,e}return i(e,t),Object.defineProperty(e.prototype,"worldParent",{get:function(){return this._findWorldParent()},set:function(t){this._worldParentId=t?t.uuid:"",this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texturesPrefixPath",{get:function(){return this._texturesPrefixPath},set:function(t){this._texturesPrefixPath=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteAtlas",{get:function(){return this._spriteAtlas},set:function(t){this._spriteAtlas=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedOnStart",{get:function(){return this._pausedOnStart},set:function(t){this._pausedOnStart=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedGeneratorsOnStart",{get:function(){return this._pausedGeneratorsOnStart},set:function(t){this._pausedGeneratorsOnStart=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),e.prototype.resetInEditor=function(){this._waitForContextAndReset()},e.prototype.onLoad=function(){if(this.context=c.default.instance(),this.context.ensureNoiseTextureIsGenerated(),!this._serialized){this._serialized=!0;var t=s.default.instance();t&&(this._texturesPrefixPath=t.defaultTexturesPrefixPath,this._spriteAtlas=t.defaultSpriteAtlas,t.defaultWorldParent&&(this._worldParentId=t.defaultWorldParent.uuid))}this._waitForContextAndReset()},e.prototype.onDestroy=function(){this._spriteFrames&&(this._spriteFrames.forEach(function(t){t&&t.decRef()}),this._spriteFrames.length=0),this._waitingForContext&&this.context.off("loaded",this._reset,this),this._destructed=!0},e.prototype.update=function(t){if(this._neutrinoEffect){this._getNeutrinoWorldPositionRotation(b,y),this._neutrinoEffect.update(t,b,y);var e=this.worldParent;e?(e.getWorldMatrix(_),this.materials.forEach(function(t){t.setProperty("worldParentMat",_)})):this.materials.forEach(function(t){t.setProperty("worldParentMat",cc.Mat4.IDENTITY)}),this.paused()||(this.destroyWhenEmpty||this.destroyNodeWhenEmpty)&&0===this.getNumParticles()&&(this.destroyNodeWhenEmpty?this.node.destroy():this.destroy())}},e.prototype.ready=function(){return null!==this._neutrinoEffect},e.prototype.restart=function(){this._getNeutrinoWorldPositionRotation(b,y),this._neutrinoEffect.restart(b,y)},e.prototype.resetPositionRotation=function(){this._getNeutrinoWorldPositionRotation(b,y),this._neutrinoEffect.resetPosition(b,y)},e.prototype.pause=function(){this.ready()&&this._neutrinoEffect.pauseAllEmitters(),this._pausedOnStart=!0},e.prototype.unpause=function(){this.ready()&&this._neutrinoEffect.unpauseAllEmitters(),this._pausedOnStart=!1},e.prototype.paused=function(){return this.ready()?this._neutrinoEffect.areAllEmittersPaused():this._pausedOnStart},e.prototype.pauseGenerators=function(){this.ready()&&this._neutrinoEffect.pauseGeneratorsInAllEmitters(),this._pausedGeneratorsOnStart=!0},e.prototype.unpauseGenerators=function(){this.ready()&&this._neutrinoEffect.unpauseGeneratorsInAllEmitters(),this._pausedGeneratorsOnStart=!1},e.prototype.generatorsPaused=function(){return this.ready()?this._neutrinoEffect.areGeneratorsInAllEmittersPaused():this._pausedGeneratorsOnStart},e.prototype.setPropertyInAllEmitters=function(t,e){var o=v(e);this.ready()?this._neutrinoEffect.setPropertyInAllEmitters(t,o):this._emitterPropsOnStart[t]=o},e.prototype.getNumParticles=function(){return this._neutrinoEffect?this._neutrinoEffect.getNumParticles():0},e.prototype._checkBacth=function(t,e){t.cullingMask!==e&&(t._flush(),t.cullingMask=e)},e.prototype._waitForContextAndReset=function(){if(this.context)return this.context.loaded()?void this._reset():(this._waitingForContext=!0,void this.context.once("loaded",this._reset,this))},e.prototype._reset=function(){if(!this._resetInProgress&&!this._destructed){this._waitingForContext=!1;var t=this.getEffectClass();if(t){this._resetInProgress=!0,this._errorOnLoad=!1,this._neutrinoEffectModel=new t(this.context.neutrinoContext),this._neutrinoEffect=null;var e=this._neutrinoEffectModel.textures.length;this._spriteFrames=new Array(e),this._numTexturesLoading=this._spriteFrames.length;for(var o=0;o<e;++o){var r=(this._texturesPrefixPath+this._neutrinoEffectModel.textures[o]).replace(/\.[^/.]+$/,"");if(this.spriteAtlas){var i=this.spriteAtlas.getSpriteFrame(r);i?(i.addRef(),this._spriteFrames[o]=i,--this._numTexturesLoading):(cc.warn(this.__classname__+": Can't load sprite '"+r+"' from sprite atlas. Will try to load single texture."),this._loadTexture(o,r))}else this._loadTexture(o,r)}0===this._numTexturesLoading&&this._onTexturesLoaded()}else cc.error(this.__classname__+": you shouldn't use NeutrinoComponent by itself. Use generated effect classes instead.")}},e.prototype._loadTexture=function(t,e){var o=this,r=this,i=this.getTexturesDatabase().find(function(t){return t.path===e}),n=function(){--r._numTexturesLoading,0===r._numTexturesLoading&&r._onTexturesLoaded()};if(!i)return cc.error(this.__classname__+": Can't find texture '"+e+"."),this._errorOnLoad=!0,void n();this.context.texturesBundle().load(i.path,cc.SpriteFrame,function(i,s){o._destructed||(i?(cc.error(r.__classname__+": Can't load sprite frame '"+e+"'. "+i),r._errorOnLoad=!0):(s.addRef(),r._spriteFrames[t]=s),n())})},e.prototype._onTexturesLoaded=function(){var t=this;if(this._errorOnLoad)this._resetInProgress=!1;else{this.materials.length=0;var e=!1;if(this._neutrinoEffectModel.renderStyles.forEach(function(o,r){var i=o.textureIndices[0],n=t._spriteFrames[i];if(!n)return cc.warn(t.__classname__+": Loading flow wrong behavior found #3 (don't worry about it)"),void(e=!0);var s=n.getTexture();if(!s)return cc.warn(t.__classname__+": Loading flow wrong behavior found #4 (don't worry about it)"),void(e=!0);var c=t._neutrinoEffectModel.materials[o.materialIndex],a=t.context.materials[2*c+(s.hasPremultipliedAlpha()?1:0)];if(!a)return cc.warn(t.__classname__+": Loading flow wrong behavior found #5 (don't worry about it)"),void(e=!0);t.setMaterial(r,a).setProperty("texture",s)},this),e)this._resetInProgress=!1;else{for(var o in this._initTexturesRemap(),this._getNeutrinoWorldPositionRotation(b,y),this._neutrinoEffect=this._neutrinoEffectModel.createWGLInstance(b,y,this._assembler,{paused:this._pausedOnStart,generatorsPaused:this._pausedGeneratorsOnStart}),this._neutrinoEffect.texturesRemap=this._texturesRemap,this._emitterPropsOnStart)this._neutrinoEffect.setPropertyInAllEmitters(o,this._emitterPropsOnStart[o]);this._emitterPropsOnStart={},this._resetInProgress=!1}}},e.prototype._initTexturesRemap=function(){for(var t=!1,e=0;e<this._spriteFrames.length;++e)if(1!==(o=this._spriteFrames[e]).uv[6]||0!==o.uv[0]||0!==o.uv[7]||1!==o.uv[1]){t=!0;break}if(t)for(this._texturesRemap=new Array(this._spriteFrames.length),e=0;e<this._spriteFrames.length;++e){var o=this._spriteFrames[e];this._texturesRemap[e]=new this.context.neutrinoContext.SubRect(o.uv[0],1-o.uv[1],o.uv[6]-o.uv[0],o.uv[1]-o.uv[7])}else this._texturesRemap=[]},e.prototype._getNeutrinoWorldPositionRotation=function(t,e){var o=l,r=f,i=p,n=this._worldScale;this.node.getWorldMatrix(o);var s=this.worldParent;if(s){var c=d;s.getWorldMatrix(c),cc.Mat4.invert(c,c),cc.Mat4.multiply(o,c,o)}cc.Mat4.getRotation(r,o),o.getTranslation(i),o.getScale(n),t[0]=i.x/n.x,t[1]=i.y/n.y,t[2]=i.z/n.z,e[0]=r.x,e[1]=r.y,e[2]=r.z,e[3]=r.w},e.prototype._findWorldParent=function(){var t=this.node;do{if(t.uuid==this._worldParentId)return t;t=t.parent}while(t);return null},n([u],e.prototype,"_serialized",void 0),n([u],e.prototype,"_worldParentId",void 0),n([u(cc.Node)],e.prototype,"worldParent",null),n([u],e.prototype,"_texturesPrefixPath",void 0),n([u],e.prototype,"texturesPrefixPath",null),n([u(cc.SpriteAtlas)],e.prototype,"_spriteAtlas",void 0),n([u(cc.SpriteAtlas)],e.prototype,"spriteAtlas",null),n([u],e.prototype,"_pausedOnStart",void 0),n([u],e.prototype,"pausedOnStart",null),n([u],e.prototype,"_pausedGeneratorsOnStart",void 0),n([u],e.prototype,"pausedGeneratorsOnStart",null),n([u],e.prototype,"destroyWhenEmpty",void 0),n([u],e.prototype,"destroyNodeWhenEmpty",void 0),n([h],e)}(cc.RenderComponent);o.default=g,cc._RF.pop()},{"./NeutrinoContext":"NeutrinoContext","./NeutrinoSettings":"NeutrinoSettings"}],NeutrinoContext:[function(t,e,o){"use strict";cc._RF.push(e,"c5500GPiiNIKKYfuHMFpUCR","NeutrinoContext");var r=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./neutrinoparticles.js/neutrinoparticles.umd"),n=cc._decorator,s=n.ccclass,c=n.mixins,a=[{uuid:"97KN8e0flOjpWQPC0zIOoR",name:"NeutrinoNormal"},{uuid:"c5T9A8r8FHY5DeeJSjTP0k",name:"NeutrinoNormalPremul"},{uuid:"369MNzEcVL3Jj5UF9gvCfR",name:"NeutrinoAdd"},{uuid:"baTMgpxLlFqrJF04VcDxPF",name:"NeutrinoAddPremul"},{uuid:"a74/Nyb0dDYrv5zAZoAlVP",name:"NeutrinoMultiply"},{uuid:"04mmqJExZKjqgZH4ovqGK7",name:"NeutrinoMultiplyPremul"}],h=function(){function t(){this.neutrinoContext=new i.Context,this.materials=new Array(a.length),this._materialsLeftToLoad=this.materials.length,this._bundlesLeftToLoad=0,this._noiseGenerationStep=null,this._noiseGenerated=!1,this._texturesBundle=null,cc.EventTarget.call(this),this._startLoadingForBuild()}var e;return e=t,t.instance=function(){return this._singleInstance||(this._singleInstance=new e),this._singleInstance},t.prototype.loaded=function(){return 0===this._materialsLeftToLoad&&0===this._bundlesLeftToLoad},t.prototype.startNoiseTextureGeneration=function(){if(!this._noiseGenerated){var t,e=this,o=new this.neutrinoContext.NoiseGenerator;this._noiseGenerationStep=function(){for(var r=0;r<100;++r)if(o.step()){clearInterval(t),e._noiseGenerationStep=null,e._noiseGenerated=!0,o=null;break}},t=setInterval(this._noiseGenerationStep,0)}},t.prototype.ensureNoiseTextureIsGenerated=function(){if(!this._noiseGenerated)for(this._noiseGenerationStep||this.startNoiseTextureGeneration();this._noiseGenerationStep;)this._noiseGenerationStep()},t.prototype.texturesBundle=function(){return this._texturesBundle},t.prototype._startLoadingForDev=function(){for(var t=this,e=function(e){var o=e;cc.assetManager.loadAny(a[e].uuid,function(e,r){e?cc.error("NeutrinoContext: can't load material with UUID='"+a[o].uuid+"'. "+e):t._materialLoaded(r,o)})},o=0;o<this.materials.length;++o)e(o)},t.prototype._startLoadingForBuild=function(){var t=this,e=this;++this._bundlesLeftToLoad,cc.assetManager.loadBundle("neutrinoparticles-materials",function(o,r){if(o)cc.error("NeutrinoContext: failed to load bundle 'neutrinoparticles-materials'. "+o);else{--t._bundlesLeftToLoad;for(var i=function(t){var o=t;r.load(a[t].name,function(t,r){t?cc.error("NeutrinoContext: can't load material '"+a[o].name+"'. "+t):e._materialLoaded(r,o)})},n=0;n<t.materials.length;++n)i(n)}}),++this._bundlesLeftToLoad,cc.assetManager.loadBundle("neutrinoparticles/textures",function(e,o){e?cc.error("NeutrinoContext: failed to load bundle 'neutrinoparticles/textures'"):(cc.log("NeutrinoContext: Loaded bundle neutrinoparticles/textures"),--t._bundlesLeftToLoad,t._texturesBundle=o,t._checkAndEmitLoadedStatus())})},t.prototype._materialLoaded=function(t,e){this.materials[e]=t,--this._materialsLeftToLoad,this._checkAndEmitLoadedStatus()},t.prototype._checkAndEmitLoadedStatus=function(){this.loaded()&&this.emit("loaded")},e=r([s("NeutrinoContext"),c(cc.EventTarget)],t)}();o.default=h,cc.game.once(cc.game.EVENT_GAME_INITED,function(){h.instance().startNoiseTextureGeneration()}),cc._RF.pop()},{"./neutrinoparticles.js/neutrinoparticles.umd":"neutrinoparticles.umd"}],NeutrinoEffect_Cigarette:[function(t,e,o){"use strict";cc._RF.push(e,"85facwcDPxBPpOKXjISE6jP","NeutrinoEffect_Cigarette");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../exported_effects/Cigarette.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,l=u.ccclass,d=u.executeInEditMode,f=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getEffectClass=function(){return s},e.prototype.getTexturesDatabase=function(){return c.default},n([l,d,f,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Cigarette")],e)}(a.default);o.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Cigarette.js":"Cigarette","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoEffect_Cresent_stars:[function(t,e,o){"use strict";cc._RF.push(e,"33a3bLnL+dA2qO7Lh+sm0/I","NeutrinoEffect_Cresent_stars");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../exported_effects/Cresent_stars.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,l=u.ccclass,d=u.executeInEditMode,f=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getEffectClass=function(){return s},e.prototype.getTexturesDatabase=function(){return c.default},n([l,d,f,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Cresent_stars")],e)}(a.default);o.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Cresent_stars.js":"Cresent_stars","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoEffect_Pink_stars:[function(t,e,o){"use strict";cc._RF.push(e,"c86c22+UyxL1qp07a5wKAXf","NeutrinoEffect_Pink_stars");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../exported_effects/Pink_stars.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,l=u.ccclass,d=u.executeInEditMode,f=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getEffectClass=function(){return s},e.prototype.getTexturesDatabase=function(){return c.default},n([l,d,f,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Pink_stars")],e)}(a.default);o.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Pink_stars.js":"Pink_stars","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoSettings:[function(t,e,o){"use strict";cc._RF.push(e,"fbcd0MmKjROJoyVC6K9nt1e","NeutrinoSettings");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultWorldParent=null,e.defaultTexturesPrefixPath="",e.defaultSpriteAtlas=null,e}var o;return i(e,t),o=e,e.instance=function(){var t=cc.find("Canvas");if(!t)return null;var e=t.getComponent(o);return e||((e=t.addComponent(o)).defaultWorldParent=t),e},n([a(cc.Node)],e.prototype,"defaultWorldParent",void 0),n([a],e.prototype,"defaultTexturesPrefixPath",void 0),n([a(cc.SpriteAtlas)],e.prototype,"defaultSpriteAtlas",void 0),o=n([c],e)}(cc.Component);o.default=h,cc.NeutrinoSettings=h,cc._RF.pop()},{}],NodesContainer:[function(t,e,o){"use strict";cc._RF.push(e,"97c94wUbc5Pebqv3On9B17z","NodesContainer");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BG=null,e.hideMask=null,e.UI=null,e.Tutorial=null,e.PS=[],e.Tubes=[],e.time=null,e.hand=null,e.logo=null,e.text=null,e.btn_Play=null,e.CTA=null,e.CTA_button=null,e.CTA_button_tryAgain=null,e.CTA_button_Next=null,e.CTA_overlay=null,e.FX_Star=null,e.FX_Confetti=null,e}return i(e,t),e.prototype.start=function(){var t=this;this.time=this.UI.getChildByName("time_tab1"),this.UI.getChildByName("MainContent").getChildByName("TubeController").children.forEach(function(e){e.name.includes("Bottle")&&t.Tubes.push(e)}),this.hand=this.UI.getChildByName("hand"),this.CTA=this.UI.getChildByName("CTA"),this.CTA_button=this.CTA.getChildByName("button"),this.CTA_button_tryAgain=this.CTA_button.getChildByName("TRY AGAIN"),this.CTA_button_Next=this.CTA_button.getChildByName("NEXT"),this.CTA_overlay=this.CTA.getChildByName("Overlay"),this.FX_Star=this.UI.getChildByName("StarFX").getComponent(cc.ParticleSystem),this.FX_Confetti=this.UI.getChildByName("ConfettiBase").children[0].getComponent(cc.ParticleSystem)},n([a(cc.Node)],e.prototype,"BG",void 0),n([a(cc.Node)],e.prototype,"hideMask",void 0),n([a(cc.Node)],e.prototype,"UI",void 0),n([a(cc.Node)],e.prototype,"Tutorial",void 0),n([a([cc.ParticleSystem])],e.prototype,"PS",void 0),n([c],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],Pink_stars:[function(t,e,o){"use strict";cc._RF.push(e,"4b791sdp6RCT7yZJyfW4AH2","Pink_stars"),function(t,r){if("object"==typeof o&&void 0!==e)e.exports=r();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Pink_stars=r()});else{var i=t.NeutrinoEffect||(t.NeutrinoEffect={});i.__last__=i.Pink_stars=r()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,o=function t(e,o){this.Ld=e,this.Bd=o,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};o.prototype={Ec:function(e,o,r){var i=t.ib(r.Md),n=Math.cos(i),s=Math.sin(i),c=t.Ae(r.Nd[0]),a=t.Ae(r.Nd[1]);e.transform(c*n,c*s,a*-s,a*n,o[0],o[1])},Fc:function(e,o,r){var i=r.Mc,n=2*i[2]*i[2],s=2*i[0]*i[1],c=2*i[3]*i[2],a=t.Ae(r.Nd[0]),h=t.Ae(r.Nd[1]);e.transform(a*(1-2*i[1]*i[1]-n),a*(s+c),h*(c-s),h*(2*i[0]*i[0]+n-1),o[0],o[1])},Pc:function(e,o,r){if(o.vc(e,-1,r),this.we&&null!=this.Be&&!o.oc&&o.Od>.001){var i=Math.floor(o.Qc%this.we.Rc),n=Math.floor(o.Qc/this.we.Rc),s=o.Ab.slice(),c=o.Nd.slice();if(!r||r.transform(s,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,s,o),e.translate(-a*o.Pd[0],-h*(1-o.Pd[1])),e.globalAlpha*=o.Od,o.gf[0]<.999||o.gf[1]<.999||o.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,l=h<this.Uc?h:this.Uc;t.af(u,l),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,u,l),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(o.gf),t.bf.fillRect(0,0,u,l),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,u,l),e.drawImage(t.cf,0,0,u,l,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*i,this.Be.y+this.Uc*n,this.Tc,this.Uc,0,0,a,h);e.restore()}}}o.vc(e,1,r)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var o=0;o<this.Bd.tc.length;++o)this.Pc(t,this.Bd.tc[o],e);break;case 1:for(o=this.Bd.tc.length;o-- >0;)this.Pc(t,this.Bd.tc[o],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),o=0;o<this.Bd.tc.length;++o)this.Pc(t,this.Bd.tc[o],e)}t.restore()}};var r=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};r.prototype={qe:function(e,o,r,i,n){if(e.Ce(-1,o,r,i,n),this.we&&!e.oc){var s=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],l=[];if(0==this.we.xe){var d=t.ib(e.Md),f=-Math.sin(d),p=Math.cos(d);u[0]=o[0]*p+r[0]*f,u[1]=o[1]*p+r[1]*f,u[2]=o[2]*p+r[2]*f,l[0]=-o[0]*f+r[0]*p,l[1]=-o[1]*f+r[1]*p,l[2]=-o[2]*f+r[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],y=2*_[0]*_[1],v=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=y+v,u[2]=2*_[0]*_[2]-2*_[3]*_[1],l[0]=y-v,l[1]=1-2*_[0]*_[0]-b,l[2]=2*_[1]*_[2]+2*_[3]*_[0]}var g=[],m=[],C=[],x=[];t.u(g,u,-e.Nd[0]*e.Pd[0]),t.u(m,u,e.Nd[0]*(1-e.Pd[0])),t.u(C,l,-e.Nd[1]*e.Pd[1]),t.u(x,l,e.Nd[1]*(1-e.Pd[1])),t.c(s.position,g,C),t.c(s.position,s.position,e.Ab),t.c(c.position,g,x),t.c(c.position,c.position,e.Ab),t.c(a.position,m,x),t.c(a.position,a.position,e.Ab),t.c(h.position,m,C),t.c(h.position,h.position,e.Ab);var w=t.v(e.gf,255);s.color=c.color=a.color=h.color=[w[0],w[1],w[2],255*e.Od];var A,S,P=Math.floor(e.Qc%this.we.Rc),B=Math.floor(e.Qc/this.we.Rc),T=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(T)var M=T.width/this.we.Rc,R=T.height/this.we.Sc,I=(A=T.x+P*M)+M,O=(S=T.y+T.height-B*R)-R;else I=(A=P*(M=1/this.we.Rc))+M,O=(S=1-B*(R=1/this.we.Sc))-R;if(s.texCoords[0]=[A,O],c.texCoords[0]=[A,S],a.texCoords[0]=[I,S],h.texCoords[0]=[I,O],n.beforeQuad&&n.beforeQuad(this.we.renderStyleIndex),n.pushVertex(s),n.pushVertex(c),n.pushVertex(a),n.pushVertex(h),n.__lastRenderCall){var N=n.__lastRenderCall;N.renderStyleIndex==this.we.renderStyleIndex?N.numIndices+=6:(n.pushRenderCall(N),n.__lastRenderCall=new t.RenderCall(N.startIndex+N.numIndices,6,this.we.renderStyleIndex))}else n.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,o,r,i,n)},ue:function(e,o,r,i){switch(this.Bd.Vc){case 0:for(var n=0;n<this.Bd.tc.length;++n)this.qe(this.Bd.tc[n],e,o,r,i);break;case 1:for(n=this.Bd.tc.length;n-- >0;)this.qe(this.Bd.tc[n],e,o,r,i);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(r,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,o,r,i)},this)}}};var i=function e(o,r,i){var n=this;function s(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,n.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,n.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=o,this.we=r,s.prototype={Jd:function(){this.Nb()},Id:function(e,r,i){n.we.Pb(e,n,this);var s=n.Rb,c=o.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var l=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=l,s+=l,c+=l,null!=this.Hb&&s>this.Hb){n.disactivate();break}n.Rb=s,o.Rb=c,r&&e>0&&t.ab(n.Ab,r,n.Bb,a/e),i&&e>0&&t.slerpq(n.Mc,i,n.prevRotation,a/e),this.Lb=this.Jb;for(var d=0;d<this.Jb&&0!=n.sc.length;++d){1==this.Jb?this.Kb=0:this.Kb=d/(this.Jb-1);var f=n.sc.pop();n.tc.unshift(f),0==d?f.Yb():f.Zb(),f.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){n.disactivate();break}}this.Ob=u}return s+=a,n.Rb=s,r&&t.T(n.Ab,r),i&&t.U(n.Mc,i),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,r,i){n.we.Pb(e,n,this);var s=n.Rb,c=s+e,a=o.Rb,h=a+e,u=r?t.O(t.h(r,n.Bb)):0,l=0;if(u>1e-6){for(var d=u/this.rd,f=this.bc+d,p=d<.001?1-this.bc:(1-this.bc)/d,_=[];f>1;){var b=s+p*e;r&&t.ab(_,n.Bb,r,p),n.Rb=b,t.T(n.Ab,_),o.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var y=0;y<this.Jb&&0!=n.sc.length;++y){1==this.Jb?this.Kb=0:this.Kb=y/(this.Jb-1);var v=n.sc.pop();n.tc.unshift(v),0==y?v.Yb():v.Zb(),v.Id(e*(1-p)),++l}p+=1/d,f-=1}this.bc=f}return n.Rb=c,r&&t.T(n.Ab,r),i&&t.U(n.Mc,i),l}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){n.we.fd(n,this),this.nc()},Zb:function(){n.we.gd(n,this),this.nc()},Id:function(t){n.we.qc(t,n,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,r){this.Kc.push({Bd:new e(o,t,i),Ad:r})},vc:function(t,e,o){for(var r=0;r<this.Kc.length;++r){var i=this.Kc[r];e==i.Ad.xc&&i.Bd.Hd(t,o)}},Ce:function(t,e,o,r,i){for(var n=0;n<this.Kc.length;++n){var s=this.Kc[n];t==s.Ad.xc&&s.Bd.ue(e,o,r,i)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return n.we.Cc(n,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new i(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new s},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var l=new a,d=0;d<this.Yc.length;++d){var f=this.Yc[d];l.uc(f.Db,f.Ad)}this.sc.push(l)}this.Nb=function(e,o){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,o||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};i.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},i.prototype.Id=function(e,o,r){if(this.paused_)this.Td(o,r);else{if(this.wd=this.Rb,o)if(t.T(this.Bb,this.Ab),e>1e-4){var i=[];t.g(i,o,this.Bb),t.T(this.ad,i),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var n;r&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?n=this.vd.Id(e,o,r):(o&&t.T(this.Ab,o),r&&t.U(this.Mc,r),n=0,this.Rb+=e);for(var s=n;s<this.tc.length;){var c=this.tc[s];if(c.oc){if(c.rc(e),this.xd(s))continue}else if(c.Id(e),this.Wc.Ac(this.tc[s])&&(c.wc(),this.xd(s)))continue;++s}}},i.prototype.xd=function(t){for(var e=this.tc[t],o=!0,r=0;r<e.Kc.length;++r){var i=e.Kc[r].Bd;if(i.activated()||i.tc.length>0){o=!1;break}}return!!o&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},i.prototype.Hd=function(t,e){this.construct.Hd(t,e)},i.prototype.ue=function(t,e,o,r){this.construct.ue(t,e,o,r)},i.prototype.Td=function(e,o){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),o&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,o))},i.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},i.prototype.pause=function(){this.paused_=!0},i.prototype.unpause=function(){this.paused_=!1},i.prototype.paused=function(){return this.paused_},i.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},i.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},i.prototype.generatorsPaused=function(){return this.generatorsPaused_},i.prototype.activate=function(){this.Zc=!0},i.prototype.disactivate=function(){this.Zc=!1},i.prototype.activated=function(){return this.Zc},i.prototype.getNumParticles=function(){return this.tc.length};var n=function(){this._init=function(e,o,r,n,s){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new i(this,t,n);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,o){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,o||[0,0,0,1])},this.Nb(o,r),this.model.qd(this),this._presimNeeded=!0,s.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),s.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,o,r),this._presimNeeded=!1)}};n.prototype.restart=function(t,e,o){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var r=0;r<this.od.length;++r)this.od[r].Jd(this.Ab,this.Mc);this._presimNeeded=!0,o&&o.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),o&&o.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},n.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},n.prototype.update=function(t,e,o){this.Dd>0?this.updateFixed(t,e,o):this.updateFlex(t,e,o)},n.prototype.updateFixed=function(e,o,r){var i=0,n=[];t.T(n,this.Ab);var s=[];for(t.U(s,this.Mc),o&&t.equalv3_(o,this.Ab)&&(o=null),r&&t.equalq_(r,this.Mc)&&(r=null);e-i+this.Cd>=this.Dd;){var c=this.Rb;o&&t.ab(n,this.Ab,o,i/e),r&&t.slerpq(s,this.Mc,r,i/e);for(var a=0;a<this.od.length;++a)this.od[a].Id(this.Dd,n,s),this.Rb=c;i+=this.Dd-this.Cd,this.Cd=0,this.Rb=c+this.Dd}o&&t.T(this.Ab,o),r&&t.U(this.Mc,r),this.Cd+=e-i},n.prototype.updateFlex=function(e,o,r){for(var i=this.Rb,n=0;n<this.od.length;++n)this.od[n].Id(e,o,r),this.Rb=i;this.Rb=i+e,o&&t.T(this.Ab,o),r&&t.U(this.Mc,r)},n.prototype.resetPosition=function(e,o){e&&t.T(this.Ab,e),o&&t.U(this.Mc,o);for(var r=0;r<this.od.length;++r)this.od[r].Td(this.Ab,this.Mc)},n.prototype.setPropertyInAllEmitters=function(e,o){var r="_".concat(e);if(o instanceof Array)if(2==o.length)for(var i=0;i<this.od.length;++i)t.S(this.od[i][r],o);else for(i=0;i<this.od.length;++i)t.T(this.od[i][r],o);else for(i=0;i<this.od.length;++i)this.od[i][r]=o},n.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},n.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},n.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},n.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},n.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},n.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},n.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var s=function t(){this._init=function(e,o,i,n,s){t.prototype._init.call(this,e,o,i,r,s),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=n,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(s.prototype=new n).fillGeometryBuffers=function(t,e,o){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(r){r.ue(t,e,o,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,r,i,n){t.prototype._init.call(this,e,r,i,o,n),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var o,r,i,n,s,c,a,h,u,l,d,f,p,_,b=[[9.75862,9.76667],[19.5172,9.76667],[19.5172,19.5333],[29.2759,19.5333],[39.0345,19.5333],[68.3103,39.0667],[39.0345,39.0667],[29.2759,9.76667],[9.75862,19.5333]],y=[],v=[],g=[],m=[],C=[],x=[],w=[],A=[],S=[];this.pe=[{xe:0,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter",this.ud=function(t){t.dd(),t._10=[[[1,1,1]],[[1,0,0]],[[.3,.7,.7]]],t._20=[[[0,1,1],[1,1,1],[1,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=1,t.Gb=1,t.Jb=1},this.Pb=function(t,e,o){o.zb=1},this.fd=function(l,d){d._=0,o=0+1*l.Ld.rand(),r=this._2f(137397*o),t.yb(y,r[0]%29*9.75862-143,9.76667*Math.floor(r[0]/29)-148,b[r[1]],l.Ld.rand),t.W(v,y[0],y[1],0),d._4=[],t.rb(d._4,v,l.Mc),t.c(d._4,l.Ab,d._4),t.randv3gen(g,10,l.Ld.rand),d._6=[],t.rb(d._6,g,l.Mc),t.c(d._6,l.ad,d._6),i=0+360*l.Ld.rand(),d._8=i,n=0+1*l.Ld.rand(),s=n<0?0:n>1?1:n,t.V(C,0,1*(s-0)),c=n<0?0:n>1?1:n,t.V(x,0,1*(c-0)),a=n<0?0:n>1?1:n,t.V(w,0,1*(a-0)),t.W(m,e.nb(l._10[0][C[0]],C[1]),e.nb(l._10[1][x[0]],x[1]),e.nb(l._10[2][w[0]],w[1])),d._11=[],t.T(d._11,m),h=20+30*l.Ld.rand(),d._13=h,u=80*l.Ld.rand()-40,d._15=u,t.T(d.Ab,d._4)},this.gd=function(l,d){d._=0,o=0+1*l.Ld.rand(),r=this._2f(137397*o),t.yb(y,r[0]%29*9.75862-143,9.76667*Math.floor(r[0]/29)-148,b[r[1]],l.Ld.rand),t.W(v,y[0],y[1],0),d._4=[],t.rb(d._4,v,l.Mc),t.c(d._4,l.Ab,d._4),t.randv3gen(g,10,l.Ld.rand),d._6=[],t.rb(d._6,g,l.Mc),t.c(d._6,l.ad,d._6),i=0+360*l.Ld.rand(),d._8=i,n=0+1*l.Ld.rand(),s=n<0?0:n>1?1:n,t.V(C,0,1*(s-0)),c=n<0?0:n>1?1:n,t.V(x,0,1*(c-0)),a=n<0?0:n>1?1:n,t.V(w,0,1*(a-0)),t.W(m,e.nb(l._10[0][C[0]],C[1]),e.nb(l._10[1][x[0]],x[1]),e.nb(l._10[2][w[0]],w[1])),d._11=[],t.T(d._11,m),h=20+30*l.Ld.rand(),d._13=h,u=80*l.Ld.rand()-40,d._15=u,t.T(d.Ab,d._4)},this.qc=function(o,r,i){i._+=o,t.T(A,i._6),t.u(A,A,o),t.c(A,A,i._4),t.T(i._4,A),l=i._8+o*i._15,i._8=l,t.T(i.Ab,i._4),d=5,f=i._/d,(_=f<0?0:f>1?1:f)<.6?_<.3?t.V(S,0,3.33333*(_-0)):t.V(S,1,3.33333*(_-.3)):t.V(S,2,2.5*(_-.6)),p=e.nb(r._20[0][S[0]],S[1]),t.S(i.Pd,[.5,.5]),i.Md=i._8,t.V(i.Nd,i._13,i._13),t.T(i.gf,i._11),i.Od=p,i.Qc=0},this.Cc=function(t,e){return d=5,e._>d},this._2f=function(t){return t<59943?t<35228?t<10991?t<3045?t<4?[94,0]:t<219?t<28?[177,0]:t<41?[205,0]:[206,0]:t<1086?t<359?t<229?[149,0]:[150,0]:t<585?t<410?[122,0]:[123,0]:t<831?[151,0]:[152,0]:t<2027?t<1518?t<1264?[178,0]:[179,0]:t<1772?[207,0]:[208,0]:t<2537?[180,1]:[209,1]:t<3871?t<3451?t<3176?t<3086?[95,0]:[96,0]:t<3304?[97,0]:[98,0]:t<3741?t<3599?[99,0]:[100,0]:[101,0]:t<7932?t<5895?t<4875?t<4365?t<4111?[124,0]:[125,0]:[153,1]:[126,2]:t<6913?t<6405?[182,1]:[211,1]:t<7423?[184,1]:t<7677?[213,0]:[214,0]:t<9462?[128,3]:t<10481?t<9972?[186,1]:t<10227?[215,0]:[216,0]:[188,8]:t<22764?t<15644?t<13197?t<11862?t<11011?[262,0]:t<11376?t<11124?[234,0]:[235,0]:t<11608?[263,0]:[264,0]:t<12178?t<11975?[291,0]:t<11981?[319,0]:[320,0]:t<12688?[292,1]:t<12942?[321,0]:[322,0]:t<14119?t<13781?t<13468?t<13230?[348,0]:[349,0]:t<13528?[377,0]:[378,0]:t<13865?[406,0]:[407,0]:t<15136?t<14627?[350,1]:t<14881?[379,0]:[380,0]:[408,1]:t<19714?t<17677?t<16660?[236,2]:t<17168?[238,1]:t<17422?[267,0]:[268,0]:t<18695?t<18187?[294,1]:[323,1]:t<19205?[296,1]:t<19459?[325,0]:[326,0]:t<21239?t<20731?t<20222?[352,1]:t<20476?[381,0]:[382,0]:[410,1]:t<22256?t<21747?[354,1]:t<22001?[383,0]:[384,0]:[412,1]:t<29889?t<26835?t<24796?[240,4]:t<25816?[298,2]:t<26326?[300,1]:t<26580?[329,0]:[330,0]:t<28360?t<27851?[244,2]:t<28105?[246,0]:[275,0]:t<29379?t<28870?[302,1]:t<29125?[331,0]:[332,0]:[304,8]:t<32940?t<31415?t<30907?t<30397?[356,1]:[385,1]:[414,1]:t<32432?t<31923?[358,1]:t<32177?[387,0]:[388,0]:[416,1]:t<34466?t<33957?t<33448?[360,1]:t<33703?[389,0]:[390,0]:t<34211?[362,0]:[391,0]:[418,7]:t<41634?t<41292?t<35400?t<35384?t<35328?[102,0]:[103,0]:[104,0]:t<39320?t<37283?t<36414?t<35904?t<35655?[131,0]:[132,0]:[160,1]:t<36773?t<36632?[133,0]:[134,0]:[162,1]:t<38301?t<37793?[189,1]:[218,1]:t<38811?[191,1]:t<39066?[220,0]:[221,0]:t<39799?t<39763?t<39361?t<39360?[135,0]:[136,0]:t<39606?[164,0]:[165,0]:[166,0]:t<40817?t<40308?t<40054?[193,0]:[194,0]:t<40563?[222,0]:[223,0]:t<41038?[195,0]:[224,0]:t<41357?[196,0]:t<41586?[225,0]:[226,0]:t<54097?t<48758?t<45703?t<43667?t<42650?[247,2]:t<43158?[249,1]:t<43413?[278,0]:[279,0]:t<44685?t<44177?[305,1]:[334,1]:t<45195?[307,1]:[336,1]:t<47228?t<46720?t<46211?[251,1]:t<46466?[280,0]:[281,0]:[253,8]:[309,3]:t<51808?t<50283?t<49775?t<49266?[363,1]:t<49520?[392,0]:[393,0]:[421,1]:t<51300?t<50791?[365,1]:t<51046?[394,0]:[395,0]:[423,1]:t<53335?t<52826?t<52316?[367,1]:[396,1]:t<53080?[369,0]:[398,0]:[425,7]:t<56889?t<55222?t<55070?t<54562?t<54351?[254,0]:[255,0]:[283,1]:t<55084?[256,0]:t<55221?[285,0]:[286,0]:t<56240?t<55732?[312,1]:[341,1]:t<56513?t<56475?[314,0]:[315,0]:t<56767?[343,0]:[344,0]:t<59874?t<58414?t<57906?t<57397?[370,1]:t<57651?[399,0]:[400,0]:[428,1]:t<59369?t<58870?t<58668?[372,0]:[373,0]:t<59125?[401,0]:[402,0]:t<59623?[430,0]:[431,0]:t<59894?t<59875?[374,0]:[403,0]:[432,0]:t<103724?t<88289?t<74059?t<67359?t<63295?t<61649?t<60633?t<60287?t<60033?[435,0]:[436,0]:t<60379?[464,0]:[465,0]:[437,2]:t<62279?t<61984?t<61730?[493,0]:[494,0]:t<62026?[522,0]:[523,0]:[495,2]:[439,6]:t<69995?t<68816?t<67800?t<67605?t<67367?[551,0]:[552,0]:[581,0]:[553,2]:t<68992?t<68943?[610,0]:[639,0]:t<69500?[611,1]:t<69741?[640,0]:[641,0]:[555,6]:t<81172?t<78123?[443,6]:t<79647?[447,3]:t<80663?[505,2]:t<80917?[507,0]:[536,0]:t<85238?t<83205?t<82189?t<81680?[559,1]:t<81934?[588,0]:[589,0]:[561,2]:t<84222?t<83713?[617,1]:t<83967?[646,0]:[647,0]:[619,2]:t<86763?t<86254?[563,2]:t<86508?[565,0]:[594,0]:t<87780?t<87271?[621,1]:t<87526?[650,0]:[651,0]:t<88034?[623,0]:[652,0]:t<93176?t<88976?t<88936?t<88292?[668,0]:t<88701?t<88447?[669,0]:[670,0]:t<88725?[698,0]:[699,0]:[728,0]:t<92754?t<91010?t<89993?t<89484?[671,1]:t<89738?[700,0]:[701,0]:t<90501?[673,1]:t<90755?[702,0]:[703,0]:t<91737?t<91490?t<91236?[729,0]:[730,0]:t<91532?[758,0]:[759,0]:t<92245?[731,1]:t<92499?[760,0]:[761,0]:t<92778?[788,0]:t<93149?t<92917?[789,0]:[790,0]:t<93150?[818,0]:[819,0]:t<100296?t<97244?t<95210?t<94193?t<93684?[675,1]:t<93938?[704,0]:[705,0]:t<94701?[677,1]:t<94955?[706,0]:[707,0]:t<96227?t<95718?[733,1]:t<95972?[762,0]:[763,0]:t<96735?[735,1]:t<96989?[764,0]:[765,0]:t<98770?t<98261?t<97752?[679,1]:t<98007?[708,0]:[709,0]:t<98515?[681,0]:[710,0]:t<99787?t<99278?[737,1]:t<99533?[766,0]:[767,0]:t<100041?[739,0]:[768,0]:t<102058?t<101070?t<100804?[791,1]:t<100901?[820,0]:[821,0]:t<102029?t<101578?[793,1]:t<101790?[822,0]:[823,0]:t<102037?[851,0]:[852,0]:t<103579?t<103073?t<102566?[795,1]:t<102819?[824,0]:[825,0]:t<103327?[797,0]:[826,0]:t<103669?t<103617?[853,0]:[854,0]:[855,0]:t<126103?t<117950?t<110836?[450,5]:t<114901?t<112869?t<111852?[566,2]:t<112360?[568,1]:t<112615?[597,0]:[598,0]:[624,4]:t<116425?[570,3]:t<117441?[628,2]:t<117695?[630,0]:[659,0]:t<122300?t<122012?t<119981?t<118966?[457,2]:t<119473?t<119220?[459,0]:[460,0]:[488,1]:t<120997?[515,2]:t<121505?[517,1]:t<121759?[546,0]:[547,0]:t<122156?t<122080?[461,0]:[490,0]:t<122232?[519,0]:[548,0]:t<126038?t<124294?t<123316?[573,2]:t<123816?t<123570?[575,0]:[576,0]:t<124070?[604,0]:[605,0]:t<125310?[631,2]:t<125725?t<125564?[633,0]:[634,0]:t<125977?[662,0]:[663,0]:t<126087?[577,0]:[606,0]:t<135773?t<133203?t<130171?t<128137?t<127120?t<126611?[682,1]:t<126865?[711,0]:[712,0]:t<127628?[684,1]:t<127883?[713,0]:[714,0]:t<129154?t<128645?[740,1]:t<128899?[769,0]:[770,0]:t<129662?[742,1]:t<129917?[771,0]:[772,0]:t<131696?t<131187?[686,2]:t<131441?[688,0]:[717,0]:t<132713?t<132204?[744,1]:t<132459?[773,0]:[774,0]:t<132967?[746,0]:[775,0]:t<135188?t<134281?t<134213?t<133711?[798,1]:t<133964?[827,0]:[828,0]:t<134258?[856,0]:[857,0]:t<135179?t<134789?[800,1]:t<135010?[829,0]:[830,0]:t<135187?[858,0]:[859,0]:t<135728?t<135630?t<135439?[802,0]:[803,0]:t<135716?[831,0]:[832,0]:[804,0]:t<137e3?t<136766?t<136281?[689,1]:t<136535?[718,0]:[719,0]:t<136950?t<136946?[691,0]:[692,0]:[720,0]:t<137323?t<137243?[747,0]:[748,0]:[776,0]}}(c.prototype=new n).draw=function(t,e){for(var o=0;o<this.od.length;++o)this.od[o].Hd(t,e)},this.createWGLInstance=function(t,e,o,r){var i=new s;return i._init(this,t,e,o,r||{}),i},this.createCanvas2DInstance=function(t,e,o){var r=new c;return r._init(this,t,e,o||{}),r},this.textures=["star_glow_white.png"],this.materials=[0],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=100,this.qd=function(t){t.Dd=.0333333,t.Ud=5,t.rand=function(){return Math.random()},t.pd(new a)},this.nb=function(e,o){var r=Math.floor(o),i=r+1;return t.X(e[r],e[i],o-r)}}}),cc._RF.pop()},{}],Responsive:[function(t,e,o){"use strict";cc._RF.push(e,"d3abaWwEQhAi5Yf4wF9VZxN","Responsive");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Controller/NodesContainer"),c=t("../Data/constants"),a=cc._decorator,h=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodesContainer=null,e.device="",e.isRotate=!1,e.HORIZONTAL_IPX="horizontal_IPX",e.HORIZONTAL_TABLET="horizontal_Tablet",e.VERTICAL_IPX="vertical_IPX",e.VERTICAL_MOBILE="vertical_Mobile",e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(c.Constants.isRotate=!0,this.setHorizontal()):(c.Constants.isRotate=!1,this.setVertical())},e.prototype.setHorizontal=function(){cc.view.getFrameSize().height/cc.view.getFrameSize().width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},e.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,cc.view.getFrameSize().height,cc.view.getFrameSize().width)},e.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET)},e.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},e.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX)},e.prototype.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,cc.view.getFrameSize().height,cc.view.getFrameSize().width)},e.prototype.update=function(){this.handleRotate()},n([u(s.default)],e.prototype,"NodesContainer",void 0),n([h],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Controller/NodesContainer":"NodesContainer","../Data/constants":"constants"}],TouchAreaController:[function(t,e,o){"use strict";cc._RF.push(e,"85711X2lIBGPIPjaJXFSYaE","TouchAreaController");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.TouchAreaController=void 0;var s=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=t("../Ultils/BottleItem"),h=t("./GameController"),u=t("./GamePlay"),l=t("./NodesContainer"),d=cc._decorator,f=d.ccclass,p=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodesContainer=null,e.AudioManager=null,e.GameController=null,e.GamePlay=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.registerEvent()},e.prototype.registerEvent=function(){var t=this;this.NodesContainer.Tubes.forEach(function(e){e.on(cc.Node.EventType.TOUCH_START,t.tubeTouchStart,t)})},e.prototype.tubeTouchStart=function(t){if(s.Constants.isToStore)this.GameController.installHandle();else if(s.Constants.isCanTouch){this.handleIronSourcePlaySound();var e=t.target;this.NodesContainer.Tutorial.active=!1,this.AudioManager.playSound(s.Constants.SoundTrack.TouchSound),s.Constants.TubeClicked?(this.isPickCorrectTube(s.Constants.TubeClicked,e)?this.GamePlay.handleMoveToAnotherTube(s.Constants.TubeClicked,e):cc.log("wrong"),this.scaleDownTube(s.Constants.TubeClicked),s.Constants.TubeClicked=null):(s.Constants.TubeClicked=e,this.scaleUpTube(e),cc.log("wrong"),cc.log("------------------------"))}},e.prototype.isPickCorrectTube=function(t,e){var o=t.getComponent(a.default),r=e.getComponent(a.default),i=this.GamePlay.getColorStatus(o.waterColors),n=this.GamePlay.getColorStatus(r.waterColors);return s.Constants.interactingColorNumber=i.indexOfFirstColor,cc.log(i.nonTransparentColorArr.length),!(t.name===e.name||(!i.isHasThreeSameOneDiffColor||0!==n.nonTransparentColorArr.length)&&(4===n.nonTransparentColorArr.length&&1===i.nonTransparentColorArr.length||4===n.nonTransparentColorArr.length&&0===i.nonTransparentColorArr.length||0===n.nonTransparentColorArr.length&&4===i.nonTransparentColorArr.length||3===n.nonTransparentColorArr.length&&2==i.nonTransparentColorArr.length||i.firstColorOfTube!==n.firstColorOfTube))},e.prototype.scaleUpTube=function(t){cc.tween(t).to(.5,{scale:.17},{easing:cc.easing.elasticOut}).start()},e.prototype.scaleDownTube=function(t){cc.tween(t).to(.5,{scale:.15},{easing:cc.easing.elasticOut}).start()},e.prototype.handleIronSourcePlaySound=function(){s.Constants.ironSource.isPlayBgSound||s.Constants.ironSource.SoundState&&(s.Constants.ironSource.isPlayBgSound=!0,this.AudioManager.playSound(s.Constants.SoundTrack.bgSound))},e.prototype.update=function(){this.GamePlay.handleMuteSoundIronSource()},n([p(l.default)],e.prototype,"NodesContainer",void 0),n([p(c.default)],e.prototype,"AudioManager",void 0),n([p(h.GameController)],e.prototype,"GameController",void 0),n([p(u.default)],e.prototype,"GamePlay",void 0),n([f],e)}(cc.Component);o.TouchAreaController=_,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","../Ultils/BottleItem":"BottleItem","./GameController":"GameController","./GamePlay":"GamePlay","./NodesContainer":"NodesContainer"}],TubeController:[function(t,e,o){"use strict";cc._RF.push(e,"07ccfFEkf1B0p36uFfTfjhr","TubeController");var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var i,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(n<3?i(s):n>3?i(e,o,s):i(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Data/constants"),c=t("../Ultils/BottleItem"),a=t("./GamePlay"),h=cc._decorator,u=h.ccclass,l=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GamePlay=null,e.BottleItems=[],e.StatusArr=[!1,!1,!1,!1],e.blueColor=cc.color(28,101,170,255),e.brownColor=cc.color(161,71,71,255),e.orangeColor=cc.color(241,116,58,255),e.transparent=cc.color(255,255,255,0),e}return i(e,t),e.prototype.start=function(){this.initTubeColors()},e.prototype.initTubeColors=function(){this.BottleItems[0].waterColors=[this.blueColor,this.blueColor,this.brownColor,this.blueColor],this.BottleItems[1].waterColors=[this.orangeColor,this.orangeColor,this.blueColor,this.brownColor],this.BottleItems[2].waterColors=[this.transparent,this.transparent,this.orangeColor,this.brownColor],this.BottleItems[3].waterColors=[this.transparent,this.transparent,this.brownColor,this.orangeColor]},e.prototype.hasMoreThanThreeTrueValues=function(t){return t.filter(function(t){return!0===t}).length>3},e.prototype.isDoneGame=function(){for(var t=function(t){var o=e.BottleItems[t],r=o.waterColors[0].toCSS();o.waterColors.every(function(t){return t.toCSS()===r})&&(e.StatusArr[t]=!0),e.hasMoreThanThreeTrueValues(e.StatusArr)&&e.GamePlay.showCTA(!0)},e=this,o=0;o<this.BottleItems.length;o++)t(o)},e.prototype.update=function(){!s.Constants.isShowCTA&&this.isDoneGame()},n([l(a.default)],e.prototype,"GamePlay",void 0),n([l([c.default])],e.prototype,"BottleItems",void 0),n([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Data/constants":"constants","../Ultils/BottleItem":"BottleItem","./GamePlay":"GamePlay"}],Ultils:[function(t,e,o){"use strict";cc._RF.push(e,"03f2ceupvBEfa9putmH215T","Ultils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Ultils=void 0,t("./constants");var r=cc._decorator,i=(r.ccclass,r.property,{}),n=function(){function t(){}return t.TouchArea=i,t}();o.Ultils=n,cc._RF.pop()},{"./constants":"constants"}],WaterManager:[function(t,e,o){"use strict";cc._RF.push(e,"445ff0MAbBAErU114KszySt","WaterManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.WaterManager=void 0;var r=t("../Data/constants"),i=cc._decorator,n=(i.ccclass,i.property,cc.color(255,255,255,0)),s=function(t,e,o){cc.log("bottle down"),cc.log("decreaseFloor: "+t),cc.log("indexOfFirstColor: "+e);var i,s,c,a,h=function(){var t=new cc.Vec3(o.initPos.x,o.initPos.y,0);cc.tween(o.node).to(.5,{position:t,angle:0}).call(function(){r.Constants.isCanTouch=!0,cc.log("Done Sort")}).start()};return 0===e&&2===t?(i=o.spriteColors[0].node,s=o.spriteColors[1].node,void cc.tween(i).to(.35,{height:0}).call(function(){i.color=n,i.height=0,o.waterColors[0]=n,cc.tween(s).to(.35,{height:0}).call(function(){s.color=n,s.height=0,o.waterColors[1]=n,o.applyWaterColor(),h()}).start()}).start()):1!==e||2!==t?2===e&&1===t?(c=o.spriteColors[2].node,void cc.tween(c).to(.7,{height:0}).call(function(){c.color=n,c.height=0,o.waterColors[2]=n,o.applyWaterColor(),h()}).start()):3===e&&1===t?(a=o.spriteColors[3].node,void cc.tween(a).to(.7,{height:0}).call(function(){a.color=n,a.height=0,o.waterColors[3]=n,o.applyWaterColor(),h()}).start()):void(0!==e||3!==t?1!==e||3!==t||function(){var t=o.spriteColors[3].node,e=o.spriteColors[2].node,r=o.spriteColors[1].node;cc.tween(r).to(.23333333333,{height:0}).call(function(){r.color=n,r.height=0,o.waterColors[1]=n,cc.tween(e).to(.23333333333,{height:0}).call(function(){e.color=n,e.height=0,o.waterColors[2]=n,cc.tween(t).to(.23333333333,{height:0}).call(function(){t.color=n,t.height=0,o.waterColors[3]=n,o.applyWaterColor(),h()}).start()}).start()}).start()}():function(){var t=o.spriteColors[2].node,e=o.spriteColors[1].node,r=o.spriteColors[0].node;cc.tween(r).to(.23333333333,{height:0}).call(function(){r.color=n,r.height=0,o.waterColors[0]=n,cc.tween(e).to(.23333333333,{height:0}).call(function(){e.color=n,e.height=0,o.waterColors[1]=n,cc.tween(t).to(.23333333333,{height:0}).call(function(){t.color=n,t.height=0,o.waterColors[2]=n,o.applyWaterColor(),h()}).start()}).start()}).start()}()):void function(){var t=o.spriteColors[1].node,e=o.spriteColors[2].node;cc.tween(t).to(.35,{height:0}).call(function(){t.color=n,t.height=0,o.waterColors[1]=n,cc.tween(e).to(.35,{height:0}).call(function(){e.color=n,e.height=0,o.waterColors[2]=n,o.applyWaterColor(),h()}).start()}).start()}()},c=function(t,e,o,i){cc.log("bottle up"),cc.log("increaseFloor: "+t),cc.log("currentFloor: "+o);var n,s,c=function(){i.AudioManager.playSound(r.Constants.SoundTrack.winSound),i.PS_Star.resetSystem()};if(2===t&&2===o)return n=i.spriteColors[0].node,s=i.spriteColors[1].node,n.color=e,n.opacity=255,n.height=0,s.color=e,s.opacity=255,s.height=0,void cc.tween(s).to(.35,{height:200}).call(function(){i.waterColors[1]=e,cc.tween(n).to(.35,{height:210}).call(function(){i.waterColors[0]=e,c()}).start()}).start();2!==t||3!==o?1!==t||2!==o?1!==t||1!==o?3!==t||3!==o?3!==t||null!==o||function(){var t=i.spriteColors[3].node,o=i.spriteColors[2].node,r=i.spriteColors[1].node;o.color=e,o.opacity=255,o.height=0,r.color=e,r.opacity=255,r.height=0,t.color=e,t.opacity=255,t.height=0,i.waterColors[3]=e,i.waterColors[2]=e,i.waterColors[1]=e,cc.tween(t).to(.23333,{height:350}).call(function(){cc.tween(o).to(.23333,{height:250}).call(function(){cc.tween(r).to(.23333,{height:200}).call(function(){c()}).start()}).start()}).start()}():function(){var t=i.spriteColors[2].node,o=i.spriteColors[1].node,r=i.spriteColors[0].node;t.color=e,t.opacity=255,t.height=0,o.color=e,o.opacity=255,o.height=0,r.color=e,r.opacity=255,r.height=0,i.waterColors[2]=e,i.waterColors[1]=e,i.waterColors[0]=e,cc.tween(t).to(.23333,{height:250}).call(function(){cc.tween(o).to(.23333,{height:200}).call(function(){cc.tween(r).to(.23333,{height:210}).call(function(){c()}).start()}).start()}).start()}():function(){var t=i.spriteColors[0].node;t.color=e,t.opacity=255,t.height=0,cc.tween(t).to(.7,{height:210}).call(function(){i.waterColors[0]=e,c()}).start()}():function(){var t=i.spriteColors[1].node;t.color=e,t.opacity=255,t.height=0,cc.tween(t).to(.7,{height:200}).call(function(){i.waterColors[1]=e,c()}).start()}():function(){var t=i.spriteColors[2].node,o=i.spriteColors[1].node;t.color=e,t.opacity=255,t.height=0,o.color=e,o.opacity=255,o.height=0,cc.tween(t).to(.35,{height:250}).call(function(){i.waterColors[2]=e,cc.tween(o).to(.35,{height:200}).call(function(){i.waterColors[1]=e,c()}).start()}).start()}()},a=function(){function t(){}return t.decreaseWater=s,t.increaseWater=c,t}();o.WaterManager=a,cc._RF.pop()},{"../Data/constants":"constants"}],constants:[function(t,e,o){"use strict";cc._RF.push(e,"eaccb/69FZDu6rC4YmR+uAW","constants"),Object.defineProperty(o,"__esModule",{value:!0}),o.Constants=void 0;var r,i=cc._decorator;i.ccclass,i.property,function(t){t.touchStart="touchstart",t.touchMove="touchmove",t.touchEnd="touchend",t.touchCancel="touchcancel"}(r||(r={}));var n,s={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},c={calculatedY:0,calculatedX:0,currentDevice:"",calculatedScale:0};(function(t){t.bgSound="bgSound",t.TouchSound="TouchSound",t.winSound="winSound",t.CorrectSound="CorrectSound",t.LoseSound="LoseSound",t.WaterDropSound="WaterDropSound",t.BoilSound="BoilSound"})(n||(n={}));var a=function(){function t(){}return t.isToStore=!1,t.isGameStart=!1,t.isStartCalculate=!1,t.isRotate=!1,t.isCanTouch=!0,t.isShowBtnSubmit=!1,t.isClickStartBtn=!1,t.isShowCTA=!1,t.TubeClicked=null,t.interactingColorNumber=null,t.isDoneStep1=!1,t.isDoneStep2=!1,t.isDoneStep3=!1,t.isDoneStep4=!1,t.stepCount=0,t.numberOfIncreaseFloor=0,t.colorToIncrease=null,t.step3ClickedFlow=null,t.Event=r,t.SoundTrack=n,t.ironSource=s,t.Responsive=c,t}();o.Constants=a,cc._RF.pop()},{}],interfaces:[function(t,e,o){"use strict";cc._RF.push(e,"be76348vS1OsJXCUoXcreX7","interfaces"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"neutrinoparticles.umd":[function(require,module,exports){"use strict";var global,factory;cc._RF.push(module,"ab558HOKv9Bq5K2NwBWDZL+","neutrinoparticles.umd"),global=void 0,factory=function(exports){function Context(){var ctx=this;function colorCompToHex_(t){return t<16?"0"+t.toString(16):t.toString(16)}this.equalv3_=function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]},this.equalq_=function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]&&t[3]==e[3]},this.a=function(t,e,o){t[0]=e[0]+o[0],t[1]=e[1]+o[1]},this.b=function(t,e){return[t[0]+e[0],t[1]+e[1]]},this.y=function(t,e,o){t[0]=e[0]+o,t[1]=e[1]+o},this.z=function(t,e){return[t[0]+e,t[1]+e]},this.c=function(t,e,o){t[0]=e[0]+o[0],t[1]=e[1]+o[1],t[2]=e[2]+o[2]},this.d=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},this.C=function(t,e,o){t[0]=e[0]+o,t[1]=e[1]+o,t[2]=e[2]+o},this.D=function(t,e){return[t[0]+e,t[1]+e,t[2]+e]},this.addq=function(t,e,o){t[0]=e[0]+o[0],t[1]=e[1]+o[1],t[2]=e[2]+o[2],t[3]=e[3]+o[3]},this.addq_=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3]]},this.e=function(t,e,o){t[0]=e[0]-o[0],t[1]=e[1]-o[1]},this.f=function(t,e){return[t[0]-e[0],t[1]-e[1]]},this.A=function(t,e,o){t[0]=e[0]-o,t[1]=e[1]-o},this.B=function(t,e){return[t[0]-e,t[1]-e]},this.nf=function(t,e,o){t[0]=e-o[0],t[1]=e-o[1]},this.of=function(t,e){return[t-e[0],t-e[1]]},this.g=function(t,e,o){t[0]=e[0]-o[0],t[1]=e[1]-o[1],t[2]=e[2]-o[2]},this.h=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},this.E=function(t,e,o){t[0]=e[0]-o,t[1]=e[1]-o,t[2]=e[2]-o},this.F=function(t,e){return[t[0]-e,t[1]-e,t[2]-e]},this.rf=function(t,e,o){t[0]=e-o[0],t[1]=e-o[1],t[2]=e-o[2]},this.sf=function(t,e){return[t-e[0],t-e[1],t-e[2]]},this.i=function(t,e,o){t[0]=e[0]*o[0],t[1]=e[1]*o[1]},this.j=function(t,e){return[t[0]*e[0],t[1]*e[1]]},this.k=function(t,e,o){t[0]=e[0]*o[0],t[1]=e[1]*o[1],t[2]=e[2]*o[2]},this.l=function(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2]]},this.m=function(t,e,o){t[0]=e[0]/o[0],t[1]=e[1]/o[1]},this.n=function(t,e){return[t[0]/e[0],t[1]/e[1]]},this.o=function(t,e,o){t[0]=e[0]/o[0],t[1]=e[1]/o[1],t[2]=e[2]/o[2]},this.p=function(t,e){return[t[0]/e[0],t[1]/e[1],t[2]/e[2]]},this.H=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},this.dotq_=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},this.q=function(t,e,o){t[0]=e[0]*o,t[1]=e[1]*o},this.r=function(t,e){return[t[0]*e,t[1]*e]},this.s=function(t,e,o){t[0]=e[0]/o,t[1]=e[1]/o},this.t=function(t,e){return[t[0]/e,t[1]/e]},this.u=function(t,e,o){t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o},this.v=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},this.w=function(t,e,o){t[0]=e[0]/o,t[1]=e[1]/o,t[2]=e[2]/o},this.x=function(t,e){return[t[0]/e,t[1]/e,t[2]/e]},this.y=function(t,e,o){t[0]=e[0]+o,t[1]=e[1]+o},this.z=function(t,e){return[t[0]+e,t[1]+e]},this.A=function(t,e,o){t[0]=e[0]-o,t[1]=e[1]-o},this.B=function(t,e){return[t[0]-e,t[1]-e]},this.G=function(t,e){return t[0]*e[0]+t[1]*e[1]},this.H=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},this.I=function(t,e,o){var r=e[0],i=e[1],n=e[2],s=o[0],c=o[1],a=o[2];t[0]=i*a-n*c,t[1]=n*s-r*a,t[2]=r*c-i*s},this.J=function(t,e){var o=t[0],r=t[1],i=t[2],n=e[0],s=e[1],c=e[2];return[r*c-i*s,i*n-o*c,o*s-r*n]},this.K=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},this.L=function(t){return t[0]*t[0]+t[1]*t[1]},this.M=function(t,e){ctx.q(t,e,1/ctx.K(e))},this.N=function(t){return ctx.r(t,1/ctx.K(t))},this.O=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},this.P=function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},this.Q=function(t,e){ctx.u(t,e,1/ctx.O(e))},this.R=function(t){return ctx.v(t,1/ctx.O(t))},this.S=function(t,e){t[0]=e[0],t[1]=e[1]},this.T=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]},this.U=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]},this.V=function(t,e,o){t[0]=e,t[1]=o},this.W=function(t,e,o,r){t[0]=e,t[1]=o,t[2]=r},this.X=function(t,e,o){return t+(e-t)*o},this.Y=function(t,e,o,r){t[0]=e[0]+(o[0]-e[0])*r,t[1]=e[1]+(o[1]-e[1])*r},this.Z=function(t,e,o){return[t[0]+(e[0]-t[0])*o,t[1]+(e[1]-t[1])*o]},this.ab=function(t,e,o,r){t[0]=e[0]+(o[0]-e[0])*r,t[1]=e[1]+(o[1]-e[1])*r,t[2]=e[2]+(o[2]-e[2])*r},this.bb=function(t,e,o){return[t[0]+(e[0]-t[0])*o,t[1]+(e[1]-t[1])*o,t[2]+(e[2]-t[2])*o]},this.slerpq=function(t,e,o,r){var i=ctx.dotq_(e,o),n=[];if(i<0?(ctx.negq(n,o),i=-i):ctx.U(n,o),1-i<Number.EPSILON)t[0]=ctx.X(e[0],o[0],r),t[1]=ctx.X(e[1],o[1],r),t[2]=ctx.X(e[2],o[2],r),t[3]=ctx.X(e[3],o[3],r);else{var s=ctx.acos_(i);ctx.mulqscalar(t,ctx.addq_(ctx.mulqscalar_(e,ctx.sin_((1-r)*s)),ctx.mulqscalar_(n,ctx.sin_(r*s))),1/ctx.sin_(s))}},this.slerpq_=function(t,e,o){var r=[];return slerpq(r,t,e,o),r},this.acos_=function(t){return Math.acos(t)},this.sin_=function(t){return Math.sin(t)},this.cos_=function(t){return Math.cos(t)},this.taus88=function(t){var e,o,r;t||(t=0),this.seed=function(t){e=(t&=4294967295)<2?t+2:t,o=t<8?t+8:t,r=t<16?t+16:t},this.rand=function(){var t=(4294967295&(e<<13^e))>>>19;return(((e=((4294967294&e)<<12^t)>>>0)^(o=((4294967288&o)<<4^(t=(4294967295&(o<<2^o))>>>25))>>>0)^(r=((4294967280&r)<<17^(t=(4294967295&(r<<3^r))>>>11))>>>0))>>>0)/4294967296},this.seed(t)},this.cb=function(t,e){this.randv2gen(t,e,function(){return Math.random()})},this.randv2gen=function(t,e,o){var r=o()*Math.PI*2;t[0]=e*ctx.cos_(r),t[1]=e*ctx.sin_(r)},this.db=function(t,e){this.randv3gen(t,e,function(){return Math.random()})},this.randv3gen=function(t,e,o){var r=o()*Math.PI*2,i=2*o()-1,n=e*Math.sqrt(1-i*i);t[0]=n*ctx.cos_(r),t[1]=n*ctx.sin_(r),t[2]=e*i},this.yb=function(t,e,o,r,i){var n=e+i()*r[0],s=o+i()*r[1];ctx.V(t,n,s)},this.eb=function(t,e){ctx.V(-e[0],-e[1])},this.fb=function(t){return[-t[0],-t[1]]},this.gb=function(t,e){ctx.W(-e[0],-e[1],-e[2])},this.hb=function(t){return[-t[0],-t[1],-t[2]]},this.negq=function(t,e){t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3]},this.negq_=function(t){return[-t[0],-t[1],-t[2],-t[3]]},this.ib=function(t){return t/180*Math.PI},this.jb=function(t){return t/Math.PI*180},this.Ae=function(t){return t<0?-1:1},this.ob=function(t,e,o,r){var i=2*r[0]*r[0],n=2*r[1]*r[1],s=2*r[2]*r[2],c=2*r[0]*r[1],a=2*r[0]*r[2],h=2*r[1]*r[2],u=2*r[3]*r[2],l=2*r[3]*r[1],d=2*r[3]*r[0];t[0]=1-n-s,t[1]=c+u,t[2]=a-l,e[0]=c-u,e[1]=1-i-s,e[2]=h+d,o[0]=a+l,o[1]=h-d,o[2]=1-i-n},this.pb=function(t,e,o,r){var i=e[0]+o[1]+r[2];if(i>0){var n=2*Math.sqrt(i+1);t[3]=.25*n,t[0]=(o[2]-r[1])/n,t[1]=(r[0]-e[2])/n,t[2]=(e[1]-o[0])/n}else e[0]>o[1]&e[0]>r[2]?(n=2*Math.sqrt(1+e[0]-o[1]-r[2]),t[3]=(o[2]-r[1])/n,t[0]=.25*n,t[1]=(e[1]+o[0])/n,t[2]=(r[0]+e[2])/n):o[1]>r[2]?(n=2*Math.sqrt(1+o[1]-e[0]-r[2]),t[3]=(r[0]-e[2])/n,t[0]=(e[1]+o[0])/n,t[1]=.25*n,t[2]=(o[2]+r[1])/n):(n=2*Math.sqrt(1+r[2]-e[0]-o[1]),t[3]=(e[1]-o[0])/n,t[0]=(r[0]+e[2])/n,t[1]=(o[2]+r[1])/n,t[2]=.25*n)},this.axes2quat=this.pb,this.qb=function(t,e,o){var r=.5*ctx.ib(o),i=Math.sin(r);t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=Math.cos(r)},this.axisangle2quat=this.qb,this.axisangle2quat_=function(t,e){var o=.5*ctx.ib(e),r=Math.sin(o);return[t[0]*r,t[1]*r,t[2]*r,ctx.cos_(o)]},this.axisangle2quat_=this.axisangle2quat_,this.rb=function(t,e,o){var r=e[0],i=e[1],n=e[2],s=o[0],c=o[1],a=o[2],h=o[3],u=h*r+c*n-a*i,l=h*i+a*r-s*n,d=h*n+s*i-c*r,f=-s*r-c*i-a*n;t[0]=u*h+f*-s+l*-a-d*-c,t[1]=l*h+f*-c+d*-s-u*-a,t[2]=d*h+f*-a+u*-c-l*-s},this.sb=function(t,e,o){var r=e[0],i=e[1],n=e[2],s=e[3],c=o[0],a=o[1],h=o[2],u=o[3];t[0]=r*u+s*c+i*h-n*a,t[1]=i*u+s*a+n*c-r*h,t[2]=n*u+s*h+r*a-i*c,t[3]=s*u-r*c-i*a-n*h},this.mulqscalar=function(t,e,o){t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o},this.mulqscalar_=function(t,e){return[t[0]*e,t[1]*e,t[2]*e,t[3]*e]},this.tb=function(t,e,o,r,i){var n=ctx.ib(o),s=Math.cos(n)*r,c=Math.sin(n)*r;t[0]=e[0]+s*i[0]-c*i[1],t[1]=e[1]+c*i[0]+s*i[1]},this.ub=function(t,e,o,r,i){var n=ctx.ib(o),s=Math.cos(n)/r,c=Math.sin(n)/r;t[0]=s*i[0]+c*i[1]-e[0]*s-e[1]*c,t[1]=s*i[1]-c*i[0]+e[0]*c-e[1]*s},this.vb=function(t){return t<0?Math.floor(ctx.yd-1+t%ctx.yd):Math.floor(t%ctx.yd)},this.ff=function(t){return"#"+colorCompToHex_(Math.floor(255*t[0]))+colorCompToHex_(Math.floor(255*t[1]))+colorCompToHex_(Math.floor(255*t[2]))},this.tf=function(t,e,o,r,i,n){var s=ctx.f(r,t),c=ctx.f(i,t),a=ctx.r(e,o);if(s[0]<-a[0]&&c[0]<-a[0]||s[0]>a[0]&&c[0]>a[0]||s[1]<-a[1]&&c[1]<-a[1]||s[1]>a[1]&&c[1]>a[1])return!1;if(s[0]<=a[0]&&s[0]>=-a[0]&&s[1]<=a[1]&&s[1]>=-a[1])return!0;if(n<1e-6)return!1;if(c[0]<=a[0]&&c[0]>=-a[0]&&c[1]<=a[1]&&c[1]>=-a[1])return!0;var h=ctx.f(i,r);ctx.s(h,h,n);var u=[-h[1],h[0]],l=Math.abs(ctx.G(u,c));if(Math.abs(ctx.G(u,a))>=l){var d=[-e[1],e[0]];if(ctx.G(d,s)*ctx.G(d,c)<=0)return!0}else if(Math.abs(ctx.G(u,[a[0],-a[1]]))>=l){var f=[e[1],e[0]];if(ctx.G(f,s)*ctx.G(f,c)<=0)return!0}return!1},this.uf=function(t,e,o,r,i,n,s){var c=ctx.f(r,t),a=ctx.f(i,t),h=ctx.r(e,o);if(n<1e-6)return!1;if(c[0]<-h[0]&&a[0]<-h[0]||c[0]>h[0]&&a[0]>h[0]||c[1]<-h[1]&&a[1]<-h[1]||c[1]>h[1]&&a[1]>h[1])return!1;var u=ctx.f(i,r);ctx.s(u,u,n);var l=[-u[1],u[0]],d=Math.abs(ctx.G(l,a));if(s){if(Math.abs(ctx.G(l,h))>=d){var f=[-e[1],e[0]];if(ctx.G(f,c)*ctx.G(f,a)<=0)return!0}}else if(Math.abs(ctx.G(l,[h[0],-h[1]]))>=d){var p=[e[1],e[0]];if(ctx.G(p,c)*ctx.G(p,a)<=0)return!0}return!1},this.wb=function(t,e,o,r){var i=3*(o*ctx.yd+e),n=ctx.zd[r];t[0]=n.getUint8(i),t[1]=n.getUint8(i+1),t[2]=n.getUint8(i+2)},this.xb=function(t,e){if(null!=ctx.zd){var o=e[0]*ctx.yd,r=e[1]*ctx.yd,i=e[2]*ctx.yd,n=Math.floor(o),s=Math.floor(r),c=Math.floor(i),a=o-n,h=r-s,u=i-c,l=ctx.vb(n),d=ctx.vb(n+1),f=ctx.vb(s),p=ctx.vb(s+1),_=ctx.vb(c),b=ctx.vb(c+1),y=[],v=[],g=[],m=[],C=[],x=[],w=[],A=[];ctx.wb(y,l,f,_),ctx.wb(v,l,f,b),ctx.wb(g,l,p,_),ctx.wb(m,l,p,b),ctx.wb(C,d,f,_),ctx.wb(x,d,f,b),ctx.wb(w,d,p,_),ctx.wb(A,d,p,b);var S=[],P=[],B=[],T=[];ctx.ab(S,y,v,u),ctx.ab(P,g,m,u),ctx.ab(B,C,x,u),ctx.ab(T,w,A,u);var M=[],R=[];ctx.ab(M,S,P,h),ctx.ab(R,B,T,h),ctx.ab(t,M,R,a)}else ctx.W(t,128,128,128)},this.ImageDesc=function(t,e,o,r,i){this.image=t,this.x=e,this.y=o,this.width=r,this.height=i},this.RenderCall=function(t,e,o){this.startIndex=t,this.numIndices=e,this.renderStyleIndex=o},this.SubRect=function(t,e,o,r){this.x=t,this.y=e,this.width=o,this.height=r},this.Camera2D=function(){},this.Camera2D.prototype.tb=function(){return!0},this.Camera3D=function(t,e){this.Qd=ctx.r(t,.5),this.z=-.5*t[0]/Math.tan(ctx.ib(.5*e))},this.Camera3D.prototype.transform=function(t,e){if(t[2]<this.z)return!1;var o=-this.z/(t[2]-this.z);return ctx.a(t,ctx.r(ctx.f(t,this.Qd),o),this.Qd),ctx.q(e,e,o),!0},this.zd=null,this.yd=0,this.initializeNoise=function(t,e,o){if(t||alert("path should be defined"),null==this.zd){null!=t&&null!=t||(t=this.defaultPath);var r=new XMLHttpRequest;r.open("GET",t+"neutrinoparticles.noise.bin",!0),r.responseType="arraybuffer",r.ctx=this,r.onreadystatechange=function(){if(4==r.readyState)if(r.status>=200&&r.status<300||304==r.status){var t=r.response,i=r.ctx,n=new DataView(t,0,4).getUint32(0,!0);i.zd=[],i.yd=n;for(var s=0;s<n;++s)i.zd[s]=new DataView(t,4+3*n*n*s);e&&e()}else o&&o()},r.send()}else e()},this.NoiseGenerator=function(){for(var t,e,o,r,i,n,s,c=function(t,e,o,r,i){return.5*(2*e+(-t+o)*i+(2*t-5*e+4*o-r)*i*i+(3*e-t-3*o+r)*i*i*i)},a=function(t,e,o,r,i){return[c(t[0],e[0],o[0],r[0],i),c(t[1],e[1],o[1],r[1],i),c(t[2],e[2],o[2],r[2],i)]},h=function(t,e,o){return t<e?e:t>o?o:t},u=[],l=[],d=new ctx.taus88(120),f=function(){return d.rand()},p=.7,_=64,b=0,y=0,v=_>>>1;v>0;v>>>=1){var g=Math.floor(64/v);b+=g*g}var m=0;this.progress=0;var C=function(){for(var t=0;t<64;++t)for(var e=u[t]=[],o=0;o<64;++o)for(var r=e[o]=[],i=0;i<64;++i)r[i]=[0,0,0];m=1,this.progress=.01},x=function(){t=_>>>1,e=Math.floor(64/t),o=e*e,r=Math.max(e-1,1),i=e*e*e,n=0,s=0;for(var c=0;c<i;++c)l[c]=[],l[c][2]=2*f()-1,l[c][1]=2*f()-1,l[c][0]=2*f()-1;m=2},w=function(){for(var i=0;i<e;++i)for(var c=n-1>>>0&r,d=n>>>0&r,f=n+1>>>0&r,v=n+2>>>0&r,g=s-1>>>0&r,C=s>>>0&r,x=s+1>>>0&r,w=s+2>>>0&r,A=i-1>>>0&r,S=i>>>0&r,P=i+1>>>0&r,B=i+2>>>0&r,T=[[[l[c*o+g*e+A],l[c*o+g*e+S],l[c*o+g*e+P],l[c*o+g*e+B]],[l[c*o+C*e+A],l[c*o+C*e+S],l[c*o+C*e+P],l[c*o+C*e+B]],[l[c*o+x*e+A],l[c*o+x*e+S],l[c*o+x*e+P],l[c*o+x*e+B]],[l[c*o+w*e+A],l[c*o+w*e+S],l[c*o+w*e+P],l[c*o+w*e+B]]],[[l[d*o+g*e+A],l[d*o+g*e+S],l[d*o+g*e+P],l[d*o+g*e+B]],[l[d*o+C*e+A],l[d*o+C*e+S],l[d*o+C*e+P],l[d*o+C*e+B]],[l[d*o+x*e+A],l[d*o+x*e+S],l[d*o+x*e+P],l[d*o+x*e+B]],[l[d*o+w*e+A],l[d*o+w*e+S],l[d*o+w*e+P],l[d*o+w*e+B]]],[[l[f*o+g*e+A],l[f*o+g*e+S],l[f*o+g*e+P],l[f*o+g*e+B]],[l[f*o+C*e+A],l[f*o+C*e+S],l[f*o+C*e+P],l[f*o+C*e+B]],[l[f*o+x*e+A],l[f*o+x*e+S],l[f*o+x*e+P],l[f*o+x*e+B]],[l[f*o+w*e+A],l[f*o+w*e+S],l[f*o+w*e+P],l[f*o+w*e+B]]],[[l[v*o+g*e+A],l[v*o+g*e+S],l[v*o+g*e+P],l[v*o+g*e+B]],[l[v*o+C*e+A],l[v*o+C*e+S],l[v*o+C*e+P],l[v*o+C*e+B]],[l[v*o+x*e+A],l[v*o+x*e+S],l[v*o+x*e+P],l[v*o+x*e+B]],[l[v*o+w*e+A],l[v*o+w*e+S],l[v*o+w*e+P],l[v*o+w*e+B]]]],M=0;M<t;++M)for(var R=M/t,I=n*t+M,O=[[a(T[0][0][0],T[1][0][0],T[2][0][0],T[3][0][0],R),a(T[0][0][1],T[1][0][1],T[2][0][1],T[3][0][1],R),a(T[0][0][2],T[1][0][2],T[2][0][2],T[3][0][2],R),a(T[0][0][3],T[1][0][3],T[2][0][3],T[3][0][3],R)],[a(T[0][1][0],T[1][1][0],T[2][1][0],T[3][1][0],R),a(T[0][1][1],T[1][1][1],T[2][1][1],T[3][1][1],R),a(T[0][1][2],T[1][1][2],T[2][1][2],T[3][1][2],R),a(T[0][1][3],T[1][1][3],T[2][1][3],T[3][1][3],R)],[a(T[0][2][0],T[1][2][0],T[2][2][0],T[3][2][0],R),a(T[0][2][1],T[1][2][1],T[2][2][1],T[3][2][1],R),a(T[0][2][2],T[1][2][2],T[2][2][2],T[3][2][2],R),a(T[0][2][3],T[1][2][3],T[2][2][3],T[3][2][3],R)],[a(T[0][2][0],T[1][3][0],T[2][3][0],T[3][3][0],R),a(T[0][2][1],T[1][3][1],T[2][3][1],T[3][3][1],R),a(T[0][2][2],T[1][3][2],T[2][3][2],T[3][3][2],R),a(T[0][2][3],T[1][3][3],T[2][3][3],T[3][3][3],R)]],N=0;N<t;++N)for(var F=N/t,L=s*t+N,E=a(O[0][0],O[1][0],O[2][0],O[3][0],F),G=a(O[0][1],O[1][1],O[2][1],O[3][1],F),j=a(O[0][2],O[1][2],O[2][2],O[3][2],F),U=a(O[0][3],O[1][3],O[2][3],O[3][3],F),V=0;V<t;++V){var D=i*t+V,W=a(E,G,j,U,V/t),q=ctx.d(ctx.v(W,p),u[I][L][D]),k=[h(q[0],-1,1),h(q[1],-1,1),h(q[2],-1,1)];u[I][L][D]=k}y++,this.progress=.01+y/b*.89,++s>=e&&(s=0,++n>=e&&(n=0,_=t,p=Math.pow(p,1.2),_<=1?(m=3,this.progress=.9):m=1))},A=function(){for(var t=[-1,-1,-1],e=[.5,.7,1],o=0;o<64;++o)for(var r=u[o],i=0;i<64;++i)for(var n=r[i],s=0;s<64;++s){var c=n[s];c[0]=ctx.X(t[0],e[0],.5*c[0]+.5),c[1]=ctx.X(t[1],e[1],.5*c[1]+.5),c[2]=ctx.X(t[2],e[2],.5*c[2]+.5)}m=4,this.progress=.95},S=function(){ctx.yd=64,ctx.zd=[];for(var t=0;t<64;++t){for(var e=u[t],o=new ArrayBuffer(12288),r=new DataView(o),i=0;i<64;++i)for(var n=e[i],s=0;s<64;++s){var c=n[s],a=3*(64*i+s);r.setUint8(a+0,Math.floor(h(256*(.5*c[0]+.5)-.5,0,255))),r.setUint8(a+1,Math.floor(h(256*(.5*c[1]+.5)-.5,0,255))),r.setUint8(a+2,Math.floor(h(256*(.5*c[2]+.5)-.5,0,255)))}ctx.zd[t]=r}m=5,this.progress=1};this.step=function(){switch(m){case 0:C.call(this);break;case 1:x.call(this);break;case 2:w.call(this);break;case 3:A.call(this);break;case 4:S.call(this)}return 5==m}},this.cf=document.createElement("canvas"),this.cf.width=0,this.cf.height=0,this.bf=this.cf.getContext("2d"),this.af=function(t,e){(this.cf.width<t||this.cf.height<e)&&(this.cf.width=t,this.cf.height=e,this.bf=this.cf.getContext("2d"))},this.effects=[],this.loadEffect=function(effectFilePath,onSuccessFunc,onFailFunc){if(null!=this.effects[effectFilePath]){var effectModel=this.effects[effectFilePath];return effectModel instanceof Array?void(effectModel[effectModel.length]=[onSuccessFunc,onFailFunc]):void onSuccessFunc(effectModel)}this.effects[effectFilePath]=[[onSuccessFunc,onFailFunc]];var request=new XMLHttpRequest;request.open("GET",effectFilePath,!0),request.responseType="text",request.ctx=this,request.onreadystatechange=function(){if(4==request.readyState){var callbacks=this.ctx.effects[effectFilePath];if(request.status>=200&&request.status<300||304==request.status){var evalText="(function(ctx) {\n"+request.responseText+"\nreturn new NeutrinoEffect(ctx);\n})(this.ctx);",effectModel=eval(evalText);this.ctx.effects[effectFilePath]=effectModel,callbacks.forEach(function(t){t[0](effectModel)})}else callbacks.forEach(function(t){t[1]()})}},request.send()},this.removeEffect=function(t){delete this.effects[t]}}exports.Context=Context,Object.defineProperty(exports,"__esModule",{value:!0})},"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global=global||self).Neutrino={}),cc._RF.pop()},{}],textures:[function(t,e,o){"use strict";cc._RF.push(e,"07ebcO50hxDL5LXglYbBY64","textures"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=[{uuid:"e9715f0b-fc8f-410e-b97d-a46d28395e81",path:"Beam"},{uuid:"3cfb8b54-a8d0-45a3-be58-2d5467b7a774",path:"dust01"},{uuid:"b9a3b736-d973-4d49-8c90-ed30d8dea187",path:"smoke01_white_blurred"},{uuid:"ccc4dbc5-3af8-43a1-87fd-e4fbb09cfe5f",path:"star_glow_white"},{uuid:"a0b2248f-8fdf-4295-889a-38f2012cf28d",path:"textures"}],cc._RF.pop()},{}]},{},["GameController","GamePlay","Level2Controller","NodesContainer","TouchAreaController","TubeController","Ultils","constants","interfaces","AudioManager","Responsive","BottleItem","WaterManager","NeutrinoEffect_Cigarette","NeutrinoEffect_Cresent_stars","NeutrinoEffect_Pink_stars","Cigarette","Cresent_stars","Pink_stars","textures","NeutrinoAssembler","NeutrinoAssemblerJSB","NeutrinoAssemblerWebGL","NeutrinoComponent","NeutrinoContext","NeutrinoSettings","neutrinoparticles.umd"]);