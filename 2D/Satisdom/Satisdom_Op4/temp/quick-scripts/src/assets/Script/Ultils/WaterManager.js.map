{"version":3,"sources":["assets\\Script\\Ultils\\WaterManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import TubeController from \"../Controller/TubeController\";\r\nimport { Constants } from \"../Data/constants\";\r\nimport BottleItem from \"./BottleItem\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nconst transparentColor: cc.Color = cc.color(255, 255, 255, 0);\r\n\r\nconst decreaseWater = (floorToDecrease: number, indexOfFirstColor: number, tube: BottleItem): void => {\r\n\r\n    cc.log(\"bottle down\");\r\n    cc.log(\"decreaseFloor: \" + floorToDecrease);\r\n    cc.log(\"indexOfFirstColor: \" + indexOfFirstColor);\r\n    \r\n\r\n    const comebackInitPos = () => {\r\n        let backPos = new cc.Vec3(tube.initPos.x, tube.initPos.y, 0);\r\n\r\n        cc.tween(tube.node)\r\n        .to(0.5, {position: backPos, angle: 0})\r\n        .call(() => {\r\n            Constants.isCanTouch = true;\r\n\r\n            cc.log(\"Done Sort\");\r\n        })\r\n        .start();\r\n    }\r\n\r\n    const decreaseTwoFloor = () => {\r\n        let color1 = tube.spriteColors[0].node;\r\n        let color2 = tube.spriteColors[1].node;\r\n\r\n        cc.tween(color1)\r\n        .to(0.35, {height: 0})\r\n        .call(() => {\r\n            color1.color = transparentColor;\r\n            color1.height = 0;\r\n            tube.waterColors[0] = transparentColor;\r\n\r\n            cc.tween(color2)\r\n            .to(0.35, {height: 0})\r\n            .call(() => {\r\n                color2.color = transparentColor;\r\n                color2.height = 0;\r\n                tube.waterColors[1] = transparentColor;\r\n\r\n                tube.applyWaterColor();\r\n                comebackInitPos();\r\n            })\r\n            .start();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const decreaseTwoFloorWithException = () => {\r\n        let color2 = tube.spriteColors[1].node;\r\n        let color3 = tube.spriteColors[2].node;\r\n        \r\n        cc.tween(color2)\r\n        .to(0.35, {height: 0})\r\n        .call(() => {\r\n            color2.color = transparentColor;\r\n            color2.height = 0;\r\n            tube.waterColors[1] = transparentColor;\r\n\r\n            cc.tween(color3)\r\n            .to(0.35, {height: 0})\r\n            .call(() => {\r\n                color3.color = transparentColor;\r\n                color3.height = 0;\r\n                tube.waterColors[2] = transparentColor;\r\n\r\n                tube.applyWaterColor();\r\n                comebackInitPos();\r\n            })\r\n            .start();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const decreaseOneFloor = () => {\r\n        let color3 = tube.spriteColors[2].node;\r\n\r\n        cc.tween(color3)\r\n        .to(0.7, {height: 0})\r\n        .call(() => {\r\n            color3.color = transparentColor;\r\n            color3.height = 0;\r\n            tube.waterColors[2] = transparentColor;\r\n\r\n            tube.applyWaterColor();\r\n            comebackInitPos();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const decreaseOneFloorWithException = () => {\r\n        let color4 = tube.spriteColors[3].node;\r\n\r\n        cc.tween(color4)\r\n        .to(0.7, {height: 0})\r\n        .call(() => {\r\n            color4.color = transparentColor;\r\n            color4.height = 0;\r\n            tube.waterColors[3] = transparentColor;\r\n\r\n            tube.applyWaterColor();\r\n            comebackInitPos();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const decreaseThreeFloor = () => {\r\n        let color3 = tube.spriteColors[2].node;\r\n        let color2 = tube.spriteColors[1].node;\r\n        let color1 = tube.spriteColors[0].node;\r\n\r\n        cc.tween(color1)\r\n        .to(0.23333333333, {height: 0})\r\n        .call(() => {\r\n            color1.color = transparentColor;\r\n            color1.height = 0;\r\n            tube.waterColors[0] = transparentColor;\r\n\r\n            cc.tween(color2)\r\n            .to(0.23333333333, {height: 0})\r\n            .call(() => {\r\n                color2.color = transparentColor;\r\n                color2.height = 0;\r\n                tube.waterColors[1] = transparentColor;\r\n\r\n                cc.tween(color3)\r\n                .to(0.23333333333, {height: 0})\r\n                .call(() => {\r\n                    color3.color = transparentColor;\r\n                    color3.height = 0;\r\n                    tube.waterColors[2] = transparentColor;\r\n\r\n                    tube.applyWaterColor();\r\n                    comebackInitPos();\r\n                })\r\n                .start();\r\n\r\n            })\r\n            .start();\r\n\r\n           \r\n        })\r\n        .start();\r\n    };\r\n\r\n    const decreaseThreeFloorWithException = () => {\r\n        let color4 = tube.spriteColors[3].node;\r\n        let color3 = tube.spriteColors[2].node;\r\n        let color2 = tube.spriteColors[1].node;\r\n\r\n        cc.tween(color2)\r\n        .to(0.23333333333, {height: 0})\r\n        .call(() => {\r\n            color2.color = transparentColor;\r\n            color2.height = 0;\r\n            tube.waterColors[1] = transparentColor;\r\n\r\n            cc.tween(color3)\r\n            .to(0.23333333333, {height: 0})\r\n            .call(() => {\r\n                color3.color = transparentColor;\r\n                color3.height = 0;\r\n                tube.waterColors[2] = transparentColor;\r\n\r\n                cc.tween(color4)\r\n                .to(0.23333333333, {height: 0})\r\n                .call(() => {\r\n                    color4.color = transparentColor;\r\n                    color4.height = 0;\r\n                    tube.waterColors[3] = transparentColor;\r\n\r\n                    tube.applyWaterColor();\r\n                    comebackInitPos();\r\n                })\r\n                .start();\r\n\r\n            })\r\n            .start();\r\n\r\n           \r\n        })\r\n        .start();\r\n    };\r\n\r\n    if(indexOfFirstColor === 0 && floorToDecrease === 2) {decreaseTwoFloor(); return}\r\n    if(indexOfFirstColor === 1 && floorToDecrease === 2) {decreaseTwoFloorWithException(); return}\r\n    if(indexOfFirstColor === 2 && floorToDecrease === 1) {decreaseOneFloor(); return}\r\n    if(indexOfFirstColor === 3 && floorToDecrease === 1) {decreaseOneFloorWithException(); return}\r\n    if(indexOfFirstColor === 0 && floorToDecrease === 3) {decreaseThreeFloor(); return}\r\n    if(indexOfFirstColor === 1 && floorToDecrease === 3) {decreaseThreeFloorWithException(); return}\r\n};\r\n\r\n\r\nconst increaseWater = (floorToIncrease: number, colorToIncrease: cc.Color, currentFloor: number, tube: BottleItem): void => {\r\n    cc.log(\"bottle up\");\r\n    cc.log(\"increaseFloor: \" + floorToIncrease);\r\n    cc.log(\"currentFloor: \" + currentFloor);\r\n\r\n    const activeParticle = () => {\r\n        tube.AudioManager.playSound(Constants.SoundTrack.winSound);\r\n        tube.PS_Star.resetSystem();\r\n    }\r\n\r\n    const increaseTwoFloor = () => {\r\n        let color1 = tube.spriteColors[0].node;\r\n        let color2 = tube.spriteColors[1].node;\r\n\r\n        color1.color = colorToIncrease;\r\n        color1.opacity = 255;\r\n        color1.height = 0;\r\n        color2.color = colorToIncrease;\r\n        color2.opacity = 255;\r\n        color2.height = 0;\r\n\r\n        cc.tween(color2)\r\n        .to(0.35, {height: 200})\r\n        .call(() => {\r\n            tube.waterColors[1] = colorToIncrease;\r\n\r\n            cc.tween(color1)\r\n            .to(0.35, {height: 210})\r\n            .call(() => {\r\n                tube.waterColors[0] = colorToIncrease;\r\n                activeParticle();\r\n            })\r\n            .start();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const increaseTwoFloorWithException = () => {\r\n        let color3 = tube.spriteColors[2].node;\r\n        let color2 = tube.spriteColors[1].node;\r\n\r\n        color3.color = colorToIncrease;\r\n        color3.opacity = 255;\r\n        color3.height = 0;\r\n        color2.color = colorToIncrease;\r\n        color2.opacity = 255;\r\n        color2.height = 0;\r\n\r\n        cc.tween(color3)\r\n        .to(0.35, {height: 250})\r\n        .call(() => {\r\n            tube.waterColors[2] = colorToIncrease;\r\n\r\n            cc.tween(color2)\r\n            .to(0.35, {height: 200})\r\n            .call(() => {\r\n                tube.waterColors[1] = colorToIncrease;\r\n                activeParticle();\r\n            })\r\n            .start();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const increaseOneFloor = () => {\r\n        let color2 = tube.spriteColors[1].node;\r\n\r\n        color2.color = colorToIncrease;\r\n        color2.opacity = 255;\r\n        color2.height = 0;\r\n\r\n        cc.tween(color2)\r\n        .to(0.7, {height: 200})\r\n        .call(() => {\r\n            tube.waterColors[1] = colorToIncrease;\r\n            activeParticle();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const increaseOneFloorWithException = () => {\r\n        let color1 = tube.spriteColors[0].node;\r\n\r\n        color1.color = colorToIncrease;\r\n        color1.opacity = 255;\r\n        color1.height = 0;\r\n\r\n        cc.tween(color1)\r\n        .to(0.7, {height: 210})\r\n        .call(() => {\r\n            tube.waterColors[0] = colorToIncrease;\r\n            activeParticle();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const increaseThreeFloor = () => {\r\n        let color3 = tube.spriteColors[2].node;\r\n        let color2 = tube.spriteColors[1].node;\r\n        let color1 = tube.spriteColors[0].node;\r\n\r\n        color3.color = colorToIncrease;\r\n        color3.opacity = 255;\r\n        color3.height = 0;\r\n        color2.color = colorToIncrease;\r\n        color2.opacity = 255;\r\n        color2.height = 0;\r\n        color1.color = colorToIncrease;\r\n        color1.opacity = 255;\r\n        color1.height = 0;\r\n        tube.waterColors[2] = colorToIncrease;\r\n        tube.waterColors[1] = colorToIncrease;\r\n        tube.waterColors[0] = colorToIncrease;\r\n\r\n        cc.tween(color3)\r\n        .to(0.23333, {height: 250})\r\n        .call(() => {\r\n\r\n            cc.tween(color2)\r\n            .to(0.23333, {height: 200})\r\n            .call(() => {\r\n\r\n                cc.tween(color1)\r\n                .to(0.23333, {height: 210})\r\n                .call(() => {\r\n                    activeParticle();\r\n                })\r\n                .start();\r\n            })\r\n\r\n            .start();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    const increaseThreeFloorWithException = () => {\r\n        let color4 = tube.spriteColors[3].node;\r\n        let color3 = tube.spriteColors[2].node;\r\n        let color2 = tube.spriteColors[1].node;\r\n\r\n        color3.color = colorToIncrease;\r\n        color3.opacity = 255;\r\n        color3.height = 0;\r\n        color2.color = colorToIncrease;\r\n        color2.opacity = 255;\r\n        color2.height = 0;\r\n        color4.color = colorToIncrease;\r\n        color4.opacity = 255;\r\n        color4.height = 0;\r\n        tube.waterColors[3] = colorToIncrease;\r\n        tube.waterColors[2] = colorToIncrease;\r\n        tube.waterColors[1] = colorToIncrease;\r\n\r\n        cc.tween(color4)\r\n        .to(0.23333, {height: 350})\r\n        .call(() => {\r\n\r\n            cc.tween(color3)\r\n            .to(0.23333, {height: 250})\r\n            .call(() => {\r\n\r\n                cc.tween(color2)\r\n                .to(0.23333, {height: 200})\r\n                .call(() => {\r\n                    activeParticle();\r\n                })\r\n                .start();\r\n            })\r\n\r\n            .start();\r\n        })\r\n        .start();\r\n    };\r\n\r\n    if(floorToIncrease === 2 && currentFloor === 2) {increaseTwoFloor(); return}\r\n    if(floorToIncrease === 2 && currentFloor === 3) {increaseTwoFloorWithException(); return}\r\n    if(floorToIncrease === 1 && currentFloor === 2) {increaseOneFloor(); return}\r\n    if(floorToIncrease === 1 && currentFloor === 1) {increaseOneFloorWithException(); return}\r\n    if(floorToIncrease === 3 && currentFloor === 3) {increaseThreeFloor(); return}\r\n    if(floorToIncrease === 3 && currentFloor === null) {increaseThreeFloorWithException(); return}\r\n};\r\n\r\n\r\nexport class WaterManager {\r\n    static decreaseWater: typeof decreaseWater = decreaseWater;\r\n    static increaseWater: typeof increaseWater = increaseWater;\r\n}\r\n"]}