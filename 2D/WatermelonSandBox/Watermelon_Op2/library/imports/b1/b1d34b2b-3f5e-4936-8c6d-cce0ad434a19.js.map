{"version":3,"sources":["assets\\Script\\Controller\\GamePlay.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Constants } from \"../Data/constants\";\r\nimport AudioManager from \"../Plugin/AudioManager\";\r\nimport { GameController } from \"./GameController\";\r\nimport NodeContainer from \"./NodeContanier\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GamePlay extends cc.Component {\r\n  @property(AudioManager)\r\n  AudioManager: AudioManager = null;\r\n  @property(GameController)\r\n  GameController: GameController = null;\r\n  @property(NodeContainer)\r\n  NodeContainer: NodeContainer = null;\r\n\r\n\r\n  @property(cc.Node)\r\n  touchArea: cc.Node = null;\r\n\r\n  // state\r\n  anims: cc.Tween[] = [];\r\n\r\n\r\n  protected onLoad(): void {\r\n\r\n  }\r\n\r\n\r\n  protected start(): void {\r\n    // this.scheduleOnce(() => {}, 1)\r\n    this.touchArea.getComponent(\"TouchAreaController\").registerEventStep2();\r\n    // this.AudioManager.playSound(Constants.SoundTrack.bgSound);\r\n    this.activeBtnAnim();\r\n  }\r\n\r\n\r\n  private activeBtnAnim(): void {\r\n    this.anims[0] = cc.tween(this.NodeContainer.btn_Active)\r\n      .repeatForever(\r\n        cc.tween(this.node)\r\n          .to(0.5, { scale: 0.9 })\r\n          .to(0.5, { scale: 1 }, { easing: 'elasticOut' })\r\n      ).start();\r\n  }\r\n\r\n\r\n  public handleStep1(): void {\r\n    Constants.isDoneStep1 = true;\r\n\r\n    this.anims[0].stop();\r\n    this.NodeContainer.btn_Active.scale = 1;\r\n\r\n    this.runTweenAnims();\r\n  }\r\n\r\n\r\n  private runTweenAnims(): void {\r\n    let kimtiem = this.NodeContainer.Step1_btn_KimTiem.getChildByName(\"kimtiem\");\r\n    let frame = this.NodeContainer.Step1_btn_KimTiem.getChildByName(\"frame\");\r\n    let Step1_BoneThan = this.NodeContainer.PlayerBase.getChildByName(\"Bonethan\")\r\n    let Step1_Head = this.NodeContainer.Step1_character.getChildByName(\"Head\").getChildByName(\"dau\")\r\n\r\n    // tween kim tiem\r\n    cc.tween(kimtiem)\r\n      .to(0.5, { scale: 2 }, { easing: 'elasticOut' })\r\n      .call(() => {\r\n\r\n        cc.tween(this.NodeContainer.btn_Active)\r\n          .to(2.5, { scale: 0 }, { easing: 'elasticInOut' })\r\n          .start();\r\n\r\n        this.AudioManager.playSound(Constants.SoundTrack.tiem);\r\n        cc.tween(kimtiem)\r\n          .to(0.5, { x: 70 })\r\n          .call(() => {\r\n\r\n            this.NodeContainer.Step1_character.getComponent(cc.Animation).stop(\"Character_IdleAnim\");\r\n\r\n            // scale down frame\r\n            cc.tween(frame)\r\n              .to(1.5, { scaleY: 0 })\r\n              .call(() => {\r\n\r\n                // show bone character\r\n                cc.tween(Step1_BoneThan)\r\n                  .to(0.5, { opacity: 255 })\r\n                  .call(() => {\r\n                    console.log(Step1_Head.opacity);\r\n\r\n\r\n                    cc.tween(kimtiem)\r\n                      .to(0.5, { opacity: 0 })\r\n                      .start();\r\n\r\n                    cc.tween(this.NodeContainer.overlay)\r\n                      .to(1, { opacity: 150 })\r\n                      .call(() => {\r\n                        this.NodeContainer.Step1.active = false;\r\n                        this.NodeContainer.Step2.active = true;\r\n\r\n                        this.touchArea.getComponent(\"TouchAreaController\").registerEventStep2();\r\n                      })\r\n                      .to(1, { opacity: 0 })\r\n                      .start();\r\n                  })\r\n                  .start();\r\n                // --------------\r\n\r\n                // hide main character\r\n                cc.tween(this.NodeContainer.Step1_character)\r\n                  .to(0.5, { opacity: 0 })\r\n                  .start();\r\n                // --------------\r\n\r\n                Step1_Head.getComponent(cc.Animation).stop();\r\n                cc.tween(Step1_Head)\r\n                  .to(0.5, { angle: -45, opacity: 0 })\r\n                  .start();\r\n              })\r\n              .start();\r\n          })\r\n          .start();\r\n\r\n      })\r\n      .start();\r\n  }\r\n\r\n\r\n  public setInHole(weapon: cc.Node): boolean {\r\n    let weaponBdx = weapon.getBoundingBox();\r\n    for (let index = 0; index < this.NodeContainer.Step2_Holes.length; index++) {\r\n      const hole = this.NodeContainer.Step2_Holes[index];\r\n      const holeBdx = hole.getBoundingBox();\r\n\r\n      if (holeBdx.intersects(weaponBdx)) {\r\n        let holeName = hole.name;\r\n        weapon.active = false;\r\n\r\n        weapon.off(cc.Node.EventType.TOUCH_START);\r\n        weapon.off(cc.Node.EventType.TOUCH_MOVE);\r\n        weapon.off(cc.Node.EventType.TOUCH_END);\r\n        weapon.off(cc.Node.EventType.TOUCH_CANCEL);\r\n\r\n        hole.getChildByName(\"frame\").opacity = 255;\r\n        hole.getChildByName(\"number\").opacity = 0;\r\n\r\n        this.activeWeapon(hole, weapon)\r\n        this.NodeContainer.Step2_Holes.splice(index, 1);\r\n\r\n        switch (holeName) {\r\n          case \"Hole1\":\r\n            Constants.isHole1Actived = true;\r\n            return true;\r\n          case \"Hole2\":\r\n            Constants.isHole2Actived = true;\r\n            return true;\r\n          case \"Hole3\":\r\n            Constants.isHole3Actived = true;\r\n            return true;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n\r\n  public setInHoleWithTouch(weapon: cc.Node): void {\r\n    let weaponBdx = weapon.getBoundingBox();\r\n    for (let index = 0; index < this.NodeContainer.Step2_Holes.length; index++) {\r\n      const hole = this.NodeContainer.Step2_Holes[index];\r\n      const holeBdx = hole.getBoundingBox();\r\n\r\n      if (holeBdx.intersects(weaponBdx)) {\r\n        let holeName = hole.name;\r\n        weapon.setPosition(hole.getPosition());\r\n\r\n        hole.getChildByName(\"frame\").opacity = 255;\r\n        hole.getChildByName(\"number\").opacity = 0;\r\n\r\n        switch (holeName) {\r\n          case \"Hole1\":\r\n            Constants.isHole1Actived = true;\r\n            break;\r\n          case \"Hole2\":\r\n            Constants.isHole2Actived = true;\r\n            break;\r\n          case \"Hole3\":\r\n            Constants.isHole3Actived = true;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n\r\n      else {\r\n        if (!Constants.isHole1Actived) {\r\n          Constants.isHole1Actived = true;\r\n          this.NodeContainer.Step2_TempHoles[0].getChildByName(\"frame\").opacity = 255;\r\n          this.NodeContainer.Step2_TempHoles[0].getChildByName(\"number\").opacity = 0;\r\n          weapon.active = false;\r\n\r\n          weapon.off(cc.Node.EventType.TOUCH_START);\r\n          weapon.off(cc.Node.EventType.TOUCH_MOVE);\r\n          weapon.off(cc.Node.EventType.TOUCH_END);\r\n          weapon.off(cc.Node.EventType.TOUCH_CANCEL);\r\n\r\n          this.activeWeapon(hole, weapon)\r\n          this.NodeContainer.Step2_Holes.splice(index, 1);\r\n\r\n          return;\r\n        }\r\n        if (!Constants.isHole2Actived) {\r\n          Constants.isHole2Actived = true;\r\n          this.NodeContainer.Step2_TempHoles[1].getChildByName(\"frame\").opacity = 255;\r\n          this.NodeContainer.Step2_TempHoles[1].getChildByName(\"number\").opacity = 0;\r\n          weapon.active = false;\r\n\r\n          weapon.off(cc.Node.EventType.TOUCH_START);\r\n          weapon.off(cc.Node.EventType.TOUCH_MOVE);\r\n          weapon.off(cc.Node.EventType.TOUCH_END);\r\n          weapon.off(cc.Node.EventType.TOUCH_CANCEL);\r\n\r\n          this.activeWeapon(hole, weapon)\r\n          this.NodeContainer.Step2_Holes.splice(index, 1);\r\n\r\n          return;\r\n        }\r\n        if (!Constants.isHole3Actived) {\r\n          Constants.isHole3Actived = true;\r\n          this.NodeContainer.Step2_TempHoles[2].getChildByName(\"frame\").opacity = 255;\r\n          this.NodeContainer.Step2_TempHoles[2].getChildByName(\"number\").opacity = 0;\r\n          weapon.active = false;\r\n\r\n          weapon.off(cc.Node.EventType.TOUCH_START);\r\n          weapon.off(cc.Node.EventType.TOUCH_MOVE);\r\n          weapon.off(cc.Node.EventType.TOUCH_END);\r\n          weapon.off(cc.Node.EventType.TOUCH_CANCEL);\r\n\r\n          this.activeWeapon(hole, weapon)\r\n          this.NodeContainer.Step2_Holes.splice(index, 1);\r\n\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public showBtnActive(): void {\r\n    this.AudioManager.playSound(Constants.SoundTrack.canhbaoSound);\r\n\r\n    let Step2_BtnActive = this.NodeContainer.Step2.getChildByName(\"Btn_Active\");\r\n    for (let index = 0; index < this.NodeContainer.Step2_TempHoles.length; index++) {\r\n      const hole = this.NodeContainer.Step2_TempHoles[index];\r\n      cc.tween(hole)\r\n        .to(2, { scale: 0 }, { easing: 'elasticInOut' })\r\n        .call(() => {\r\n          cc.tween(Step2_BtnActive)\r\n            .to(0.5, { scale: 1, opacity: 255 }, { easing: 'elasticInOut' })\r\n            .call(() => {\r\n              this.anims[1] = cc.tween(Step2_BtnActive)\r\n                .repeatForever(\r\n                  cc.tween(this.node)\r\n                    .to(0.5, { scale: 0.9 })\r\n                    .to(0.5, { scale: 1 }, { easing: 'elasticOut' })\r\n                ).start();\r\n            })\r\n            .start();\r\n        })\r\n        .start();\r\n    }\r\n\r\n    for (let index = 0; index < this.NodeContainer.Step2_Frames.length; index++) {\r\n      const frame = this.NodeContainer.Step2_Frames[index];\r\n      cc.tween(frame)\r\n        .to(2, { scale: 0 }, { easing: 'elasticInOut' })\r\n        .start();\r\n    }\r\n  }\r\n\r\n\r\n  private activeWeapon(hole: cc.Node, weapon: cc.Node): void {\r\n    let hole1: cc.Node = this.NodeContainer.Step2_Options.getChildByName(\"Hole1_Weapon\");\r\n    let hole2: cc.Node = this.NodeContainer.Step2_Options.getChildByName(\"Hole2_Weapon\");\r\n    let hole3: cc.Node = this.NodeContainer.Step2_Options.getChildByName(\"Hole3_Weapon\");\r\n    let weaponName = weapon.name;\r\n\r\n    switch (hole.name) {\r\n      case \"Hole1\":\r\n        hole1.getChildByName(weaponName).active = true;\r\n        break;\r\n      case \"Hole2\":\r\n        hole2.getChildByName(weaponName).active = true;\r\n        break;\r\n      case \"Hole3\":\r\n        hole3.getChildByName(weaponName).active = true;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  public showCTA(): void {\r\n    // mtg & applovin\r\n    // this.NodeContainer.HideMask.on(cc.Node.EventType.TOUCH_START, this.GameController.installHandle, this);\r\n\r\n    this.AudioManager.playSound(Constants.SoundTrack.gun);\r\n    cc.tween(this.NodeContainer.Step2)\r\n    .to(1, {opacity: 0}, {easing: 'elasticOut'})\r\n    .call(() => {\r\n      this.NodeContainer.CTA.active = true;\r\n      cc.tween(this.NodeContainer.CTA)\r\n      .to(1, {opacity: 255}, {easing: 'elasticOut'})\r\n      .call(() => {\r\n        cc.tween(this.NodeContainer.CTA_btnDownload)\r\n        .repeatForever(\r\n          cc.tween(this.node)\r\n            .to(0.5, { scale: 0.5 })\r\n            .to(0.5, { scale: 0.4 }, { easing: 'elasticOut' })\r\n        ).start();\r\n      })\r\n      .start();\r\n    })\r\n    .start();\r\n  }\r\n}\r\n"]}