{"version":3,"sources":["assets\\Script\\Controller\\TouchController.js"],"names":["cc","Class","Component","properties","graphics","Prefab","nodesController","Node","audioManager","GamePlay","GameController","EggController","onLoad","window","isDraw","node","on","EventType","TOUCH_START","touch_start","TOUCH_END","touch_end","TOUCH_CANCEL","start","StateForJs","isCanDraw","createGraphics","isChangeEggRigidbodyType","isLoseGame","isToStore","getComponent","installHandle","playSound","drawSound","loop","event","currentLv","changeRigidbodyType","offEvent","scheduleOnce","isReplayGame","winGame","timeToWin","stopSound","off","graphics_node","instantiate","x","addChild"],"mappings":"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","sourceRoot":"/","sourcesContent":["import { StateForJs } from \"../Data/StateForJS\";\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n\r\n    properties: {\r\n        graphics: cc.Prefab,\r\n        nodesController: cc.Node,\r\n        audioManager: cc.Node,\r\n        GamePlay: cc.Node,\r\n        GameController: cc.Node,\r\n        EggController: cc.Node,\r\n    },\r\n\r\n\r\n    onLoad() {\r\n        window.isDraw = false;\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.touch_start, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touch_end, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.touch_end, this);\r\n    },\r\n\r\n\r\n    start() {\r\n        StateForJs.isCanDraw = true;\r\n        this.createGraphics();\r\n        this.isChangeEggRigidbodyType = false;\r\n    },\r\n\r\n\r\n    touch_start: function() {\r\n        if(window.isLoseGame || StateForJs.isToStore) {\r\n            this.GameController.getComponent(\"GameController\").installHandle();\r\n            return;\r\n        }\r\n\r\n        this.audioManager.getComponent(\"AudioManager\").playSound(\"drawSound\");\r\n        this.audioManager.getComponent(\"AudioManager\").drawSound.loop = true;\r\n    },\r\n\r\n\r\n    touch_end: function (event) {\r\n        if(StateForJs.isToStore) {\r\n            return;\r\n        }\r\n\r\n        if(window.currentLv === 2) {\r\n            this.EggController.getComponent(\"EggController\").changeRigidbodyType();\r\n        }\r\n\r\n        if(!StateForJs.isCanDraw) {\r\n            this.offEvent();\r\n            this.createGraphics();\r\n        }\r\n\r\n        this.scheduleOnce(() => {\r\n            if(window.isReplayGame) {\r\n                return;\r\n            }\r\n\r\n            if(!window.isLoseGame) this.GamePlay.getComponent(\"GamePlay\").winGame();\r\n        }, StateForJs.timeToWin);\r\n\r\n        this.audioManager.getComponent(\"AudioManager\").stopSound(\"drawSound\");\r\n    },\r\n\r\n\r\n    offEvent() {\r\n        this.node.off(cc.Node.EventType.TOUCH_START);\r\n        this.node.off(cc.Node.EventType.TOUCH_END);\r\n    },\r\n\r\n\r\n    createGraphics() {\r\n        var graphics_node = cc.instantiate(this.graphics);\r\n        graphics_node.x = 0;\r\n        this.node.addChild(graphics_node);\r\n    },\r\n});\r\n"]}