window.__require=function t(e,i,n){function o(s,c){if(!i[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var h="function"==typeof __require&&__require;if(!c&&h)return h(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return o(e[s][1][t]||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({Astar:[function(t,e,i){"use strict";cc._RF.push(e,"835e6+FhSxOmZO9WaB8eSN5","Astar"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this.grid=t}return t.prototype.heuristic=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},t.prototype.getNeighbors=function(t){for(var e=[],i=0,n=[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}];i<n.length;i++){var o=n[i],r=t.x+o.x,s=t.y+o.y;this.grid.isWalkable(r,s)&&e.push({x:r,y:s,g:0,h:0,f:0,parent:null})}return e},t.prototype.findPath=function(t,e){var i={x:t.x,y:t.y,g:0,h:0,f:0,parent:null},n={x:e.x,y:e.y,g:0,h:0,f:0,parent:null},o=[],r=[];for(o.push(i);o.length>0;){var s=o.reduce(function(t,e){return t.f<e.f?t:e});if(s.x===n.x&&s.y===n.y)return this.reconstructPath(s);o.splice(o.indexOf(s),1),r.push(s);for(var c=this.getNeighbors(s),a=function(t){if(r.find(function(e){return e.x===t.x&&e.y===t.y}))return"continue";var e=s.g+1,i=o.find(function(e){return e.x===t.x&&e.y===t.y});(!i||e<t.g)&&(t.g=e,t.h=h.heuristic(t,n),t.f=t.g+t.h,t.parent=s,i||o.push(t))},h=this,u=0,d=c;u<d.length;u++)a(d[u])}return null},t.prototype.reconstructPath=function(t){for(var e=[],i=t;i;)e.push(i),i=i.parent;return e.reverse()},t}();i.default=n,cc._RF.pop()},{}],AudioManager:[function(t,e,i){"use strict";cc._RF.push(e,"16092J/6+9HR5x8fJSUKKad","AudioManager");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Data/constants"),c=cc._decorator,a=c.ccclass,h=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgSound=null,e.drawSound=null,e.crySound=null,e.clickSound=null,e.loseSound=null,e.winSound=null,e.stingSound=null,e.explosionSound=null,e.hatchEggSound=null,e}return o(e,t),e.prototype.playSound=function(t){if(s.Constants.ironSource.SoundState)switch(t){case"bgSound":this.bgSound.play();break;case"hatchEggSound":this.hatchEggSound.play();break;case"explosionSound":this.explosionSound.play();break;case"drawSound":this.drawSound.play();break;case"winSound":this.winSound.play();break;case"crySound":this.crySound.play();break;case"clickSound":this.clickSound.play();break;case"loseSound":this.loseSound.play();break;case"stingSound":this.stingSound.play()}},e.prototype.stopSound=function(t){switch(t){case"bgSound":this.bgSound.stop();break;case"hatchEggSound":this.hatchEggSound.stop();break;case"explosionSound":this.explosionSound.stop();break;case"drawSound":this.drawSound.stop();break;case"winSound":this.winSound.stop();break;case"crySound":this.crySound.stop();break;case"clickSound":this.clickSound.stop();break;case"loseSound":this.loseSound.stop();break;case"stingSound":this.stingSound.stop()}},e.prototype.stopAllSound=function(){this.bgSound.stop(),this.hatchEggSound.stop(),this.explosionSound.stop(),this.drawSound.stop(),this.winSound.stop(),this.crySound.stop(),this.clickSound.stop(),this.loseSound.stop(),this.stingSound.stop()},r([h(cc.AudioSource)],e.prototype,"bgSound",void 0),r([h(cc.AudioSource)],e.prototype,"drawSound",void 0),r([h(cc.AudioSource)],e.prototype,"crySound",void 0),r([h(cc.AudioSource)],e.prototype,"clickSound",void 0),r([h(cc.AudioSource)],e.prototype,"loseSound",void 0),r([h(cc.AudioSource)],e.prototype,"winSound",void 0),r([h(cc.AudioSource)],e.prototype,"stingSound",void 0),r([h(cc.AudioSource)],e.prototype,"explosionSound",void 0),r([h(cc.AudioSource)],e.prototype,"hatchEggSound",void 0),r([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],Bee:[function(t,e,i){"use strict";cc._RF.push(e,"4c3a1loUGhKZZS1Pj7UbsBp","Bee");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Data/constants"),c=t("../Data/GameOption"),a=t("../Plugin/AudioManager"),h=t("./GamePlay"),u=cc._decorator,d=u.ccclass,f=u.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.GamePlay=null,e.rigidBody=null,e.beeClearFixPos=null,e.isCollide=!1,e.initPos=null,e.targetPos=null,e.isJumpback=!1,e.tweenStates=[],e.jumpbackCount=0,e}return o(e,t),e.prototype.start=function(){this.initTargetPos(),this.beginContact(),this.initPos=this.node.getPosition()},e.prototype.initTargetPos=function(){switch(cc.math.randomRangeInt(1,4)){case 1:this.targetPos=s.Constants.Char_Point1;break;case 2:this.targetPos=s.Constants.Char_Point2;break;case 3:this.targetPos=s.Constants.Char_Point3}},e.prototype.beginContact=function(){var t=this;this.rigidBody.onBeginContact=function(e,i,n){if(4===n.tag&&t.isJumpback&&(t.isJumpback=!1,t.tweenStates[t.jumpbackCount-1].stop(),t.initTargetPos(),t.isCollide=!1,cc.log("stop jumpback")),4!==n.tag||s.Constants.isHit||(t.jumpBack(),cc.log("collide line"),t.AudioManager.playSound(s.Constants.SoundTrack.stingSound)),8===n.tag&&(cc.log("bee die!"),t.node.getChildByName("PSBase").getChildByName("boom").getComponent(cc.ParticleSystem).resetSystem(),t.node.removeComponent(sp.Skeleton),t.node.removeComponent(cc.PhysicsBoxCollider),t.node.removeComponent(cc.RigidBody),t.scheduleOnce(function(){t.destroy()},1)),3===n.tag){if(t.isCollide)return;t.AudioManager.playSound(s.Constants.SoundTrack.stingSound),t.isCollide=!0,window.isLoseGame=!0,s.Constants.isHit=!0,t.getComponent(sp.Skeleton).setAnimation(0,"Hit",!0)}}},e.prototype.jumpBack=function(){var t=this;this.isJumpback=!0,this.isCollide=!0,this.jumpbackCount+=1,16===c.GameOption.currentOption&&c.GameOption.Op16.isPointTouchClearFixArea?this.tweenStates.push(cc.tween(this.node).to(.2,{x:this.beeClearFixPos.x,y:this.beeClearFixPos.y},{easing:cc.easing.smooth}).call(function(){t.initTargetPos(),t.isCollide=!1}).start()):this.tweenStates.push(cc.tween(this.node).to(.2,{x:this.initPos.x,y:this.initPos.y},{easing:cc.easing.smooth}).call(function(){t.initTargetPos(),t.isCollide=!1}).start())},e.prototype.setAttackAgain=function(){var t=this;this.isJumpback||this.scheduleOnce(function(){t.isCollide=!1},1)},e.prototype.attack=function(){if(!window.isToStore&&!s.Constants.isToStore){var t=this.node.getPosition();t.lerp(this.targetPos,.02,t),this.node.setPosition(t)}},e.prototype.update=function(){!window.isDraw||this.isCollide||s.Constants.isWinGame||this.attack()},r([f(a.default)],e.prototype,"AudioManager",void 0),r([f(h.default)],e.prototype,"GamePlay",void 0),r([f(cc.RigidBody)],e.prototype,"rigidBody",void 0),r([f(cc.Node)],e.prototype,"beeClearFixPos",void 0),r([d],e)}(cc.Component);i.default=l,cc._RF.pop()},{"../Data/GameOption":"GameOption","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GamePlay":"GamePlay"}],Bubbles:[function(t,e,i){"use strict";cc._RF.push(e,"6051d0j6x9B67kIhP3xZfta","Bubbles"),function(t,n){if("object"==typeof i&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Bubbles=n()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Bubbles=n()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,i=function t(e,i){this.Ld=e,this.Bd=i,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};i.prototype={Ec:function(e,i,n){var o=t.ib(n.Md),r=Math.cos(o),s=Math.sin(o),c=t.Ae(n.Nd[0]),a=t.Ae(n.Nd[1]);e.transform(c*r,c*s,a*-s,a*r,i[0],i[1])},Fc:function(e,i,n){var o=n.Mc,r=2*o[2]*o[2],s=2*o[0]*o[1],c=2*o[3]*o[2],a=t.Ae(n.Nd[0]),h=t.Ae(n.Nd[1]);e.transform(a*(1-2*o[1]*o[1]-r),a*(s+c),h*(c-s),h*(2*o[0]*o[0]+r-1),i[0],i[1])},Pc:function(e,i,n){if(i.vc(e,-1,n),this.we&&null!=this.Be&&!i.oc&&i.Od>.001){var o=Math.floor(i.Qc%this.we.Rc),r=Math.floor(i.Qc/this.we.Rc),s=i.Ab.slice(),c=i.Nd.slice();if(!n||n.transform(s,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,s,i),e.translate(-a*i.Pd[0],-h*(1-i.Pd[1])),e.globalAlpha*=i.Od,i.gf[0]<.999||i.gf[1]<.999||i.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(i.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,a,h);e.restore()}}}i.vc(e,1,n)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e);break;case 1:for(i=this.Bd.tc.length;i-- >0;)this.Pc(t,this.Bd.tc[i],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e)}t.restore()}};var n=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};n.prototype={qe:function(e,i,n,o,r){if(e.Ce(-1,i,n,o,r),this.we&&!e.oc){var s=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var f=t.ib(e.Md),l=-Math.sin(f),p=Math.cos(f);u[0]=i[0]*p+n[0]*l,u[1]=i[1]*p+n[1]*l,u[2]=i[2]*p+n[2]*l,d[0]=-i[0]*l+n[0]*p,d[1]=-i[1]*l+n[1]*p,d[2]=-i[2]*l+n[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],v=2*_[0]*_[1],y=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=v+y,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=v-y,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var g=[],m=[],x=[],w=[];t.u(g,u,-e.Nd[0]*e.Pd[0]),t.u(m,u,e.Nd[0]*(1-e.Pd[0])),t.u(x,d,-e.Nd[1]*e.Pd[1]),t.u(w,d,e.Nd[1]*(1-e.Pd[1])),t.c(s.position,g,x),t.c(s.position,s.position,e.Ab),t.c(c.position,g,w),t.c(c.position,c.position,e.Ab),t.c(a.position,m,w),t.c(a.position,a.position,e.Ab),t.c(h.position,m,x),t.c(h.position,h.position,e.Ab);var A=t.v(e.gf,255);s.color=c.color=a.color=h.color=[A[0],A[1],A[2],255*e.Od];var C,T,S=Math.floor(e.Qc%this.we.Rc),P=Math.floor(e.Qc/this.we.Rc),O=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(O)var R=O.width/this.we.Rc,M=O.height/this.we.Sc,B=(C=O.x+S*R)+R,N=(T=O.y+O.height-P*M)-M;else B=(C=S*(R=1/this.we.Rc))+R,N=(T=1-P*(M=1/this.we.Sc))-M;if(s.texCoords[0]=[C,N],c.texCoords[0]=[C,T],a.texCoords[0]=[B,T],h.texCoords[0]=[B,N],r.beforeQuad&&r.beforeQuad(this.we.renderStyleIndex),r.pushVertex(s),r.pushVertex(c),r.pushVertex(a),r.pushVertex(h),r.__lastRenderCall){var I=r.__lastRenderCall;I.renderStyleIndex==this.we.renderStyleIndex?I.numIndices+=6:(r.pushRenderCall(I),r.__lastRenderCall=new t.RenderCall(I.startIndex+I.numIndices,6,this.we.renderStyleIndex))}else r.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,i,n,o,r)},ue:function(e,i,n,o){switch(this.Bd.Vc){case 0:for(var r=0;r<this.Bd.tc.length;++r)this.qe(this.Bd.tc[r],e,i,n,o);break;case 1:for(r=this.Bd.tc.length;r-- >0;)this.qe(this.Bd.tc[r],e,i,n,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(n,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,i,n,o)},this)}}};var o=function e(i,n,o){var r=this;function s(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,r.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,r.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=i,this.we=n,s.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){r.we.Pb(e,r,this);var s=r.Rb,c=i.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=d,s+=d,c+=d,null!=this.Hb&&s>this.Hb){r.disactivate();break}r.Rb=s,i.Rb=c,n&&e>0&&t.ab(r.Ab,n,r.Bb,a/e),o&&e>0&&t.slerpq(r.Mc,o,r.prevRotation,a/e),this.Lb=this.Jb;for(var f=0;f<this.Jb&&0!=r.sc.length;++f){1==this.Jb?this.Kb=0:this.Kb=f/(this.Jb-1);var l=r.sc.pop();r.tc.unshift(l),0==f?l.Yb():l.Zb(),l.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){r.disactivate();break}}this.Ob=u}return s+=a,r.Rb=s,n&&t.T(r.Ab,n),o&&t.U(r.Mc,o),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){r.we.Pb(e,r,this);var s=r.Rb,c=s+e,a=i.Rb,h=a+e,u=n?t.O(t.h(n,r.Bb)):0,d=0;if(u>1e-6){for(var f=u/this.rd,l=this.bc+f,p=f<.001?1-this.bc:(1-this.bc)/f,_=[];l>1;){var b=s+p*e;n&&t.ab(_,r.Bb,n,p),r.Rb=b,t.T(r.Ab,_),i.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var v=0;v<this.Jb&&0!=r.sc.length;++v){1==this.Jb?this.Kb=0:this.Kb=v/(this.Jb-1);var y=r.sc.pop();r.tc.unshift(y),0==v?y.Yb():y.Zb(),y.Id(e*(1-p)),++d}p+=1/f,l-=1}this.bc=l}return r.Rb=c,n&&t.T(r.Ab,n),o&&t.U(r.Mc,o),d}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){r.we.fd(r,this),this.nc()},Zb:function(){r.we.gd(r,this),this.nc()},Id:function(t){r.we.qc(t,r,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,n){this.Kc.push({Bd:new e(i,t,o),Ad:n})},vc:function(t,e,i){for(var n=0;n<this.Kc.length;++n){var o=this.Kc[n];e==o.Ad.xc&&o.Bd.Hd(t,i)}},Ce:function(t,e,i,n,o){for(var r=0;r<this.Kc.length;++r){var s=this.Kc[r];t==s.Ad.xc&&s.Bd.ue(e,i,n,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return r.we.Cc(r,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new s},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new a,f=0;f<this.Yc.length;++f){var l=this.Yc[f];d.uc(l.Db,l.Ad)}this.sc.push(d)}this.Nb=function(e,i){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,i||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,i,n){if(this.paused_)this.Td(i,n);else{if(this.wd=this.Rb,i)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,i,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var r;n&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?r=this.vd.Id(e,i,n):(i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),r=0,this.Rb+=e);for(var s=r;s<this.tc.length;){var c=this.tc[s];if(c.oc){if(c.rc(e),this.xd(s))continue}else if(c.Id(e),this.Wc.Ac(this.tc[s])&&(c.wc(),this.xd(s)))continue;++s}}},o.prototype.xd=function(t){for(var e=this.tc[t],i=!0,n=0;n<e.Kc.length;++n){var o=e.Kc[n].Bd;if(o.activated()||o.tc.length>0){i=!1;break}}return!!i&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,i,n){this.construct.ue(t,e,i,n)},o.prototype.Td=function(e,i){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),i&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,i))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var r=function(){this._init=function(e,i,n,r,s){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,r);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,i){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,i||[0,0,0,1])},this.Nb(i,n),this.model.qd(this),this._presimNeeded=!0,s.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),s.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,i,n,this.presimFrameTime),this._presimNeeded=!1)}};r.prototype.restart=function(t,e,i){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var n=0;n<this.od.length;++n)this.od[n].Jd(this.Ab,this.Mc);this._presimNeeded=!0,i&&i.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),i&&i.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},r.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},r.prototype.update=function(t,e,i){this.Dd>0?this.updateFixed(t,e,i,this.Dd):this.updateFlex(t,e,i)},r.prototype.updateFixed=function(e,i,n,o){var r=0,s=[];t.T(s,this.Ab);var c=[];for(t.U(c,this.Mc),i&&t.equalv3_(i,this.Ab)&&(i=null),n&&t.equalq_(n,this.Mc)&&(n=null);e-r+this.Cd>=o;){var a=this.Rb;i&&t.ab(s,this.Ab,i,r/e),n&&t.slerpq(c,this.Mc,n,r/e);for(var h=0;h<this.od.length;++h)this.od[h].Id(o,s,c),this.Rb=a;r+=o-this.Cd,this.Cd=0,this.Rb=a+o}i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),this.Cd+=e-r},r.prototype.updateFlex=function(e,i,n){for(var o=this.Rb,r=0;r<this.od.length;++r)this.od[r].Id(e,i,n),this.Rb=o;this.Rb=o+e,i&&t.T(this.Ab,i),n&&t.U(this.Mc,n)},r.prototype.resetPosition=function(e,i){e&&t.T(this.Ab,e),i&&t.U(this.Mc,i);for(var n=0;n<this.od.length;++n)this.od[n].Td(this.Ab,this.Mc)},r.prototype.setPropertyInAllEmitters=function(e,i){var n="_".concat(e);if(i instanceof Array)if(2==i.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][n],i);else for(o=0;o<this.od.length;++o)t.T(this.od[o][n],i);else for(o=0;o<this.od.length;++o)this.od[o][n]=i},r.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},r.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},r.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},r.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},r.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},r.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},r.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var s=function t(){this._init=function(e,i,o,r,s){t.prototype._init.call(this,e,i,o,n,s),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=r,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(s.prototype=new r).fillGeometryBuffers=function(t,e,i){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(n){n.ue(t,e,i,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,n,o,r){t.prototype._init.call(this,e,n,o,i,r),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var i,n,o,r,s,c,a,h,u,d,f,l,p,_,b,v,y,g,m,x,w,A,C,T,S,P,O,R,M=[],B=[],N=[],I=[],F=[],L=[],G=[],E=[],V=[],k=[],U=[],j=[],D=[],q=[],H=[],W=[],J=[],K=[],z=[],Q=[],Z=[],X=[],Y=[];this.pe=[{xe:0,Rc:8,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter",this.ud=function(t){t.dd(),t._4=[[[-69.7778,597.194],[-11.7124,597.628],[46.354,597.847],[104.423,597.967],[162.495,598.028],[220.562,598.054],[278.633,598.057],[336.702,598.048],[394.77,598.035],[452.839,598.026],[510.91,598.03],[568.977,598.055],[627.048,598.117],[685.118,598.236],[743.184,598.456],[801.25,598.889],[801.25,598.889]]],t._9=[[[5.07027,15.7745,15.7745]]],t._11=[[[4,2,2]]],t._15=[[[0,4.3328,25.796,65.888,125.577,204.724,301.348,411.012,526.867,640.732,744.903,833.676,903.891,954.566,986.181,1e3,1e3]]],t._19=[[[2.50205,1,1],[1,1.31557,1.31557]]],t._21=[[[.583734,1,1],[1,.757178,.757178]]],t._23=[[[0,1,1],[1,1,1],[1,0,0]]],t._25=[[[7.68724,0,0],[0,7.74979,7.74979]]],t.jd=600,t.Vc=2},this.Mb=function(t){t.zb=60,t.Gb=1,t.Jb=1},this.Pb=function(t,e,i){i.zb=60},this.fd=function(a,h){h._=0,i=0+1*a.Ld.rand(),h._2=i,n=0+1*a.Ld.rand(),o=e.kb(n),t.V(B,0,15*(o-0)),e.lb(M,a._4[B[0]],B[1]),r=800*a.Ld.rand()-400,t.W(N,M[0],M[1],r),h._7=[],t.T(h._7,N),h._8=[],t.T(h._8,[0,0,0]),c=h._2<0?0:h._2>1?1:h._2,t.V(I,0,1*(c-0)),s=e.nb(a._9[0][I[0]],I[1]),h._10=s,t.T(h.Ab,h._7)},this.gd=function(a,h){h._=0,i=0+1*a.Ld.rand(),h._2=i,n=0+1*a.Ld.rand(),o=e.kb(n),t.V(B,0,15*(o-0)),e.lb(M,a._4[B[0]],B[1]),r=800*a.Ld.rand()-400,t.W(N,M[0],M[1],r),h._7=[],t.T(h._7,N),h._8=[],t.T(h._8,[0,0,0]),c=h._2<0?0:h._2>1?1:h._2,t.V(I,0,1*(c-0)),s=e.nb(a._9[0][I[0]],I[1]),h._10=s,t.T(h.Ab,h._7)},this.qc=function(i,n,o){for(o._+=i,h=o._2<0?0:o._2>1?1:o._2,t.V(F,0,1*(h-0)),a=e.nb(n._11[0][F[0]],F[1]),u=t.d(o._7,t.v([0,40,-200],n.Rb)),d=t.d(o._7,t.v([0,200,-50],n.Rb)),t.u(G,[0,0,0],n.Ld.Rb),t.c(G,G,d),t.u(E,G,2e-4),t.xb(L,E),t.k(L,L,[.0078125,.0078125,.0078125]),t.c(L,L,[-1,-1,-1]),t.u(L,L,1),l=L[2]<-1?-1:L[2]>1?1:L[2],t.V(V,0,7.5*(l- -1)),f=e.nb(n._15[0][V[0]],V[1]),t.u(U,[0,0,0],n.Ld.Rb),t.c(U,U,u),t.u(j,U,.001),t.xb(k,j),t.k(k,k,[.0078125,.0078125,.0078125]),t.c(k,k,[-1,-1,-1]),t.u(k,k,f),t.T(D,[0,-100,0]),t.c(D,D,k),t.T(q,[0,0,0]),_=i,t.T(J,o._8),t.T(K,o._7);_>1e-4;)b=_,t.T(z,D),t.g(H,q,J),(p=t.P(H))>1e-4&&(p=Math.sqrt(p),t.w(W,H,p),(v=.01*a*p)*b>.2&&(b=.2/v),t.c(z,z,t.v(W,p*v))),t.c(J,J,t.v(z,b)),t.c(K,K,t.v(J,b)),_-=b;t.T(o._7,K),t.T(o._8,J),t.T(o.Ab,o._7),(g=o._7[2]<-400?-400:o._7[2]>400?400:o._7[2])<1?t.V(Q,0,.00249377*(g- -400)):t.V(Q,1,.00250627*(g-1)),y=e.nb(n._19[0][Q[0]],Q[1]),m=o._10*y,(w=o._7[2]<-400?-400:o._7[2]>400?400:o._7[2])<0?t.V(Z,0,.0025*(w- -400)):t.V(Z,1,.0025*(w-0)),x=e.nb(n._21[0][Z[0]],Z[1]),A=10,C=o._/A,(S=C<0?0:C>1?1:C)<.9?S<.1?t.V(X,0,10*(S-0)):t.V(X,1,1.25*(S-.1)):t.V(X,2,10*(S-.9)),T=e.nb(n._23[0][X[0]],X[1]),P=x*T,(R=o._7[2]<-400?-400:o._7[2]>400?400:o._7[2])<0?t.V(Y,0,.0025*(R- -400)):t.V(Y,1,.0025*(R-0)),O=e.nb(n._25[0][Y[0]],Y[1]),t.S(o.Pd,[.5,.5]),o.Md=0,t.V(o.Nd,m,m),t.T(o.gf,[1,1,1]),o.Od=P,o.Qc=O<0?0:O>=8?7:O},this.Cc=function(t,e){return A=10,e._>A}}(c.prototype=new r).draw=function(t,e){for(var i=0;i<this.od.length;++i)this.od[i].Hd(t,e)},this.createWGLInstance=function(t,e,i,n){var o=new s;return o._init(this,t,e,i,n||{}),o},this.createCanvas2DInstance=function(t,e,i){var n=new c;return n._init(this,t,e,i||{}),n},this.textures=["blurable_bubble.png"],this.materials=[0],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=600,this.qd=function(t){t.Dd=.0333333,t.Ud=15,t.presimFrameTime=.1,t.rand=function(){return Math.random()},t.pd(new a)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,i,n){var o=Math.floor(n),r=n-o;t.Y(e,i[o],i[o+1],r)},this.nb=function(e,i){var n=Math.floor(i),o=n+1;return t.X(e[n],e[o],i-n)}}}),cc._RF.pop()},{}],EggController:[function(t,e,i){"use strict";cc._RF.push(e,"b7838NrFfZMWpWVpJlrJ5k0","EggController");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=t("./GamePlay"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GamePlay=null,e.AudioManager=null,e.effectDies=[],e.rigidbody=null,e.collide=null,e.isChangeEggRigidbodyType=!1,e.isActiveHelpAnim=!1,e}return o(e,t),e.prototype.start=function(){var t=this;this.rigidbody=this.getComponent(cc.RigidBody),this.rigidbody.onBeginContact=function(e,i,n){8===n.tag&&(s.Constants.isHit=!0,t.rigidbody.destroy(),t.getComponent(cc.Collider).destroy(),t.node.getChildByName("Spine_Character").active=!1,t.AudioManager.playSound(s.Constants.SoundTrack.explosionSound),t.effectDies.forEach(function(t){return t.resetSystem()}))}},e.prototype.changeRigidbodyType=function(){this.rigidbody.type=cc.RigidBodyType.Dynamic},e.prototype.activeHelpAnim=function(){this.isActiveHelpAnim||(this.isActiveHelpAnim=!0,this.node.getChildByName("Spine_Character").getComponent(sp.Skeleton).setAnimation(0,"being_hit",!0))},e.prototype.update=function(){window.changeEggRigidbodyType&&!this.isChangeEggRigidbodyType&&window.isDraw&&(this.isChangeEggRigidbodyType=!0,this.changeRigidbodyType()),s.Constants.isWinGame&&(this.rigidbody.type=cc.RigidBodyType.Static),window.isDraw&&this.activeHelpAnim()},r([d(a.default)],e.prototype,"GamePlay",void 0),r([d(c.default)],e.prototype,"AudioManager",void 0),r([d([cc.ParticleSystem])],e.prototype,"effectDies",void 0),r([u],e)}(cc.Component);i.default=f,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GamePlay":"GamePlay"}],Fireworks01:[function(t,e,i){"use strict";cc._RF.push(e,"8a177579ldA+rfTscjwOEOq","Fireworks01"),function(t,n){if("object"==typeof i&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Fireworks01=n()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Fireworks01=n()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,i=function t(e,i){this.Ld=e,this.Bd=i,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};i.prototype={Ec:function(e,i,n){var o=t.ib(n.Md),r=Math.cos(o),s=Math.sin(o),c=t.Ae(n.Nd[0]),a=t.Ae(n.Nd[1]);e.transform(c*r,c*s,a*-s,a*r,i[0],i[1])},Fc:function(e,i,n){var o=n.Mc,r=2*o[2]*o[2],s=2*o[0]*o[1],c=2*o[3]*o[2],a=t.Ae(n.Nd[0]),h=t.Ae(n.Nd[1]);e.transform(a*(1-2*o[1]*o[1]-r),a*(s+c),h*(c-s),h*(2*o[0]*o[0]+r-1),i[0],i[1])},Pc:function(e,i,n){if(i.vc(e,-1,n),this.we&&null!=this.Be&&!i.oc&&i.Od>.001){var o=Math.floor(i.Qc%this.we.Rc),r=Math.floor(i.Qc/this.we.Rc),s=i.Ab.slice(),c=i.Nd.slice();if(!n||n.transform(s,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,s,i),e.translate(-a*i.Pd[0],-h*(1-i.Pd[1])),e.globalAlpha*=i.Od,i.gf[0]<.999||i.gf[1]<.999||i.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(i.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,a,h);e.restore()}}}i.vc(e,1,n)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e);break;case 1:for(i=this.Bd.tc.length;i-- >0;)this.Pc(t,this.Bd.tc[i],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e)}t.restore()}};var n=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};n.prototype={qe:function(e,i,n,o,r){if(e.Ce(-1,i,n,o,r),this.we&&!e.oc){var s=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var f=t.ib(e.Md),l=-Math.sin(f),p=Math.cos(f);u[0]=i[0]*p+n[0]*l,u[1]=i[1]*p+n[1]*l,u[2]=i[2]*p+n[2]*l,d[0]=-i[0]*l+n[0]*p,d[1]=-i[1]*l+n[1]*p,d[2]=-i[2]*l+n[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],v=2*_[0]*_[1],y=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=v+y,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=v-y,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var g=[],m=[],x=[],w=[];t.u(g,u,-e.Nd[0]*e.Pd[0]),t.u(m,u,e.Nd[0]*(1-e.Pd[0])),t.u(x,d,-e.Nd[1]*e.Pd[1]),t.u(w,d,e.Nd[1]*(1-e.Pd[1])),t.c(s.position,g,x),t.c(s.position,s.position,e.Ab),t.c(c.position,g,w),t.c(c.position,c.position,e.Ab),t.c(a.position,m,w),t.c(a.position,a.position,e.Ab),t.c(h.position,m,x),t.c(h.position,h.position,e.Ab);var A=t.v(e.gf,255);s.color=c.color=a.color=h.color=[A[0],A[1],A[2],255*e.Od];var C,T,S=Math.floor(e.Qc%this.we.Rc),P=Math.floor(e.Qc/this.we.Rc),O=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(O)var R=O.width/this.we.Rc,M=O.height/this.we.Sc,B=(C=O.x+S*R)+R,N=(T=O.y+O.height-P*M)-M;else B=(C=S*(R=1/this.we.Rc))+R,N=(T=1-P*(M=1/this.we.Sc))-M;if(s.texCoords[0]=[C,N],c.texCoords[0]=[C,T],a.texCoords[0]=[B,T],h.texCoords[0]=[B,N],r.beforeQuad&&r.beforeQuad(this.we.renderStyleIndex),r.pushVertex(s),r.pushVertex(c),r.pushVertex(a),r.pushVertex(h),r.__lastRenderCall){var I=r.__lastRenderCall;I.renderStyleIndex==this.we.renderStyleIndex?I.numIndices+=6:(r.pushRenderCall(I),r.__lastRenderCall=new t.RenderCall(I.startIndex+I.numIndices,6,this.we.renderStyleIndex))}else r.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,i,n,o,r)},ue:function(e,i,n,o){switch(this.Bd.Vc){case 0:for(var r=0;r<this.Bd.tc.length;++r)this.qe(this.Bd.tc[r],e,i,n,o);break;case 1:for(r=this.Bd.tc.length;r-- >0;)this.qe(this.Bd.tc[r],e,i,n,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(n,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,i,n,o)},this)}}};var o=function e(i,n,o){var r=this;function s(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,r.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,r.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=i,this.we=n,s.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){r.we.Pb(e,r,this);var s=r.Rb,c=i.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=d,s+=d,c+=d,null!=this.Hb&&s>this.Hb){r.disactivate();break}r.Rb=s,i.Rb=c,n&&e>0&&t.ab(r.Ab,n,r.Bb,a/e),o&&e>0&&t.slerpq(r.Mc,o,r.prevRotation,a/e),this.Lb=this.Jb;for(var f=0;f<this.Jb&&0!=r.sc.length;++f){1==this.Jb?this.Kb=0:this.Kb=f/(this.Jb-1);var l=r.sc.pop();r.tc.unshift(l),0==f?l.Yb():l.Zb(),l.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){r.disactivate();break}}this.Ob=u}return s+=a,r.Rb=s,n&&t.T(r.Ab,n),o&&t.U(r.Mc,o),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){r.we.Pb(e,r,this);var s=r.Rb,c=s+e,a=i.Rb,h=a+e,u=n?t.O(t.h(n,r.Bb)):0,d=0;if(u>1e-6){for(var f=u/this.rd,l=this.bc+f,p=f<.001?1-this.bc:(1-this.bc)/f,_=[];l>1;){var b=s+p*e;n&&t.ab(_,r.Bb,n,p),r.Rb=b,t.T(r.Ab,_),i.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var v=0;v<this.Jb&&0!=r.sc.length;++v){1==this.Jb?this.Kb=0:this.Kb=v/(this.Jb-1);var y=r.sc.pop();r.tc.unshift(y),0==v?y.Yb():y.Zb(),y.Id(e*(1-p)),++d}p+=1/f,l-=1}this.bc=l}return r.Rb=c,n&&t.T(r.Ab,n),o&&t.U(r.Mc,o),d}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){r.we.fd(r,this),this.nc()},Zb:function(){r.we.gd(r,this),this.nc()},Id:function(t){r.we.qc(t,r,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,n){this.Kc.push({Bd:new e(i,t,o),Ad:n})},vc:function(t,e,i){for(var n=0;n<this.Kc.length;++n){var o=this.Kc[n];e==o.Ad.xc&&o.Bd.Hd(t,i)}},Ce:function(t,e,i,n,o){for(var r=0;r<this.Kc.length;++r){var s=this.Kc[r];t==s.Ad.xc&&s.Bd.ue(e,i,n,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return r.we.Cc(r,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new s},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new a,f=0;f<this.Yc.length;++f){var l=this.Yc[f];d.uc(l.Db,l.Ad)}this.sc.push(d)}this.Nb=function(e,i){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,i||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,i,n){if(this.paused_)this.Td(i,n);else{if(this.wd=this.Rb,i)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,i,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var r;n&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?r=this.vd.Id(e,i,n):(i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),r=0,this.Rb+=e);for(var s=r;s<this.tc.length;){var c=this.tc[s];if(c.oc){if(c.rc(e),this.xd(s))continue}else if(c.Id(e),this.Wc.Ac(this.tc[s])&&(c.wc(),this.xd(s)))continue;++s}}},o.prototype.xd=function(t){for(var e=this.tc[t],i=!0,n=0;n<e.Kc.length;++n){var o=e.Kc[n].Bd;if(o.activated()||o.tc.length>0){i=!1;break}}return!!i&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,i,n){this.construct.ue(t,e,i,n)},o.prototype.Td=function(e,i){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),i&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,i))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var r=function(){this._init=function(e,i,n,r,s){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,r);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,i){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,i||[0,0,0,1])},this.Nb(i,n),this.model.qd(this),this._presimNeeded=!0,s.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),s.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,i,n,this.presimFrameTime),this._presimNeeded=!1)}};r.prototype.restart=function(t,e,i){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var n=0;n<this.od.length;++n)this.od[n].Jd(this.Ab,this.Mc);this._presimNeeded=!0,i&&i.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),i&&i.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},r.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},r.prototype.update=function(t,e,i){this.Dd>0?this.updateFixed(t,e,i,this.Dd):this.updateFlex(t,e,i)},r.prototype.updateFixed=function(e,i,n,o){var r=0,s=[];t.T(s,this.Ab);var c=[];for(t.U(c,this.Mc),i&&t.equalv3_(i,this.Ab)&&(i=null),n&&t.equalq_(n,this.Mc)&&(n=null);e-r+this.Cd>=o;){var a=this.Rb;i&&t.ab(s,this.Ab,i,r/e),n&&t.slerpq(c,this.Mc,n,r/e);for(var h=0;h<this.od.length;++h)this.od[h].Id(o,s,c),this.Rb=a;r+=o-this.Cd,this.Cd=0,this.Rb=a+o}i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),this.Cd+=e-r},r.prototype.updateFlex=function(e,i,n){for(var o=this.Rb,r=0;r<this.od.length;++r)this.od[r].Id(e,i,n),this.Rb=o;this.Rb=o+e,i&&t.T(this.Ab,i),n&&t.U(this.Mc,n)},r.prototype.resetPosition=function(e,i){e&&t.T(this.Ab,e),i&&t.U(this.Mc,i);for(var n=0;n<this.od.length;++n)this.od[n].Td(this.Ab,this.Mc)},r.prototype.setPropertyInAllEmitters=function(e,i){var n="_".concat(e);if(i instanceof Array)if(2==i.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][n],i);else for(o=0;o<this.od.length;++o)t.T(this.od[o][n],i);else for(o=0;o<this.od.length;++o)this.od[o][n]=i},r.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},r.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},r.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},r.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},r.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},r.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},r.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var s=function t(){this._init=function(e,i,o,r,s){t.prototype._init.call(this,e,i,o,n,s),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=r,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(s.prototype=new r).fillGeometryBuffers=function(t,e,i){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(n){n.ue(t,e,i,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,n,o,r){t.prototype._init.call(this,e,n,o,i,r),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var i,n,o,r,s,c,a,h,u,d,f,l,p,_,b=[],v=[],y=[],g=[],m=[],x=[],w=[],A=[],C=[],T=[],S=[],P=[],O=[],R=[],M=[],B=[];this.pe=[{xe:1,Rc:5,Sc:3,renderStyleIndex:0}],this.name="Stripe_child",this.ud=function(t){t._Rotation=[0,0,0,1],t._Texture=0,t.ed(),t._15=[[[.48177,.934782,.982708,.96819,.923457,.860987,.787211,.706007,.619964,.530944,.440381,.349431,.259076,.170188,.0835716,0,0]]],t._17=[[[1,0,0]]],t._18=[[[0,2.0657,2.78929,3.28572,3.66181,3.95916,4.1992,4.39469,4.55401,4.68298,4.78584,4.86582,4.92541,4.96661,4.99103,5,5]]],t.jd=300,t.Vc=0},this.Mb=function(t){t.rd=1,t.Gb=1,t.Jb=1},this.Pb=function(t,e,i){i.rd=1},this.fd=function(e,i){i.Mc=[],i._=0,t.W(b,0,0,0),i._2=[],t.c(i._2,e.Ab,b),i._3=0,i._4=[],t.U(i._4,e._Rotation),t.randv3gen(v,1,e.Ld.rand),i._6=[],t.T(i._6,v),t.randv3gen(y,10,e.Ld.rand),i._8=[],t.T(i._8,y),t.T(i.Ab,i._2)},this.gd=function(e,i){i.Mc=[],i._=0,t.W(b,0,0,0),i._2=[],t.c(i._2,e.Ab,b),i._3=0,i._4=[],t.U(i._4,e._Rotation),t.randv3gen(v,1,e.Ld.rand),i._6=[],t.T(i._6,v),t.randv3gen(y,10,e.Ld.rand),i._8=[],t.T(i._8,y),t.T(i.Ab,i._2)},this.qc=function(b,v,y){for(y._+=b,t.W(g,0,50,0),t.T(m,g),t.T(x,[0,0,0]),n=b,t.T(C,y._8),t.T(T,y._2);n>1e-4;)o=n,t.T(S,m),t.g(w,x,C),(i=t.P(w))>1e-4&&(i=Math.sqrt(i),t.w(A,w,i),(r=.01*i)*o>.2&&(o=.2/r),t.c(S,S,t.v(A,i*r))),t.c(C,C,t.v(S,o)),t.c(T,T,t.v(C,o)),n-=o;t.T(y._2,T),t.T(y._8,C),t.T(y.Ab,y._2),t.Q(O,y._6),t.qb(P,O,y._3),s=1,c=y._/s,h=c<0?0:c>1?1:c,t.V(R,0,15*(h-0)),a=e.nb(v._15[0][R[0]],R[1]),u=7*a,f=c<0?0:c>1?1:c,t.V(M,0,1*(f-0)),d=e.nb(v._17[0][M[0]],M[1]),p=c<0?0:c>1?0+(c-0)%1:c,t.V(B,0,15*(p-0)),l=e.nb(v._18[0][B[0]],B[1]),_=5*v._Texture+l,t.S(y.Pd,[.5,.5]),t.U(y.Mc,P),t.V(y.Nd,u,u),t.T(y.gf,[1,1,1]),y.Od=d,y.Qc=_<0?0:_>=15?14:_},this.Cc=function(t,e){return s=1,e._>s}}function h(){var i,n,o,r,s,c,h,u=[],d=[],f=[],l=[],p=[],_=[],b=[],v=[],y=[],g=[],m=[],x=[],w=[],A=[],C=[];this.pe=[],this.name="Stripe_parent",this.ud=function(t){t._Texture=0,t.dd(),t.uc(new a,{xc:1,sd:!1}),t._8=[[[0,.0314964,.136246,.328507,.59644,.890682,1.16035,1.38407,1.56152,1.69908,1.80373,1.88132,1.93649,1.97287,1.9933,2,2]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=.94,t.Jb=60,t.Ib=1},this.Pb=function(t,e,i){i.zb=5},this.fd=function(e,n){n._=0,t.W(u,0,-0,0),n._2=[],t.rb(n._2,u,e.Mc),t.c(n._2,e.Ab,n._2),i=0+5*e.Ld.rand(),n._4=i,t.randv3gen(d,1e3,e.Ld.rand),n._6=[],t.rb(n._6,d,e.Mc),t.c(n._6,e.ad,n._6),t.T(n.Ab,n._2),t.Q(_,[0,0,1]),t.I(l,n._6,_),t.Q(l,l),t.I(p,_,l),t.pb(f,l,p,_),n.pc(0)._Rotation=f,n.pc(0)._Texture=e._Texture},this.gd=function(e,n){n._=0,t.W(u,0,-0,0),n._2=[],t.rb(n._2,u,e.Mc),t.c(n._2,e.Ab,n._2),i=0+5*e.Ld.rand(),n._4=i,t.randv3gen(d,1e3,e.Ld.rand),n._6=[],t.rb(n._6,d,e.Mc),t.c(n._6,e.ad,n._6),t.T(n.Ab,n._2),t.Q(_,[0,0,1]),t.I(l,n._6,_),t.Q(l,l),t.I(p,_,l),t.pb(f,l,p,_),n.pc(0)._Rotation=f,n.pc(0)._Texture=e._Texture},this.qc=function(i,a,u){for(u._+=i,o=a.Rb<0?0:a.Rb>1?1:a.Rb,t.V(b,0,15*(o-0)),n=e.nb(a._8[0][b[0]],b[1]),t.W(v,0,100,0),t.T(y,v),t.T(g,[0,0,0]),s=i,t.T(w,u._6),t.T(A,u._2);s>1e-4;)c=s,t.T(C,y),t.g(m,g,w),(r=t.P(m))>1e-4&&(r=Math.sqrt(r),t.w(x,m,r),(h=.01*n*r)*c>.2&&(c=.2/h),t.c(C,C,t.v(x,r*h))),t.c(w,w,t.v(C,c)),t.c(A,A,t.v(w,c)),s-=c;t.T(u._2,A),t.T(u._6,w),t.T(u.Ab,u._2),t.Q(_,[0,0,1]),t.I(l,u._6,_),t.Q(l,l),t.I(p,_,l),t.pb(f,l,p,_),u.pc(0)._Rotation=f,u.pc(0)._Texture=a._Texture},this.Cc=function(t,e){return e._>1}}function u(){var i,n,o,r,s,c,a,h,u,d,f,l,p=[],_=[],b=[],v=[],y=[];this.pe=[{xe:0,Rc:2,Sc:3,renderStyleIndex:1}],this.name="Sparks",this.ud=function(t){t._Texture=0,t._=[[[0,0,0],[2,2,2]]],t.dd(),t._17=[[[0,.149709,.460975,.803237,1.08303,1.29919,1.46717,1.59926,1.7039,1.7869,1.85236,1.90328,1.94194,1.97007,1.98906,2,2],[2,1.66994,1.37363,1.11535,.895215,.710443,.556908,.430206,.326245,.241465,.172875,.118,.0748067,.0416215,.0170665,0,0],[0,.822571,.822571],[.822571,.230368,.230368],[.230368,.7,.7],[.7,0,0],[0,.6,.6],[.6,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=1,t.Jb=100,t.Ib=1},this.Pb=function(o,r,s){(n=r.Rb<0?0:r.Rb>2?2:r.Rb)<.9?t.V(p,0,1.11111*(n-0)):t.V(p,1,.909091*(n-.9)),i=e.nb(r._[0][p[0]],p[1]),s.zb=i},this.fd=function(e,i){i._1=0,t.randv3gen(_,300,e.Ld.rand),i._3=[],t.rb(i._3,_,e.Mc),t.c(i._3,e.Ab,i._3),o=0+360*e.Ld.rand(),i._5=o,r=0+2*e.Ld.rand(),i._7=r,s=20+20*e.Ld.rand(),i._9=s,c=1.5+1.5*e.Ld.rand(),i._11=c,t.W(b,0,20,0),i._13=[],t.rb(i._13,b,e.Mc),t.c(i._13,e.ad,i._13),t.T(i.Ab,i._3)},this.gd=function(e,i){i._1=0,t.randv3gen(_,300,e.Ld.rand),i._3=[],t.rb(i._3,_,e.Mc),t.c(i._3,e.Ab,i._3),o=0+360*e.Ld.rand(),i._5=o,r=0+2*e.Ld.rand(),i._7=r,s=20+20*e.Ld.rand(),i._9=s,c=1.5+1.5*e.Ld.rand(),i._11=c,t.W(b,0,20,0),i._13=[],t.rb(i._13,b,e.Mc),t.c(i._13,e.ad,i._13),t.T(i.Ab,i._3)},this.qc=function(i,n,o){o._1+=i,t.T(v,o._13),t.u(v,v,i),t.c(v,v,o._3),t.T(o._3,v),a=o._5+90*i,o._5=a,t.T(o.Ab,o._3),h=o._1/o._11,(d=h<0?0:h>1?1:h)<.744689?d<.6?d<.0577704?t.V(y,0,259.648*(d-0)):t.V(y,1,27.6636*(d-.0577704)):d<.631187?t.V(y,2,32.0646*(d-.6)):t.V(y,3,8.81045*(d-.631187)):d<.9?d<.772?t.V(y,4,36.6147*(d-.744689)):t.V(y,5,7.8125*(d-.772)):d<.942044?t.V(y,6,23.7848*(d-.9)):t.V(y,7,17.2544*(d-.942044)),u=e.nb(n._17[0][y[0]],y[1]),f=o._9*u,l=2*n._Texture+o._7,t.S(o.Pd,[.5,.5]),o.Md=o._5,t.V(o.Nd,f,f),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=l<0?0:l>=6?5:l},this.Cc=function(t,e){return e._1>e._11}}function d(){var i,n,o,r,s,c=[],a=[];this.pe=[{xe:0,Rc:5,Sc:3,renderStyleIndex:0}],this.name="Splash",this.ud=function(t){t.dd(),t._7=[[[0,1,1],[1,.990835,.969351,.938093,.898586,.851781,.798265,.738368,.672217,.599762,.520766,.43479,.341128,.238703,.125869,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=1,t.Jb=1,t.Ib=1},this.Pb=function(t,e,i){i.zb=5},this.fd=function(e,i){i._=0,t.W(c,0,0,0),i._2=[],t.rb(i._2,c,e.Mc),t.c(i._2,e.Ab,i._2),i._3=0,t.T(i.Ab,i._2)},this.gd=function(e,i){i._=0,t.W(c,0,0,0),i._2=[],t.rb(i._2,c,e.Mc),t.c(i._2,e.Ab,i._2),i._3=0,t.T(i.Ab,i._2)},this.qc=function(c,h,u){u._+=c,t.T(u.Ab,u._2),i=.3,n=u._/i,(r=n<0?0:n>1?1:n)<.1?t.V(a,0,10*(r-0)):t.V(a,1,16.6667*(r-.1)),o=e.nb(h._7[0][a[0]],a[1]),s=300*o,t.S(u.Pd,[.5,.5]),u.Md=u._3,t.V(u.Nd,s,s),t.T(u.gf,[1,1,1]),u.Od=1,u.Qc=0},this.Cc=function(t,e){return i=.3,e._>i}}function f(){var i,n,o,r,s,c,a,f,l,p=[],_=[],b=[],v=[],y=[],g=[],m=[],x=[];this.pe=[],this.name="Fireworks_parent",this.ud=function(t){t._=[[[1.47301,1.47301,1.47301],[0,0,0]]],t.dd(),t._3=[[[-383.168,98.272],[-383.168,-101.728],[-383.168,-101.728]]],t._4=[[[405.632,91.36],[405.632,-108.64],[405.632,-108.64]]],t._11=[[[0,0,0],[1,1,1],[2,2,2]]],t.uc(new h,{xc:1,sd:!1}),t.uc(new u,{xc:1,sd:!1}),t.uc(new d,{xc:1,sd:!1}),t.jd=3,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=1,t.Jb=1},this.Pb=function(o,r,s){(n=r.Ld.Rb<0?0:r.Ld.Rb>5.99432?0+(r.Ld.Rb-0)%5.99432:r.Ld.Rb)<1.50077?t.V(p,0,.666323*(n-0)):t.V(p,1,.222541*(n-1.50077)),i=e.nb(r._[0][p[0]],p[1]),s.zb=i},this.fd=function(i,n){n._1=0,o=0+1*i.Ld.rand(),r=e.kb(o),t.V(b,0,1*(r-0)),e.lb(_,i._3[b[0]],b[1]),s=e.kb(o),t.V(y,0,1*(s-0)),e.lb(v,i._4[y[0]],y[1]),c=0+1*i.Ld.rand(),t.Y(g,_,v,c),t.W(m,g[0],g[1],0),n._8=[],t.rb(n._8,m,i.Mc),t.c(n._8,i.Ab,n._8),n._9=0,a=0+1*i.Ld.rand(),(l=a<0?0:a>1?1:a)<.710626?l<.388302?t.V(x,0,2.57531*(l-0)):t.V(x,1,3.10247*(l-.388302)):t.V(x,2,3.45573*(l-.710626)),f=e.nb(i._11[0][x[0]],x[1]),n._12=f,t.T(n.Ab,n._8),n.pc(0)._Texture=n._12,n.pc(1)._Texture=n._12},this.gd=function(i,n){n._1=0,o=0+1*i.Ld.rand(),r=e.kb(o),t.V(b,0,1*(r-0)),e.lb(_,i._3[b[0]],b[1]),s=e.kb(o),t.V(y,0,1*(s-0)),e.lb(v,i._4[y[0]],y[1]),c=0+1*i.Ld.rand(),t.Y(g,_,v,c),t.W(m,g[0],g[1],0),n._8=[],t.rb(n._8,m,i.Mc),t.c(n._8,i.Ab,n._8),n._9=0,a=0+1*i.Ld.rand(),(l=a<0?0:a>1?1:a)<.710626?l<.388302?t.V(x,0,2.57531*(l-0)):t.V(x,1,3.10247*(l-.388302)):t.V(x,2,3.45573*(l-.710626)),f=e.nb(i._11[0][x[0]],x[1]),n._12=f,t.T(n.Ab,n._8),n.pc(0)._Texture=n._12,n.pc(1)._Texture=n._12},this.qc=function(e,i,n){n._1+=e,t.T(n.Ab,n._8),n.pc(0)._Texture=n._12,n.pc(1)._Texture=n._12},this.Cc=function(t,e){return e._1>2}}(c.prototype=new r).draw=function(t,e){for(var i=0;i<this.od.length;++i)this.od[i].Hd(t,e)},this.createWGLInstance=function(t,e,i,n){var o=new s;return o._init(this,t,e,i,n||{}),o},this.createCanvas2DInstance=function(t,e,i){var n=new c;return n._init(this,t,e,i||{}),n},this.textures=["fx/fireworks/sparks5x3_long.png","fx/fireworks/sparks2x3_violet.png"],this.materials=[1,0],this.renderStyles=[{materialIndex:0,textureIndices:[0]},{materialIndex:1,textureIndices:[1]}],this.Xe=90600,this.qd=function(t){t.Dd=.0333333,t.Ud=0,t.presimFrameTime=.1,t.rand=function(){return Math.random()},t.pd(new f)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,i,n){var o=Math.floor(n),r=n-o;t.Y(e,i[o],i[o+1],r)},this.nb=function(e,i){var n=Math.floor(i),o=n+1;return t.X(e[n],e[o],i-n)}}}),cc._RF.pop()},{}],Fireworks02:[function(t,e,i){"use strict";cc._RF.push(e,"08769ZLqc9Nu6D6l7xZB5mo","Fireworks02"),function(t,n){if("object"==typeof i&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Fireworks02=n()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Fireworks02=n()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,i=function t(e,i){this.Ld=e,this.Bd=i,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};i.prototype={Ec:function(e,i,n){var o=t.ib(n.Md),r=Math.cos(o),s=Math.sin(o),c=t.Ae(n.Nd[0]),a=t.Ae(n.Nd[1]);e.transform(c*r,c*s,a*-s,a*r,i[0],i[1])},Fc:function(e,i,n){var o=n.Mc,r=2*o[2]*o[2],s=2*o[0]*o[1],c=2*o[3]*o[2],a=t.Ae(n.Nd[0]),h=t.Ae(n.Nd[1]);e.transform(a*(1-2*o[1]*o[1]-r),a*(s+c),h*(c-s),h*(2*o[0]*o[0]+r-1),i[0],i[1])},Pc:function(e,i,n){if(i.vc(e,-1,n),this.we&&null!=this.Be&&!i.oc&&i.Od>.001){var o=Math.floor(i.Qc%this.we.Rc),r=Math.floor(i.Qc/this.we.Rc),s=i.Ab.slice(),c=i.Nd.slice();if(!n||n.transform(s,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,s,i),e.translate(-a*i.Pd[0],-h*(1-i.Pd[1])),e.globalAlpha*=i.Od,i.gf[0]<.999||i.gf[1]<.999||i.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(i.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,a,h);e.restore()}}}i.vc(e,1,n)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e);break;case 1:for(i=this.Bd.tc.length;i-- >0;)this.Pc(t,this.Bd.tc[i],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e)}t.restore()}};var n=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};n.prototype={qe:function(e,i,n,o,r){if(e.Ce(-1,i,n,o,r),this.we&&!e.oc){var s=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var f=t.ib(e.Md),l=-Math.sin(f),p=Math.cos(f);u[0]=i[0]*p+n[0]*l,u[1]=i[1]*p+n[1]*l,u[2]=i[2]*p+n[2]*l,d[0]=-i[0]*l+n[0]*p,d[1]=-i[1]*l+n[1]*p,d[2]=-i[2]*l+n[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],v=2*_[0]*_[1],y=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=v+y,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=v-y,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var g=[],m=[],x=[],w=[];t.u(g,u,-e.Nd[0]*e.Pd[0]),t.u(m,u,e.Nd[0]*(1-e.Pd[0])),t.u(x,d,-e.Nd[1]*e.Pd[1]),t.u(w,d,e.Nd[1]*(1-e.Pd[1])),t.c(s.position,g,x),t.c(s.position,s.position,e.Ab),t.c(c.position,g,w),t.c(c.position,c.position,e.Ab),t.c(a.position,m,w),t.c(a.position,a.position,e.Ab),t.c(h.position,m,x),t.c(h.position,h.position,e.Ab);var A=t.v(e.gf,255);s.color=c.color=a.color=h.color=[A[0],A[1],A[2],255*e.Od];var C,T,S=Math.floor(e.Qc%this.we.Rc),P=Math.floor(e.Qc/this.we.Rc),O=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(O)var R=O.width/this.we.Rc,M=O.height/this.we.Sc,B=(C=O.x+S*R)+R,N=(T=O.y+O.height-P*M)-M;else B=(C=S*(R=1/this.we.Rc))+R,N=(T=1-P*(M=1/this.we.Sc))-M;if(s.texCoords[0]=[C,N],c.texCoords[0]=[C,T],a.texCoords[0]=[B,T],h.texCoords[0]=[B,N],r.beforeQuad&&r.beforeQuad(this.we.renderStyleIndex),r.pushVertex(s),r.pushVertex(c),r.pushVertex(a),r.pushVertex(h),r.__lastRenderCall){var I=r.__lastRenderCall;I.renderStyleIndex==this.we.renderStyleIndex?I.numIndices+=6:(r.pushRenderCall(I),r.__lastRenderCall=new t.RenderCall(I.startIndex+I.numIndices,6,this.we.renderStyleIndex))}else r.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,i,n,o,r)},ue:function(e,i,n,o){switch(this.Bd.Vc){case 0:for(var r=0;r<this.Bd.tc.length;++r)this.qe(this.Bd.tc[r],e,i,n,o);break;case 1:for(r=this.Bd.tc.length;r-- >0;)this.qe(this.Bd.tc[r],e,i,n,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(n,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,i,n,o)},this)}}};var o=function e(i,n,o){var r=this;function s(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,r.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,r.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=i,this.we=n,s.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){r.we.Pb(e,r,this);var s=r.Rb,c=i.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=d,s+=d,c+=d,null!=this.Hb&&s>this.Hb){r.disactivate();break}r.Rb=s,i.Rb=c,n&&e>0&&t.ab(r.Ab,n,r.Bb,a/e),o&&e>0&&t.slerpq(r.Mc,o,r.prevRotation,a/e),this.Lb=this.Jb;for(var f=0;f<this.Jb&&0!=r.sc.length;++f){1==this.Jb?this.Kb=0:this.Kb=f/(this.Jb-1);var l=r.sc.pop();r.tc.unshift(l),0==f?l.Yb():l.Zb(),l.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){r.disactivate();break}}this.Ob=u}return s+=a,r.Rb=s,n&&t.T(r.Ab,n),o&&t.U(r.Mc,o),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){r.we.Pb(e,r,this);var s=r.Rb,c=s+e,a=i.Rb,h=a+e,u=n?t.O(t.h(n,r.Bb)):0,d=0;if(u>1e-6){for(var f=u/this.rd,l=this.bc+f,p=f<.001?1-this.bc:(1-this.bc)/f,_=[];l>1;){var b=s+p*e;n&&t.ab(_,r.Bb,n,p),r.Rb=b,t.T(r.Ab,_),i.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var v=0;v<this.Jb&&0!=r.sc.length;++v){1==this.Jb?this.Kb=0:this.Kb=v/(this.Jb-1);var y=r.sc.pop();r.tc.unshift(y),0==v?y.Yb():y.Zb(),y.Id(e*(1-p)),++d}p+=1/f,l-=1}this.bc=l}return r.Rb=c,n&&t.T(r.Ab,n),o&&t.U(r.Mc,o),d}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){r.we.fd(r,this),this.nc()},Zb:function(){r.we.gd(r,this),this.nc()},Id:function(t){r.we.qc(t,r,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,n){this.Kc.push({Bd:new e(i,t,o),Ad:n})},vc:function(t,e,i){for(var n=0;n<this.Kc.length;++n){var o=this.Kc[n];e==o.Ad.xc&&o.Bd.Hd(t,i)}},Ce:function(t,e,i,n,o){for(var r=0;r<this.Kc.length;++r){var s=this.Kc[r];t==s.Ad.xc&&s.Bd.ue(e,i,n,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return r.we.Cc(r,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new s},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new a,f=0;f<this.Yc.length;++f){var l=this.Yc[f];d.uc(l.Db,l.Ad)}this.sc.push(d)}this.Nb=function(e,i){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,i||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,i,n){if(this.paused_)this.Td(i,n);else{if(this.wd=this.Rb,i)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,i,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var r;n&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?r=this.vd.Id(e,i,n):(i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),r=0,this.Rb+=e);for(var s=r;s<this.tc.length;){var c=this.tc[s];if(c.oc){if(c.rc(e),this.xd(s))continue}else if(c.Id(e),this.Wc.Ac(this.tc[s])&&(c.wc(),this.xd(s)))continue;++s}}},o.prototype.xd=function(t){for(var e=this.tc[t],i=!0,n=0;n<e.Kc.length;++n){var o=e.Kc[n].Bd;if(o.activated()||o.tc.length>0){i=!1;break}}return!!i&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,i,n){this.construct.ue(t,e,i,n)},o.prototype.Td=function(e,i){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),i&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,i))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var r=function(){this._init=function(e,i,n,r,s){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,r);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,i){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,i||[0,0,0,1])},this.Nb(i,n),this.model.qd(this),this._presimNeeded=!0,s.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),s.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,i,n,this.presimFrameTime),this._presimNeeded=!1)}};r.prototype.restart=function(t,e,i){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var n=0;n<this.od.length;++n)this.od[n].Jd(this.Ab,this.Mc);this._presimNeeded=!0,i&&i.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),i&&i.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},r.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},r.prototype.update=function(t,e,i){this.Dd>0?this.updateFixed(t,e,i,this.Dd):this.updateFlex(t,e,i)},r.prototype.updateFixed=function(e,i,n,o){var r=0,s=[];t.T(s,this.Ab);var c=[];for(t.U(c,this.Mc),i&&t.equalv3_(i,this.Ab)&&(i=null),n&&t.equalq_(n,this.Mc)&&(n=null);e-r+this.Cd>=o;){var a=this.Rb;i&&t.ab(s,this.Ab,i,r/e),n&&t.slerpq(c,this.Mc,n,r/e);for(var h=0;h<this.od.length;++h)this.od[h].Id(o,s,c),this.Rb=a;r+=o-this.Cd,this.Cd=0,this.Rb=a+o}i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),this.Cd+=e-r},r.prototype.updateFlex=function(e,i,n){for(var o=this.Rb,r=0;r<this.od.length;++r)this.od[r].Id(e,i,n),this.Rb=o;this.Rb=o+e,i&&t.T(this.Ab,i),n&&t.U(this.Mc,n)},r.prototype.resetPosition=function(e,i){e&&t.T(this.Ab,e),i&&t.U(this.Mc,i);for(var n=0;n<this.od.length;++n)this.od[n].Td(this.Ab,this.Mc)},r.prototype.setPropertyInAllEmitters=function(e,i){var n="_".concat(e);if(i instanceof Array)if(2==i.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][n],i);else for(o=0;o<this.od.length;++o)t.T(this.od[o][n],i);else for(o=0;o<this.od.length;++o)this.od[o][n]=i},r.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},r.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},r.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},r.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},r.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},r.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},r.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var s=function t(){this._init=function(e,i,o,r,s){t.prototype._init.call(this,e,i,o,n,s),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=r,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(s.prototype=new r).fillGeometryBuffers=function(t,e,i){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(n){n.ue(t,e,i,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,n,o,r){t.prototype._init.call(this,e,n,o,i,r),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var i,n,o,r,s,c,a,h,u,d,f,l,p,_,b=[],v=[],y=[],g=[],m=[],x=[],w=[],A=[],C=[],T=[],S=[],P=[],O=[],R=[],M=[],B=[];this.pe=[{xe:1,Rc:5,Sc:3,renderStyleIndex:0}],this.name="Stripe_child",this.ud=function(t){t._Rotation=[0,0,0,1],t._Texture=0,t.ed(),t._15=[[[.48177,.934782,.982708,.96819,.923457,.860987,.787211,.706007,.619964,.530944,.440381,.349431,.259076,.170188,.0835716,0,0]]],t._17=[[[1,1,1],[1,0,0]]],t._18=[[[5,4.99872,4.99458,4.98671,4.97402,4.95508,4.92796,4.89001,4.83749,4.76485,4.66351,4.5192,4.30565,3.96616,3.3344,0,0]]],t.jd=300,t.Vc=0},this.Mb=function(t){t.rd=2,t.Gb=1,t.Jb=1},this.Pb=function(t,e,i){i.rd=2},this.fd=function(e,i){i.Mc=[],i._=0,t.W(b,0,0,0),i._2=[],t.c(i._2,e.Ab,b),i._3=0,i._4=[],t.U(i._4,e._Rotation),t.randv3gen(v,1,e.Ld.rand),i._6=[],t.T(i._6,v),t.randv3gen(y,10,e.Ld.rand),i._8=[],t.T(i._8,y),t.T(i.Ab,i._2)},this.gd=function(e,i){i.Mc=[],i._=0,t.W(b,0,0,0),i._2=[],t.c(i._2,e.Ab,b),i._3=0,i._4=[],t.U(i._4,e._Rotation),t.randv3gen(v,1,e.Ld.rand),i._6=[],t.T(i._6,v),t.randv3gen(y,10,e.Ld.rand),i._8=[],t.T(i._8,y),t.T(i.Ab,i._2)},this.qc=function(b,v,y){for(y._+=b,t.W(g,0,50,0),t.T(m,g),t.T(x,[0,0,0]),n=b,t.T(C,y._8),t.T(T,y._2);n>1e-4;)o=n,t.T(S,m),t.g(w,x,C),(i=t.P(w))>1e-4&&(i=Math.sqrt(i),t.w(A,w,i),(r=.01*i)*o>.2&&(o=.2/r),t.c(S,S,t.v(A,i*r))),t.c(C,C,t.v(S,o)),t.c(T,T,t.v(C,o)),n-=o;t.T(y._2,T),t.T(y._8,C),t.T(y.Ab,y._2),t.Q(O,y._6),t.qb(P,O,y._3),s=1,c=y._/s,h=c<0?0:c>1?1:c,t.V(R,0,15*(h-0)),a=e.nb(v._15[0][R[0]],R[1]),u=7*a,(f=c<0?0:c>1?1:c)<.7?t.V(M,0,1.42857*(f-0)):t.V(M,1,3.33333*(f-.7)),d=e.nb(v._17[0][M[0]],M[1]),p=c<0?0:c>1?0+(c-0)%1:c,t.V(B,0,15*(p-0)),l=e.nb(v._18[0][B[0]],B[1]),_=5*v._Texture+l,t.S(y.Pd,[.5,.5]),t.U(y.Mc,P),t.V(y.Nd,u,u),t.T(y.gf,[1,1,1]),y.Od=d,y.Qc=_<0?0:_>=15?14:_},this.Cc=function(t,e){return s=1,e._>s}}function h(){var i,n,o,r,s,c,h,u,d,f=[],l=[],p=[],_=[],b=[],v=[],y=[],g=[],m=[],x=[],w=[],A=[],C=[],T=[],S=[],P=[];this.pe=[],this.name="Stripe_parent",this.ud=function(t){t._Texture=0,t._=[[[0,0,0],[5,5,5]]],t.dd(),t.uc(new a,{xc:1,sd:!1}),t._9=[[[0,.201485,.578107,1.01262,1.40576,1.70529,1.89569,1.97991,1.96774,1.87042,1.69852,1.46129,1.16666,.821281,.430806,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=.94,t.Jb=50,t.Ib=1},this.Pb=function(o,r,s){(n=r.Rb<0?0:r.Rb>1?1:r.Rb)<.14741?t.V(f,0,6.78378*(n-0)):t.V(f,1,1.1729*(n-.14741)),i=e.nb(r._[0][f[0]],f[1]),s.zb=i},this.fd=function(e,i){i._1=0,t.W(l,0,0,0),i._3=[],t.rb(i._3,l,e.Mc),t.c(i._3,e.Ab,i._3),o=0+5*e.Ld.rand(),i._5=o,t.randv3gen(p,1e3,e.Ld.rand),i._7=[],t.rb(i._7,p,e.Mc),t.c(i._7,e.ad,i._7),t.T(i.Ab,i._3),t.Q(y,[0,0,1]),t.I(b,i._7,y),t.Q(b,b),t.I(v,y,b),t.pb(_,b,v,y),i.pc(0)._Rotation=_,i.pc(0)._Texture=e._Texture},this.gd=function(e,i){i._1=0,t.W(l,0,0,0),i._3=[],t.rb(i._3,l,e.Mc),t.c(i._3,e.Ab,i._3),o=0+5*e.Ld.rand(),i._5=o,t.randv3gen(p,1e3,e.Ld.rand),i._7=[],t.rb(i._7,p,e.Mc),t.c(i._7,e.ad,i._7),t.T(i.Ab,i._3),t.Q(y,[0,0,1]),t.I(b,i._7,y),t.Q(b,b),t.I(v,y,b),t.pb(_,b,v,y),i.pc(0)._Rotation=_,i.pc(0)._Texture=e._Texture},this.qc=function(i,n,o){for(o._1+=i,s=n.Rb<0?0:n.Rb>1?1:n.Rb,t.V(g,0,15*(s-0)),r=e.nb(n._9[0][g[0]],g[1]),t.W(m,0,100,0),t.T(x,m),t.T(w,[0,0,0]),h=i,t.T(T,o._7),t.T(S,o._3);h>1e-4;)u=h,t.T(P,x),t.g(A,w,T),(c=t.P(A))>1e-4&&(c=Math.sqrt(c),t.w(C,A,c),(d=.01*r*c)*u>.2&&(u=.2/d),t.c(P,P,t.v(C,c*d))),t.c(T,T,t.v(P,u)),t.c(S,S,t.v(T,u)),h-=u;t.T(o._3,S),t.T(o._7,T),t.T(o.Ab,o._3),t.Q(y,[0,0,1]),t.I(b,o._7,y),t.Q(b,b),t.I(v,y,b),t.pb(_,b,v,y),o.pc(0)._Rotation=_,o.pc(0)._Texture=n._Texture},this.Cc=function(t,e){return e._1>1.2}}function u(){var i,n,o,r,s,c,a,h=[],u=[],d=[],f=[],l=[],p=[],_=[],b=[];this.pe=[{xe:0,Rc:4,Sc:1,renderStyleIndex:1}],this.name="Sparks",this.ud=function(t){t._Texture=0,t.dd(),t._15=[[[1,0,0],[0,1,1],[1,0,0],[0,.7,.7],[.7,.2,.2],[.2,.838202,.838202],[.838202,.4,.4],[.4,1,1],[1,0,0],[0,.6,.6],[.6,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=1,t.Gb=1,t.Jb=80,t.Ib=1},this.Pb=function(t,e,i){i.zb=1},this.fd=function(e,r){r._=0,t.W(h,0,0,0),r._2=[],t.rb(r._2,h,e.Mc),t.c(r._2,e.Ab,r._2),t.randv3gen(u,100,e.Ld.rand),r._4=[],t.rb(r._4,u,e.Mc),t.c(r._4,e.ad,r._4),r._5=0,i=0+4*e.Ld.rand(),r._7=i,n=10+10*e.Ld.rand(),r._9=n,o=1+1*e.Ld.rand(),r._11=o,t.T(r.Ab,r._2)},this.gd=function(e,r){r._=0,t.W(h,0,0,0),r._2=[],t.rb(r._2,h,e.Mc),t.c(r._2,e.Ab,r._2),t.randv3gen(u,100,e.Ld.rand),r._4=[],t.rb(r._4,u,e.Mc),t.c(r._4,e.ad,r._4),r._5=0,i=0+4*e.Ld.rand(),r._7=i,n=10+10*e.Ld.rand(),r._9=n,o=1+1*e.Ld.rand(),r._11=o,t.T(r.Ab,r._2)},this.qc=function(i,n,o){o._+=i,t.W(d,0,100,0),t.T(f,d),t.T(l,[0,0,0]),t.u(p,f,i),t.c(p,p,o._4),t.u(_,p,i),t.c(_,_,o._2),t.T(o._2,_),t.T(o._4,p),t.T(o.Ab,o._2),r=o._/o._11,(c=r<0?0:r>1?1:r)<.531495?c<.3?c<.16726?c<.1?t.V(b,0,10*(c-0)):t.V(b,1,14.8677*(c-.1)):t.V(b,2,7.53351*(c-.16726)):c<.464218?c<.353203?t.V(b,3,18.796*(c-.3)):t.V(b,4,9.00779*(c-.353203)):t.V(b,5,14.864*(c-.464218)):c<.9?c<.7?c<.641996?t.V(b,6,9.04964*(c-.531495)):t.V(b,7,17.2403*(c-.641996)):t.V(b,8,5*(c-.7)):c<.942044?t.V(b,9,23.7848*(c-.9)):t.V(b,10,17.2544*(c-.942044)),s=e.nb(n._15[0][b[0]],b[1]),a=o._9*s,t.S(o.Pd,[.5,.5]),o.Md=o._5,t.V(o.Nd,a,a),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=o._7<0?0:o._7>=4?3:o._7},this.Cc=function(t,e){return e._>e._11}}function d(){var i,n,o,r,s,c,a,d,f,l=[],p=[],_=[],b=[],v=[],y=[],g=[],m=[];this.pe=[],this.name="Fireworks_parent",this.ud=function(t){t._=[[[1.72379,1.72379,1.72379],[0,0,0]]],t.dd(),t._3=[[[-438,1],[-440,-296],[-440,-296]]],t._4=[[[327,3],[326,-285],[326,-285]]],t._11=[[[0,0,0],[1,1,1],[2,2,2]]],t.uc(new h,{xc:1,sd:!1}),t.uc(new u,{xc:1,sd:!1}),t.jd=3,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=1,t.Jb=1},this.Pb=function(o,r,s){(n=r.Ld.Rb<0?0:r.Ld.Rb>5.99432?0+(r.Ld.Rb-0)%5.99432:r.Ld.Rb)<1.50077?t.V(l,0,.666323*(n-0)):t.V(l,1,.222541*(n-1.50077)),i=e.nb(r._[0][l[0]],l[1]),s.zb=i},this.fd=function(i,n){n._1=0,o=0+1*i.Ld.rand(),r=e.kb(o),t.V(_,0,1*(r-0)),e.lb(p,i._3[_[0]],_[1]),s=e.kb(o),t.V(v,0,1*(s-0)),e.lb(b,i._4[v[0]],v[1]),c=0+1*i.Ld.rand(),t.Y(y,p,b,c),t.W(g,y[0],y[1],0),n._8=[],t.rb(n._8,g,i.Mc),t.c(n._8,i.Ab,n._8),n._9=0,a=0+1*i.Ld.rand(),(f=a<0?0:a>1?1:a)<.710626?f<.388302?t.V(m,0,2.57531*(f-0)):t.V(m,1,3.10247*(f-.388302)):t.V(m,2,3.45573*(f-.710626)),d=e.nb(i._11[0][m[0]],m[1]),n._12=d,t.T(n.Ab,n._8),n.pc(0)._Texture=n._12,n.pc(1)._Texture=n._12},this.gd=function(i,n){n._1=0,o=0+1*i.Ld.rand(),r=e.kb(o),t.V(_,0,1*(r-0)),e.lb(p,i._3[_[0]],_[1]),s=e.kb(o),t.V(v,0,1*(s-0)),e.lb(b,i._4[v[0]],v[1]),c=0+1*i.Ld.rand(),t.Y(y,p,b,c),t.W(g,y[0],y[1],0),n._8=[],t.rb(n._8,g,i.Mc),t.c(n._8,i.Ab,n._8),n._9=0,a=0+1*i.Ld.rand(),(f=a<0?0:a>1?1:a)<.710626?f<.388302?t.V(m,0,2.57531*(f-0)):t.V(m,1,3.10247*(f-.388302)):t.V(m,2,3.45573*(f-.710626)),d=e.nb(i._11[0][m[0]],m[1]),n._12=d,t.T(n.Ab,n._8),n.pc(0)._Texture=n._12,n.pc(1)._Texture=n._12},this.qc=function(e,i,n){n._1+=e,t.T(n.Ab,n._8),n.pc(0)._Texture=n._12,n.pc(1)._Texture=n._12},this.Cc=function(t,e){return e._1>2}}(c.prototype=new r).draw=function(t,e){for(var i=0;i<this.od.length;++i)this.od[i].Hd(t,e)},this.createWGLInstance=function(t,e,i,n){var o=new s;return o._init(this,t,e,i,n||{}),o},this.createCanvas2DInstance=function(t,e,i){var n=new c;return n._init(this,t,e,i||{}),n},this.textures=["fx/fireworks/sparks5x3_long.png","fx/fireworks/stars4x1_white.png"],this.materials=[1,0],this.renderStyles=[{materialIndex:0,textureIndices:[0]},{materialIndex:1,textureIndices:[1]}],this.Xe=90300,this.qd=function(t){t.Dd=.0333333,t.Ud=0,t.presimFrameTime=.1,t.rand=function(){return Math.random()},t.pd(new d)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,i,n){var o=Math.floor(n),r=n-o;t.Y(e,i[o],i[o+1],r)},this.nb=function(e,i){var n=Math.floor(i),o=n+1;return t.X(e[n],e[o],i-n)}}}),cc._RF.pop()},{}],GameController:[function(t,e,i){"use strict";cc._RF.push(e,"dfec3bBGHdHY4ShHxSUTm+E","GameController");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.GameController=void 0;var s=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=cc._decorator,h=a.ccclass,u=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){window.gameReady&&window.gameReady()},e.prototype.installHandle=function(){if(console.log("install"),this.AudioManager.stopAllSound(),s.Constants.ironSource.isEndGame=!0,window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.ANDROID?void mraid.open("https://play.google.com/store/apps/details?id=com.an.savetheeggs.drawtosave"):cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.IPHONE||cc.sys.os==cc.sys.IPAD?void mraid.open("https://itunes.apple.com/us/app/id6477533955?mt=8"):void mraid.open("https://play.google.com/store/apps/details?id=com.an.savetheeggs.drawtosave"):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},r([u(c.default)],e.prototype,"AudioManager",void 0),r([h],e)}(cc.Component);i.GameController=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GameOption:[function(t,e,i){"use strict";cc._RF.push(e,"ccb77OsDvVF6p/wjNW2QnlL","GameOption"),Object.defineProperty(i,"__esModule",{value:!0}),i.GameOption=void 0;var n=cc._decorator,o=(n.ccclass,n.property,{reviveCount:3,showCTA:!1}),r={reviveCount:3,showCTA:!1},s={reviveCount:3,showCTA:!1},c={isPointTouchClearFixArea:!1},a={reviveCount:2,showCTA:!1,isPassLevel28:!1},h=function(){function t(){}return t.currentOption=15,t.Op12=o,t.Op13=r,t.Op14=s,t.Op16=c,t.Op17=a,t}();i.GameOption=h,cc._RF.pop()},{}],GamePlay:[function(t,e,i){"use strict";cc._RF.push(e,"e4962SfSUFOcoqc2Otz+5iQ","GamePlay");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Data/constants"),c=t("../Data/GameOption"),a=t("../Plugin/AudioManager"),h=t("../Plugin/Ultils"),u=t("./GameController"),d=t("./NodesController"),f=cc._decorator,l=f.ccclass,p=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodesController=null,e.AudioManager=null,e.GameController=null,e.graphic=null,e.pathFinding_Grid=null,e.pathFinding_Nodes=[],e.Overlay=null,e.curentPosition=null,e.currentHint=null,e.currentPencil=null,e.curerntPoint=null,e.isHit=!1,e.isHint=!1,e}return o(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0},e.prototype.start=function(){15!==c.GameOption.currentOption&&(this.NodesController.Hint.active=!0,this.NodesController.CTA.active=!1,window.isStartDraw=!1,window.isLoseGame=!1,window.isReplayGame=!1,s.Constants.isWinGame=!1,s.Constants.isHit=!1,s.Constants.isCanTouch=!0,this.handleGamePlay()),15!==c.GameOption.currentOption||s.Constants.isToStore||this.initOp15(),this.AudioManager.playSound(s.Constants.SoundTrack.bgSound),this.AudioManager.bgSound.volume=.6},e.prototype.initOp15=function(){var t=this,e=this,i={registerEvent:function(){e.NodesController.Op15_HatchButton.on(cc.Node.EventType.TOUCH_START,i.op15_1,t)},handleHatchEgg:function(){e.AudioManager.playSound(s.Constants.SoundTrack.hatchEggSound),e.NodesController.Op15_HatchButton.active=!1,e.NodesController.Op15_Egg.getComponent(cc.Animation).play(),e.scheduleOnce(function(){e.NodesController.Op15_FireWork.active=!0,e.AudioManager.playSound(s.Constants.SoundTrack.winSound)},3.5),e.scheduleOnce(function(){i.openNewGamePlay()},5.5)},op15_1:function(){e.GameController.installHandle()},openNewGamePlay:function(){window.isToStore=!0,s.Constants.isToStore=!0,cc.tween(e.Overlay).to(.5,{opacity:255},{easing:cc.easing.smooth}).call(function(){cc.director.loadScene("Op13")}).start()},activeButtonHatchTween:function(){cc.tween(e.NodesController.Op15_HatchButton).repeatForever(cc.tween(e.NodesController.Op15_HatchButton).to(.5,{scale:.45}).to(.5,{scale:.47},{easing:cc.easing.elasticOut})).start()},start:function(){i.registerEvent(),i.activeButtonHatchTween()}};i.start()},e.prototype.handleGamePlay=function(){s.Constants.CharacterPos=this.NodesController.Spine_Character.node.getPosition(),s.Constants.CharacterPos.y=s.Constants.CharacterPos.y+25,this.registerEvent()},e.prototype.registerEvent=function(){},e.prototype.handleIronSourcePlaySound=function(){s.Constants.ironSource.isPlayBgSound||(s.Constants.ironSource.SoundState&&this.AudioManager.playSound(s.Constants.SoundTrack.bgSound),s.Constants.ironSource.isPlayBgSound=!0)},e.prototype.handleMuteSoundIronSource=function(){s.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),s.Constants.ironSource.State&&(1!==s.Constants.ironSource.State||s.Constants.ironSource.SoundState||s.Constants.ironSource.isEndGame||(s.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(s.Constants.SoundTrack.bgSound)),2===s.Constants.ironSource.State&&s.Constants.ironSource.SoundState&&(s.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},e.prototype.characterHit=function(){var t=this;cc.log("hit!!"),window.isReplayGame=!0,this.isHit=!0,this.NodesController.Spine_Character.setAnimation(0,"result_fail",!0),this.AudioManager.playSound(s.Constants.SoundTrack.crySound),this.scheduleOnce(function(){12===c.GameOption.currentOption&&(c.GameOption.Op12.reviveCount=h.Ultils.decreaseRevive(c.GameOption.Op12.reviveCount),cc.log("revive Left: "+c.GameOption.Op12.reviveCount),c.GameOption.Op12.reviveCount>0?t.lose():t.showCTA(!1)),13===c.GameOption.currentOption&&(c.GameOption.Op13.reviveCount=h.Ultils.decreaseRevive(c.GameOption.Op13.reviveCount),cc.log("revive Left: "+c.GameOption.Op13.reviveCount),c.GameOption.Op13.reviveCount>0?t.lose():t.showCTA(!1)),14===c.GameOption.currentOption&&(c.GameOption.Op14.reviveCount=h.Ultils.decreaseRevive(c.GameOption.Op14.reviveCount),cc.log("revive Left: "+c.GameOption.Op14.reviveCount),c.GameOption.Op14.reviveCount>0?t.lose():t.showCTA(!1)),16===c.GameOption.currentOption&&t.showCTA(!1),17===c.GameOption.currentOption&&(c.GameOption.Op17.reviveCount=h.Ultils.decreaseRevive(c.GameOption.Op17.reviveCount),cc.log("revive Left: "+c.GameOption.Op17.reviveCount),c.GameOption.Op17.reviveCount>0?t.lose():t.showCTA(!1))},1.5)},e.prototype.lose=function(){s.Constants.isWinGame||(cc.log("lose!"),s.Constants.isLoseGame=!0,17===c.GameOption.currentOption&&c.GameOption.Op17.isPassLevel28?cc.tween(this.Overlay).to(.5,{opacity:255},{easing:cc.easing.smooth}).call(function(){cc.director.loadScene("Op13")}).start():cc.tween(this.Overlay).to(.5,{opacity:255},{easing:cc.easing.smooth}).call(function(){cc.director.loadScene("Op"+c.GameOption.currentOption)}).start())},e.prototype.winGame=function(){if(!s.Constants.isWinGame){if(cc.log("win!"),this.NodesController.Spine_Character.setAnimation(0,"result_win",!0),14===c.GameOption.currentOption&&!c.GameOption.Op14.showCTA)return this.AudioManager.playSound(s.Constants.SoundTrack.winSound),this.NodesController.PS_Confetti.resetSystem(),c.GameOption.Op14.showCTA=!0,void cc.tween(this.Overlay).to(.5,{opacity:255},{easing:cc.easing.smooth}).call(function(){cc.director.loadScene("Op12")}).start();if(17===c.GameOption.currentOption&&!c.GameOption.Op17.showCTA)return this.AudioManager.playSound(s.Constants.SoundTrack.winSound),this.NodesController.PS_Confetti.resetSystem(),c.GameOption.Op17.isPassLevel28=!0,c.GameOption.Op17.showCTA=!0,void cc.tween(this.Overlay).to(1,{opacity:255},{easing:cc.easing.smooth}).call(function(){cc.director.loadScene("Op13")}).start();s.Constants.isWinGame=!0,this.AudioManager.playSound(s.Constants.SoundTrack.winSound),this.NodesController.PS_Confetti.resetSystem(),this.showCTA(!0)}},e.prototype.showCTA=function(t){this.NodesController.CTA.active||(this.NodesController.CTA.active=!0,this.NodesController.CTA.getComponent(cc.Animation).play(),t?this.NodesController.CTA_PlayNow.active=!0:this.NodesController.CTA_TryAgain.active=!0,cc.tween(this.NodesController.CTA_button).to(.5,{opacity:255}).start(),cc.tween(this.NodesController.CTA_button).repeatForever(cc.tween(this.NodesController.CTA_button).to(.5,{scale:.45}).to(.5,{scale:.5},{easing:cc.easing.elasticOut})).start(),this.NodesController.CTA_button.on(cc.Node.EventType.TOUCH_START,this.GameController.installHandle,this))},e.prototype.unactiveHint=function(){this.isHint=!0,this.NodesController.Hint.active=!1},e.prototype.update=function(){s.Constants.isHit&&!this.isHit&&this.characterHit(),window.isStartDraw&&!this.isHint&&this.unactiveHint(),window.stopDrawSound&&this.AudioManager.stopSound(s.Constants.SoundTrack.drawSound)},r([p(d.default)],e.prototype,"NodesController",void 0),r([p(a.default)],e.prototype,"AudioManager",void 0),r([p(u.GameController)],e.prototype,"GameController",void 0),r([p(cc.Graphics)],e.prototype,"graphic",void 0),r([p(cc.Node)],e.prototype,"Overlay",void 0),r([l],e)}(cc.Component);i.default=_,cc._RF.pop()},{"../Data/GameOption":"GameOption","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","../Plugin/Ultils":"Ultils","./GameController":"GameController","./NodesController":"NodesController"}],GraphicsContro:[function(t,e){"use strict";cc._RF.push(e,"93044ZctVJBYpcfVaP3IJVr","GraphicsContro");var i=t("../Data/StateForJS");cc.Class({extends:cc.Component,properties:{graphics:null,line_point:[cc.Vec2]},onLoad:function(){this.node.width=5e3,this.node.height=5e3,this.graphics=this.getComponent(cc.Graphics),this.currentDrawTime=0},start:function(){window.PointPos=cc.v2(-60,65),this.onTouch()},onTouch:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touch_start,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touch_move,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touch_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touch_end,this)},offTouch:function(){this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_MOVE),this.node.off(cc.Node.EventType.TOUCH_END),this.node.off(cc.Node.EventType.TOUCH_CANCEL)},touch_start:function(t){if(i.StateForJs.isCanDraw&&!i.StateForJs.isToStore){var e=this.node.convertToNodeSpaceAR(t.getLocation());window.isStartDraw=!0,window.PointPos=e,this.graphics.moveTo(e.x,e.y),this.line_point.push(cc.v2(e.x,e.y))}},touch_move:function(t){if(i.StateForJs.isCanDraw&&!i.StateForJs.isToStore){this.currentDrawTime+=1;var e=this.node.convertToNodeSpaceAR(t.getLocation());window.PointPos=e,this.graphics.lineTo(e.x,e.y),this.line_point.push(cc.v2(e.x,e.y)),this.updateStrokeColor(),this.graphics.stroke()}},touch_end:function(){if(window.isTouchWall)return i.StateForJs.isCanDraw=!0,window.isDraw=!1,this.line_point=[],void this.graphics.clear();if(i.StateForJs.isCanDraw&&!i.StateForJs.isToStore){var t=this.simplifyPath(this.line_point,4);i.StateForJs.isCanDraw=!1,window.isDraw=!0,window.isTouchWall=!1,this.createRigibody(t),this.offTouch()}},updateStrokeColor:function(){window.isTouchWall?this.graphics.strokeColor=cc.Color.RED:this.graphics.strokeColor=cc.Color.BLACK},createRigibody:function(t){this.rigibodyLogic=this.addComponent(cc.RigidBody),this.rigibodyLogic.gravityScale=.4,this.physicsLine=this.addComponent("MyPhysicsCollider"),this.physicsLine.lineWidth=7,this.physicsLine.points=t,this.physicsLine.friction=0,this.physicsLine.density=0,this.physicsLine.tag=4,this.physicsLine.apply()},simplifyPath:function(t,e){if(t.length<3)return t;var i=void 0!==e?e*e:1;return this.simplifyDouglasPeucker(t,i)},simplifyDouglasPeucker:function(t,e){var i,n,o,r,s=t.length,c=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(s),a=0,h=s-1,u=[],d=[];for(c[a]=c[h]=1;h;){for(n=0,i=a+1;i<h;i++)(o=this.getSqSegDist(t[i],t[a],t[h]))>n&&(r=i,n=o);n>e&&(c[r]=1,u.push(a,r,r,h)),h=u.pop(),a=u.pop()}for(i=0;i<s;i++)c[i]&&d.push(t[i]);return d},getSqSegDist:function(t,e,i){var n=e.x,o=e.y,r=i.x-n,s=i.y-o;if(0!==r||0!==s){var c=((t.x-n)*r+(t.y-o)*s)/(r*r+s*s);c>1?(n=i.x,o=i.y):c>0&&(n+=r*c,o+=s*c)}return(r=t.x-n)*r+(s=t.y-o)*s},checkIsCanDraw:function(t,e){return t.sub(e).mag()>=20}}),cc._RF.pop()},{"../Data/StateForJS":"StateForJS"}],Grid:[function(t,e,i){"use strict";cc._RF.push(e,"61538TfVY1GW6TtuV29v/v0","Grid"),Object.defineProperty(i,"__esModule",{value:!0}),i.Grid=void 0;var n=function(){function t(t){this.obstacles=new Set,this.width=t,this.height=t}return t.prototype.setObstacle=function(t,e){this.obstacles.add(t+","+e)},t.prototype.getNodePosition=function(t){var e=t.position;return{x:Math.floor(e.x/32),y:Math.floor(e.y/32)}},t.prototype.getWorldPosition=function(t,e){return new cc.Vec3(32*t,32*e,0)},t.prototype.isWalkable=function(t,e){return this.isInBounds(t,e)&&0===this.grid[t][e]},t.prototype.isInBounds=function(t,e){return t>=0&&e>=0&&t<this.grid.length&&e<this.grid[0].length},t}();i.Grid=n,cc._RF.pop()},{}],Interfaces:[function(t,e,i){"use strict";cc._RF.push(e,"01660FLikpKf68Qdp5BfC/w","Interfaces"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],MyPhysicsCollider:[function(t,e){"use strict";cc._RF.push(e,"16fa2jbwqRENLjduRsp+GPv","MyPhysicsCollider");var i=cc.Class({extends:cc.PhysicsCollider,editor:{menu:!1,requireComponent:cc.RigidBody},properties:{lineWidth:10,points:[cc.Vec2]},_createShape:function(){for(var t=[],e=this.points,i=(this.offset,0);i<e.length-1;i++){var n=e[i],o=e[i+1],r=n.sub(o).mag(),s=Math.atan2(o.y-n.y,o.x-n.x)-Math.PI/2,c=n.add(o).mul(.5),a=new b2.PolygonShape;a&&(a.SetAsBox(this.lineWidth/2/32,r/2/32,new b2.Vec2(c.x/32,c.y/32),s),t.push(a))}return t}});e.exports=i,cc._RF.pop()},{}],NeutrinoAssemblerJSB:[function(t,e,i){"use strict";cc._RF.push(e,"908f2U8uBBKHLoXjGNOOkv8","NeutrinoAssemblerJSB");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),cc.renderer;var r=[0,1,3,1,2,3],s=512*r.length,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentVertex=0,e._renderStyleIndex=null,e._worldScale=new cc.Vec3,e}return o(e,t),e._checkAndCreateCurrentBuffer=function(){var t=e._bufferIndex;e._vertexBuffers[t]||(e._vertexBuffers[t]=new ArrayBuffer(2048*e._vertexFormat._bytes),e._vertexFloatBuffers[t]=new Float32Array(e._vertexBuffers[t]),e._vertexUint32Buffers[t]=new Uint32Array(e._vertexBuffers[t])),e._indexBuffers[t]||(e._indexBuffers[t]=new Uint16Array(s))},e._incBuffer=function(){++e._bufferIndex,e._numBufferVertices=0,e._numBufferIndices=0,e._startBufferVertex=0,e._startBufferIndex=0,e._checkAndCreateCurrentBuffer()},e.prototype._prepareForGeometry=function(t,i){e._numBufferVertices,(e._numBufferVertices+t>2048||e._numBufferIndices+i>s)&&(this._finishDrawCall(),e._incBuffer())},e.prototype._commitGeometry=function(t,i){e._numBufferVertices+=t,e._numBufferIndices+=i},e._resetGeometryBuffers=function(){this._bufferIndex=0,this._numBufferVertices=0,this._numBufferIndices=0,this._startBufferVertex=0,this._startBufferIndex=0,this._checkAndCreateCurrentBuffer()},e.prototype._finishDrawCall=function(){if(e._startBufferIndex!==e._numBufferIndices){var t=e._bufferIndex,i=new Float32Array(e._vertexBuffers[t],e._startBufferVertex*e._vertexFormat._bytes,(e._numBufferVertices-e._startBufferVertex)*e._vertexFormat._bytes/4),n=new Uint16Array(e._indexBuffers[t].buffer,2*e._startBufferIndex,e._numBufferIndices-e._startBufferIndex);this.updateIAData(this._drawCallIndex,e._vertexFormat._nativeObj,i,n);var o=this._renderComp.materials[this._renderStyleIndex].effect;this.updateEffect(this._drawCallIndex,o._nativeObj),e._startBufferVertex=e._numBufferVertices,e._startBufferIndex=e._numBufferIndices,++this._drawCallIndex}},e.prototype.updateRenderData=function(t){this.fillBuffers(t),t.node._renderFlag|=cc.RenderFlow.FLAG_UPDATE_RENDER_DATA},e.prototype.fillBuffers=function(t){t._neutrinoEffect&&t.context.loaded()&&(this.reset(),e._resetGeometryBuffers(),this._drawCallIndex=0,this._currentVertex=0,this._renderStyleIndex=null,this._worldScale=t._worldScale,t._neutrinoEffect.fillGeometryBuffers([1,0,0],[0,1,0],[0,0,-1]),this._finishDrawCall())},e.prototype.initialize=function(){},e.prototype.beforeQuad=function(t){this._renderStyleIndex!==t&&(this._finishDrawCall(),this._renderStyleIndex=t),this._prepareForGeometry(4,r.length)},e.prototype.pushVertex=function(t){var i=e._bufferIndex,n=e._vertexFormat._bytes/4,o=e._vertexFloatBuffers[i],s=e._vertexUint32Buffers[i],c=(e._numBufferVertices+this._currentVertex)*n,a=t.position[0]*this._worldScale.x,h=t.position[1]*this._worldScale.y,u=t.position[2]*this._worldScale.z;if(o[c++]=a,o[c++]=h,o[c++]=u,o[c++]=t.texCoords[0][0],o[c++]=1-t.texCoords[0][1],s[c++]=t.color[0]|t.color[1]<<8|t.color[2]<<16|t.color[3]<<24,++this._currentVertex,4==this._currentVertex){for(var d=e._indexBuffers[i],f=0;f<r.length;++f)d[e._numBufferIndices+f]=e._numBufferVertices-e._startBufferVertex+r[f];this._commitGeometry(4,r.length),this._currentVertex=0}},e.prototype.pushRenderCall=function(){},e.prototype.cleanup=function(){},e._vertexFormat=cc.gfx.VertexFormat.XYZ_UV_Color,e._vertexBuffers=[],e._vertexFloatBuffers=[],e._vertexUint32Buffers=[],e._indexBuffers=[],e}(cc.MeshRenderer.__assembler__);i.default=c,cc._RF.pop()},{}],NeutrinoAssemblerWebGL:[function(t,e,i){"use strict";cc._RF.push(e,"32e92P2G2hLrY8BaVp0+NVh","NeutrinoAssemblerWebGL");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=[0,1,3,1,2,3],s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initialized=!1,e._currentVertex=0,e._renderStyleIndex=null,e._vertexFormat=cc.gfx.VertexFormat.XYZ_UV_Color,e._buffer=null,e._bufferOffsetInfo=null,e._modelBatcher=null,e._worldScale=new cc.Vec3,e}return o(e,t),e.prototype.fillBuffers=function(t,e){t._neutrinoEffect&&t.context.loaded()&&(this._initialized||(this._buffer=e.getBuffer("mesh",this._vertexFormat),this._initialized=!0),this._modelBatcher=e,this._renderStyleIndex=null,this._worldScale=t._worldScale,t._neutrinoEffect.fillGeometryBuffers([1,0,0],[0,1,0],[0,0,-1]))},e.prototype.initialize=function(){},e.prototype.beforeQuad=function(t){if(this._renderStyleIndex!==t){var e=this._renderComp.materials[t];e&&e.getHash()!==this._modelBatcher.material.getHash()&&(this._modelBatcher._flush(),this._modelBatcher.material=e),this._renderStyleIndex=t}this._bufferOffsetInfo=this._buffer.request(4,r.length)},e.prototype.pushVertex=function(t){var e=this._bufferOffsetInfo,i=this._vertexFormat._bytes/4,n=this._buffer,o=n._vData,s=n._uintVData,c=e.byteOffset/4+this._currentVertex*i,a=t.position[0]*this._worldScale.x,h=t.position[1]*this._worldScale.y,u=t.position[2]*this._worldScale.z;if(o[c+0]=a,o[c+1]=h,o[c+2]=u,o[c+3]=t.texCoords[0][0],o[c+4]=1-t.texCoords[0][1],s[c+5]=t.color[0]|t.color[1]<<8|t.color[2]<<16|t.color[3]<<24,++this._currentVertex,4==this._currentVertex){for(var d=n._iData,f=0;f<r.length;++f)d[e.indiceOffset+f]=e.vertexOffset+r[f];this._currentVertex=0}},e.prototype.pushRenderCall=function(){},e.prototype.cleanup=function(){},e}(cc.Assembler);i.default=s,cc._RF.pop()},{}],NeutrinoAssembler:[function(t,e,i){"use strict";cc._RF.push(e,"7dd47KelZZLyadMohM05ouJ","NeutrinoAssembler"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./NeutrinoAssemblerWebGL"),o=(t("./NeutrinoAssemblerJSB"),n.default);i.default=o,cc._RF.pop()},{"./NeutrinoAssemblerJSB":"NeutrinoAssemblerJSB","./NeutrinoAssemblerWebGL":"NeutrinoAssemblerWebGL"}],NeutrinoComponent:[function(t,e,i){"use strict";cc._RF.push(e,"fe372iH4fZOBLxITCZbQxJ2","NeutrinoComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./NeutrinoSettings"),c=t("./NeutrinoContext"),a=cc._decorator,h=a.ccclass,u=a.property,d=new cc.Mat4,f=new cc.Mat4,l=new cc.Quat,p=new cc.Vec3,_=new cc.Mat4,b=[0,0,0,0],v=[0,0,0,0];function y(t){return t instanceof cc.Vec2?[t.x,t.y]:t instanceof cc.Vec3?[t.x,t.y,t.z]:t}var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.context=null,e._neutrinoEffectModel=null,e._neutrinoEffect=null,e._spriteFrames=null,e._emitterPropsOnStart={},e._texturesRemap=null,e._waitingForContext=!1,e._resetInProgress=!1,e._numTexturesLoading=0,e._errorOnLoad=!1,e._worldScale=new cc.Vec3,e._destructed=!1,e._serialized=!1,e._worldParentId="",e._texturesPrefixPath="",e._spriteAtlas=null,e._pausedOnStart=!1,e._pausedGeneratorsOnStart=!1,e.destroyWhenEmpty=!1,e.destroyNodeWhenEmpty=!1,e}return o(e,t),Object.defineProperty(e.prototype,"worldParent",{get:function(){return this._findWorldParent()},set:function(t){this._worldParentId=t?t.uuid:"",this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texturesPrefixPath",{get:function(){return this._texturesPrefixPath},set:function(t){this._texturesPrefixPath=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteAtlas",{get:function(){return this._spriteAtlas},set:function(t){this._spriteAtlas=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedOnStart",{get:function(){return this._pausedOnStart},set:function(t){this._pausedOnStart=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedGeneratorsOnStart",{get:function(){return this._pausedGeneratorsOnStart},set:function(t){this._pausedGeneratorsOnStart=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),e.prototype.resetInEditor=function(){this._waitForContextAndReset()},e.prototype.onLoad=function(){if(this.context=c.default.instance(),this.context.ensureNoiseTextureIsGenerated(),!this._serialized){this._serialized=!0;var t=s.default.instance();t&&(this._texturesPrefixPath=t.defaultTexturesPrefixPath,this._spriteAtlas=t.defaultSpriteAtlas,t.defaultWorldParent&&(this._worldParentId=t.defaultWorldParent.uuid))}this._waitForContextAndReset()},e.prototype.onDestroy=function(){this._spriteFrames&&(this._spriteFrames.forEach(function(t){t&&t.decRef()}),this._spriteFrames.length=0),this._waitingForContext&&this.context.off("loaded",this._reset,this),this._destructed=!0},e.prototype.update=function(t){if(this._neutrinoEffect){this._getNeutrinoWorldPositionRotation(b,v),this._neutrinoEffect.update(t,b,v);var e=this.worldParent;e?(e.getWorldMatrix(_),this.materials.forEach(function(t){t.setProperty("worldParentMat",_)})):this.materials.forEach(function(t){t.setProperty("worldParentMat",cc.Mat4.IDENTITY)}),this.paused()||(this.destroyWhenEmpty||this.destroyNodeWhenEmpty)&&0===this.getNumParticles()&&(this.destroyNodeWhenEmpty?this.node.destroy():this.destroy())}},e.prototype.ready=function(){return null!==this._neutrinoEffect},e.prototype.restart=function(){this._getNeutrinoWorldPositionRotation(b,v),this._neutrinoEffect.restart(b,v)},e.prototype.resetPositionRotation=function(){this._getNeutrinoWorldPositionRotation(b,v),this._neutrinoEffect.resetPosition(b,v)},e.prototype.pause=function(){this.ready()&&this._neutrinoEffect.pauseAllEmitters(),this._pausedOnStart=!0},e.prototype.unpause=function(){this.ready()&&this._neutrinoEffect.unpauseAllEmitters(),this._pausedOnStart=!1},e.prototype.paused=function(){return this.ready()?this._neutrinoEffect.areAllEmittersPaused():this._pausedOnStart},e.prototype.pauseGenerators=function(){this.ready()&&this._neutrinoEffect.pauseGeneratorsInAllEmitters(),this._pausedGeneratorsOnStart=!0},e.prototype.unpauseGenerators=function(){this.ready()&&this._neutrinoEffect.unpauseGeneratorsInAllEmitters(),this._pausedGeneratorsOnStart=!1},e.prototype.generatorsPaused=function(){return this.ready()?this._neutrinoEffect.areGeneratorsInAllEmittersPaused():this._pausedGeneratorsOnStart},e.prototype.setPropertyInAllEmitters=function(t,e){var i=y(e);this.ready()?this._neutrinoEffect.setPropertyInAllEmitters(t,i):this._emitterPropsOnStart[t]=i},e.prototype.getNumParticles=function(){return this._neutrinoEffect?this._neutrinoEffect.getNumParticles():0},e.prototype._checkBacth=function(t,e){t.cullingMask!==e&&(t._flush(),t.cullingMask=e)},e.prototype._waitForContextAndReset=function(){if(this.context)return this.context.loaded()?void this._reset():(this._waitingForContext=!0,void this.context.once("loaded",this._reset,this))},e.prototype._reset=function(){if(!this._resetInProgress&&!this._destructed){this._waitingForContext=!1;var t=this.getEffectClass();if(t){this._resetInProgress=!0,this._errorOnLoad=!1,this._neutrinoEffectModel=new t(this.context.neutrinoContext),this._neutrinoEffect=null;var e=this._neutrinoEffectModel.textures.length;this._spriteFrames=new Array(e),this._numTexturesLoading=this._spriteFrames.length;for(var i=0;i<e;++i){var n=(this._texturesPrefixPath+this._neutrinoEffectModel.textures[i]).replace(/\.[^/.]+$/,"");if(this.spriteAtlas){var o=this.spriteAtlas.getSpriteFrame(n);o?(o.addRef(),this._spriteFrames[i]=o,--this._numTexturesLoading):(cc.warn(this.__classname__+": Can't load sprite '"+n+"' from sprite atlas. Will try to load single texture."),this._loadTexture(i,n))}else this._loadTexture(i,n)}0===this._numTexturesLoading&&this._onTexturesLoaded()}else cc.error(this.__classname__+": you shouldn't use NeutrinoComponent by itself. Use generated effect classes instead.")}},e.prototype._loadTexture=function(t,e){var i=this,n=this,o=this.getTexturesDatabase().find(function(t){return t.path===e}),r=function(){--n._numTexturesLoading,0===n._numTexturesLoading&&n._onTexturesLoaded()};if(!o)return cc.error(this.__classname__+": Can't find texture '"+e+"."),this._errorOnLoad=!0,void r();this.context.texturesBundle().load(o.path,cc.SpriteFrame,function(o,s){i._destructed||(o?(cc.error(n.__classname__+": Can't load sprite frame '"+e+"'. "+o),n._errorOnLoad=!0):(s.addRef(),n._spriteFrames[t]=s),r())})},e.prototype._onTexturesLoaded=function(){var t=this;if(this._errorOnLoad)this._resetInProgress=!1;else{this.materials.length=0;var e=!1;if(this._neutrinoEffectModel.renderStyles.forEach(function(i,n){var o=i.textureIndices[0],r=t._spriteFrames[o];if(!r)return cc.warn(t.__classname__+": Loading flow wrong behavior found #3 (don't worry about it)"),void(e=!0);var s=r.getTexture();if(!s)return cc.warn(t.__classname__+": Loading flow wrong behavior found #4 (don't worry about it)"),void(e=!0);var c=t._neutrinoEffectModel.materials[i.materialIndex],a=t.context.materials[2*c+(s.hasPremultipliedAlpha()?1:0)];if(!a)return cc.warn(t.__classname__+": Loading flow wrong behavior found #5 (don't worry about it)"),void(e=!0);t.setMaterial(n,a).setProperty("texture",s)},this),e)this._resetInProgress=!1;else{for(var i in this._initTexturesRemap(),this._getNeutrinoWorldPositionRotation(b,v),this._neutrinoEffect=this._neutrinoEffectModel.createWGLInstance(b,v,this._assembler,{paused:this._pausedOnStart,generatorsPaused:this._pausedGeneratorsOnStart}),this._neutrinoEffect.texturesRemap=this._texturesRemap,this._emitterPropsOnStart)this._neutrinoEffect.setPropertyInAllEmitters(i,this._emitterPropsOnStart[i]);this._emitterPropsOnStart={},this._resetInProgress=!1}}},e.prototype._initTexturesRemap=function(){for(var t=!1,e=0;e<this._spriteFrames.length;++e)if(1!==(i=this._spriteFrames[e]).uv[6]||0!==i.uv[0]||0!==i.uv[7]||1!==i.uv[1]){t=!0;break}if(t)for(this._texturesRemap=new Array(this._spriteFrames.length),e=0;e<this._spriteFrames.length;++e){var i=this._spriteFrames[e];this._texturesRemap[e]=new this.context.neutrinoContext.SubRect(i.uv[0],1-i.uv[1],i.uv[6]-i.uv[0],i.uv[1]-i.uv[7])}else this._texturesRemap=[]},e.prototype._getNeutrinoWorldPositionRotation=function(t,e){var i=d,n=l,o=p,r=this._worldScale;this.node.getWorldMatrix(i);var s=this.worldParent;if(s){var c=f;s.getWorldMatrix(c),cc.Mat4.invert(c,c),cc.Mat4.multiply(i,c,i)}cc.Mat4.getRotation(n,i),i.getTranslation(o),i.getScale(r),t[0]=o.x/r.x,t[1]=o.y/r.y,t[2]=o.z/r.z,e[0]=n.x,e[1]=n.y,e[2]=n.z,e[3]=n.w},e.prototype._findWorldParent=function(){var t=this.node;do{if(t.uuid==this._worldParentId)return t;t=t.parent}while(t);return null},r([u],e.prototype,"_serialized",void 0),r([u],e.prototype,"_worldParentId",void 0),r([u(cc.Node)],e.prototype,"worldParent",null),r([u],e.prototype,"_texturesPrefixPath",void 0),r([u],e.prototype,"texturesPrefixPath",null),r([u(cc.SpriteAtlas)],e.prototype,"_spriteAtlas",void 0),r([u(cc.SpriteAtlas)],e.prototype,"spriteAtlas",null),r([u],e.prototype,"_pausedOnStart",void 0),r([u],e.prototype,"pausedOnStart",null),r([u],e.prototype,"_pausedGeneratorsOnStart",void 0),r([u],e.prototype,"pausedGeneratorsOnStart",null),r([u],e.prototype,"destroyWhenEmpty",void 0),r([u],e.prototype,"destroyNodeWhenEmpty",void 0),r([h],e)}(cc.RenderComponent);i.default=g,cc._RF.pop()},{"./NeutrinoContext":"NeutrinoContext","./NeutrinoSettings":"NeutrinoSettings"}],NeutrinoContext:[function(t,e,i){"use strict";cc._RF.push(e,"c5500GPiiNIKKYfuHMFpUCR","NeutrinoContext");var n=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var o=t("./neutrinoparticles.js/neutrinoparticles.umd"),r=cc._decorator,s=r.ccclass,c=r.mixins,a=[{uuid:"97KN8e0flOjpWQPC0zIOoR",name:"NeutrinoNormal"},{uuid:"c5T9A8r8FHY5DeeJSjTP0k",name:"NeutrinoNormalPremul"},{uuid:"369MNzEcVL3Jj5UF9gvCfR",name:"NeutrinoAdd"},{uuid:"baTMgpxLlFqrJF04VcDxPF",name:"NeutrinoAddPremul"},{uuid:"a74/Nyb0dDYrv5zAZoAlVP",name:"NeutrinoMultiply"},{uuid:"04mmqJExZKjqgZH4ovqGK7",name:"NeutrinoMultiplyPremul"}],h=function(){function t(){this.neutrinoContext=new o.Context,this.materials=new Array(a.length),this._materialsLeftToLoad=this.materials.length,this._bundlesLeftToLoad=0,this._noiseGenerationStep=null,this._noiseGenerated=!1,this._texturesBundle=null,cc.EventTarget.call(this),this._startLoadingForBuild()}var e;return e=t,t.instance=function(){return this._singleInstance||(this._singleInstance=new e),this._singleInstance},t.prototype.loaded=function(){return 0===this._materialsLeftToLoad&&0===this._bundlesLeftToLoad},t.prototype.startNoiseTextureGeneration=function(){if(!this._noiseGenerated){var t,e=this,i=new this.neutrinoContext.NoiseGenerator;this._noiseGenerationStep=function(){for(var n=0;n<100;++n)if(i.step()){clearInterval(t),e._noiseGenerationStep=null,e._noiseGenerated=!0,i=null;break}},t=setInterval(this._noiseGenerationStep,0)}},t.prototype.ensureNoiseTextureIsGenerated=function(){if(!this._noiseGenerated)for(this._noiseGenerationStep||this.startNoiseTextureGeneration();this._noiseGenerationStep;)this._noiseGenerationStep()},t.prototype.texturesBundle=function(){return this._texturesBundle},t.prototype._startLoadingForDev=function(){for(var t=this,e=function(e){var i=e;cc.assetManager.loadAny(a[e].uuid,function(e,n){e?cc.error("NeutrinoContext: can't load material with UUID='"+a[i].uuid+"'. "+e):t._materialLoaded(n,i)})},i=0;i<this.materials.length;++i)e(i)},t.prototype._startLoadingForBuild=function(){var t=this,e=this;++this._bundlesLeftToLoad,cc.assetManager.loadBundle("neutrinoparticles-materials",function(i,n){if(i)cc.error("NeutrinoContext: failed to load bundle 'neutrinoparticles-materials'. "+i);else{--t._bundlesLeftToLoad;for(var o=function(t){var i=t;n.load(a[t].name,function(t,n){t?cc.error("NeutrinoContext: can't load material '"+a[i].name+"'. "+t):e._materialLoaded(n,i)})},r=0;r<t.materials.length;++r)o(r)}}),++this._bundlesLeftToLoad,cc.assetManager.loadBundle("neutrinoparticles/textures",function(e,i){e?cc.error("NeutrinoContext: failed to load bundle 'neutrinoparticles/textures'"):(cc.log("NeutrinoContext: Loaded bundle neutrinoparticles/textures"),--t._bundlesLeftToLoad,t._texturesBundle=i,t._checkAndEmitLoadedStatus())})},t.prototype._materialLoaded=function(t,e){this.materials[e]=t,--this._materialsLeftToLoad,this._checkAndEmitLoadedStatus()},t.prototype._checkAndEmitLoadedStatus=function(){this.loaded()&&this.emit("loaded")},e=n([s("NeutrinoContext"),c(cc.EventTarget)],t)}();i.default=h,cc.game.once(cc.game.EVENT_GAME_INITED,function(){h.instance().startNoiseTextureGeneration()}),cc._RF.pop()},{"./neutrinoparticles.js/neutrinoparticles.umd":"neutrinoparticles.umd"}],NeutrinoEffect_Bubbles:[function(t,e,i){"use strict";cc._RF.push(e,"7bc79VOoF9P2ahXTDUFnAEE","NeutrinoEffect_Bubbles");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../exported_effects/Bubbles.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,f=u.executeInEditMode,l=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return s},e.prototype.getTexturesDatabase=function(){return c.default},r([d,f,l,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Bubbles")],e)}(a.default);i.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Bubbles.js":"Bubbles","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoEffect_Fireworks01:[function(t,e,i){"use strict";cc._RF.push(e,"cae37pEdPZBLIfCZ0f+QOU2","NeutrinoEffect_Fireworks01");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../exported_effects/Fireworks01.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,f=u.executeInEditMode,l=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return s},e.prototype.getTexturesDatabase=function(){return c.default},r([d,f,l,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Fireworks01")],e)}(a.default);i.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Fireworks01.js":"Fireworks01","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoEffect_Fireworks02:[function(t,e,i){"use strict";cc._RF.push(e,"b1a1aOLe8JBmpHFX67xgfDQ","NeutrinoEffect_Fireworks02");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../exported_effects/Fireworks02.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,f=u.executeInEditMode,l=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return s},e.prototype.getTexturesDatabase=function(){return c.default},r([d,f,l,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Fireworks02")],e)}(a.default);i.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Fireworks02.js":"Fireworks02","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],"NeutrinoEffect_Sparks burst":[function(t,e,i){"use strict";cc._RF.push(e,"45e6egENJdLKbk97qqcdFTy","NeutrinoEffect_Sparks burst");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../exported_effects/Sparks burst.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,f=u.executeInEditMode,l=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return s},e.prototype.getTexturesDatabase=function(){return c.default},r([d,f,l,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Sparks burst")],e)}(a.default);i.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Sparks burst.js":"Sparks burst","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoSettings:[function(t,e,i){"use strict";cc._RF.push(e,"fbcd0MmKjROJoyVC6K9nt1e","NeutrinoSettings");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultWorldParent=null,e.defaultTexturesPrefixPath="",e.defaultSpriteAtlas=null,e}var i;return o(e,t),i=e,e.instance=function(){var t=cc.find("Canvas");if(!t)return null;var e=t.getComponent(i);return e||((e=t.addComponent(i)).defaultWorldParent=t),e},r([a(cc.Node)],e.prototype,"defaultWorldParent",void 0),r([a],e.prototype,"defaultTexturesPrefixPath",void 0),r([a(cc.SpriteAtlas)],e.prototype,"defaultSpriteAtlas",void 0),i=r([c],e)}(cc.Component);i.default=h,cc.NeutrinoSettings=h,cc._RF.pop()},{}],NodesController:[function(t,e,i){"use strict";cc._RF.push(e,"9a4b0WHwkROlbKmBnDG0V0n","NodesController");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Data/constants"),c=t("../Data/GameOption"),a=cc._decorator,h=a.ccclass,u=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Spine_Bees=[],e.Spine_Character=null,e.EggController=null,e.FakeCharacters=[],e.HideMask=null,e.LineContainer=null,e.point_checkCollide=null,e.Environment=null,e.CTA=null,e.CTA_logo=null,e.CTA_button=null,e.CTA_Overlay=null,e.CTA_TryAgain=null,e.CTA_PlayNow=null,e.Hint=null,e.PS_Confetti=null,e.Prefab_Graphics=null,e.Op15_HatchButton=null,e.Op15_Egg=null,e.Op15_FireWork=null,e}return o(e,t),e.prototype.start=function(){15!==c.GameOption.currentOption&&(s.Constants.Char_Point1=this.FakeCharacters[0].getPosition(),s.Constants.Char_Point2=this.FakeCharacters[1].getPosition(),s.Constants.Char_Point3=this.FakeCharacters[2].getPosition())},r([u([sp.Skeleton])],e.prototype,"Spine_Bees",void 0),r([u(sp.Skeleton)],e.prototype,"Spine_Character",void 0),r([u(cc.Node)],e.prototype,"EggController",void 0),r([u([cc.Node])],e.prototype,"FakeCharacters",void 0),r([u(cc.Node)],e.prototype,"HideMask",void 0),r([u(cc.Node)],e.prototype,"LineContainer",void 0),r([u(cc.Node)],e.prototype,"point_checkCollide",void 0),r([u(cc.Node)],e.prototype,"Environment",void 0),r([u(cc.Node)],e.prototype,"CTA",void 0),r([u(cc.Node)],e.prototype,"CTA_logo",void 0),r([u(cc.Node)],e.prototype,"CTA_button",void 0),r([u(cc.Node)],e.prototype,"CTA_Overlay",void 0),r([u(cc.Node)],e.prototype,"CTA_TryAgain",void 0),r([u(cc.Node)],e.prototype,"CTA_PlayNow",void 0),r([u(cc.Node)],e.prototype,"Hint",void 0),r([u(cc.ParticleSystem)],e.prototype,"PS_Confetti",void 0),r([u(cc.Prefab)],e.prototype,"Prefab_Graphics",void 0),r([u(cc.Node)],e.prototype,"Op15_HatchButton",void 0),r([u(cc.Node)],e.prototype,"Op15_Egg",void 0),r([u(cc.Node)],e.prototype,"Op15_FireWork",void 0),r([h],e)}(cc.Component);i.default=d,cc._RF.pop()},{"../Data/GameOption":"GameOption","../Data/constants":"constants"}],PathFinding:[function(t,e,i){"use strict";cc._RF.push(e,"7a986egxNlAsrw6JHknO4j0","PathFinding");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Data/constants"),c=t("./Astar"),a=t("./Grid"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.nodesToMove=[],e.isStartFindPath=!1,e}return o(e,t),e.prototype.onLoad=function(){this.grid=new a.Grid(20),this.astar=new c.default(this.grid)},e.prototype.start=function(){},e.prototype.startFindPAth=function(){this.isStartFindPath||(this.isStartFindPath=!0,this.setupGridObstacles(),this.findPaths())},e.prototype.setupGridObstacles=function(){this.grid.setObstacle(3,3),this.grid.setObstacle(4,4)},e.prototype.findPaths=function(){var t=this,e=this.grid.getNodePosition(this.target);this.nodesToMove.forEach(function(i){var n=t.grid.getNodePosition(i),o=t.astar.findPath(n,e);t.moveNodeAlongPath(i,o)})},e.prototype.moveNodeAlongPath=function(t,e){var i=this;if(0!==e.length){var n=0,o=function(){if(n<e.length){var r=e[n],s=r.x,c=r.y,a=i.grid.getWorldPosition(s,c);cc.tween(t).to(1,{position:a}).call(function(){n++,o()}).start()}};o()}},e.prototype.update=function(){window.isDraw&&!s.Constants.isWinGame&&this.startFindPAth()},r([d(cc.Node)],e.prototype,"target",void 0),r([d([cc.Node])],e.prototype,"nodesToMove",void 0),r([u],e)}(cc.Component);i.default=f,cc._RF.pop()},{"../Data/constants":"constants","./Astar":"Astar","./Grid":"Grid"}],PointController:[function(t,e,i){"use strict";cc._RF.push(e,"80da3u/zVdMR5yti8YdVBri","PointController");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Data/GameOption"),c=t("./GameController"),a=cc._decorator,h=a.ccclass,u=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameController=null,e.rigidbody=null,e.clearFixArea=null,e}return o(e,t),e.prototype.start=function(){this.beginContact(),16===s.GameOption.currentOption&&this.initClearFixAreaOp16()},e.prototype.initClearFixAreaOp16=function(){this.clearFixArea=this.node.parent.getChildByName("ClearFixArea")},e.prototype.checkCollideClearAreaOp16=function(){var t=this.node.getBoundingBox(),e=this.clearFixArea.getBoundingBox();t.intersects(e)&&(s.GameOption.Op16.isPointTouchClearFixArea=!0)},e.prototype.beginContact=function(){this.rigidbody.onBeginContact=function(t,e,i){0!==i.tag&&8!==i.tag||(window.isTouchWall=!0)}},e.prototype.update=function(){16===s.GameOption.currentOption&&this.checkCollideClearAreaOp16(),this.node.setPosition(window.PointPos)},r([u(c.GameController)],e.prototype,"GameController",void 0),r([u(cc.RigidBody)],e.prototype,"rigidbody",void 0),r([h],e)}(cc.Component);i.default=d,cc._RF.pop()},{"../Data/GameOption":"GameOption","./GameController":"GameController"}],Responsive:[function(t,e,i){"use strict";cc._RF.push(e,"d5c01VUSP5G8p7xJENgTwyO","Responsive");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=t("../Controller/NodesController"),c=t("../Data/constants"),a=cc._decorator,h=a.ccclass,u=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodesController=null,e.device="",e.isRotate=!1,e.HORIZONTAL_IPX="horizontal_IPX",e.HORIZONTAL_TABLET="horizontal_Tablet",e.VERTICAL_IPX="vertical_IPX",e.VERTICAL_MOBILE="vertical_Mobile",e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(this.isRotate=!0,this.setHorizontal()):(this.isRotate=!1,this.setVertical())},e.prototype.setHorizontal=function(){cc.view.getFrameSize().height/cc.view.getFrameSize().width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},e.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,c.Constants.Responsive.currentDevice="horizon_Tablet")},e.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,c.Constants.Responsive.currentDevice="horizon_Tablet")},e.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},e.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,c.Constants.Responsive.currentDevice="vertical_mobile")},e.prototype.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,c.Constants.Responsive.currentDevice="vertical_mobile")},e.prototype.update=function(){this.handleRotate()},r([u(s.default)],e.prototype,"NodesController",void 0),r([h],e)}(cc.Component);i.default=d,cc._RF.pop()},{"../Controller/NodesController":"NodesController","../Data/constants":"constants"}],"Sparks burst":[function(t,e,i){"use strict";cc._RF.push(e,"d1a0fqspAlJ8ovPBXDHJoJh","Sparks burst"),function(t,n){if("object"==typeof i&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Sparks_burst=n()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Sparks_burst=n()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,i=function t(e,i){this.Ld=e,this.Bd=i,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};i.prototype={Ec:function(e,i,n){var o=t.ib(n.Md),r=Math.cos(o),s=Math.sin(o),c=t.Ae(n.Nd[0]),a=t.Ae(n.Nd[1]);e.transform(c*r,c*s,a*-s,a*r,i[0],i[1])},Fc:function(e,i,n){var o=n.Mc,r=2*o[2]*o[2],s=2*o[0]*o[1],c=2*o[3]*o[2],a=t.Ae(n.Nd[0]),h=t.Ae(n.Nd[1]);e.transform(a*(1-2*o[1]*o[1]-r),a*(s+c),h*(c-s),h*(2*o[0]*o[0]+r-1),i[0],i[1])},Pc:function(e,i,n){if(i.vc(e,-1,n),this.we&&null!=this.Be&&!i.oc&&i.Od>.001){var o=Math.floor(i.Qc%this.we.Rc),r=Math.floor(i.Qc/this.we.Rc),s=i.Ab.slice(),c=i.Nd.slice();if(!n||n.transform(s,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,s,i),e.translate(-a*i.Pd[0],-h*(1-i.Pd[1])),e.globalAlpha*=i.Od,i.gf[0]<.999||i.gf[1]<.999||i.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(i.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*r,this.Tc,this.Uc,0,0,a,h);e.restore()}}}i.vc(e,1,n)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e);break;case 1:for(i=this.Bd.tc.length;i-- >0;)this.Pc(t,this.Bd.tc[i],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e)}t.restore()}};var n=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};n.prototype={qe:function(e,i,n,o,r){if(e.Ce(-1,i,n,o,r),this.we&&!e.oc){var s=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var f=t.ib(e.Md),l=-Math.sin(f),p=Math.cos(f);u[0]=i[0]*p+n[0]*l,u[1]=i[1]*p+n[1]*l,u[2]=i[2]*p+n[2]*l,d[0]=-i[0]*l+n[0]*p,d[1]=-i[1]*l+n[1]*p,d[2]=-i[2]*l+n[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],v=2*_[0]*_[1],y=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=v+y,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=v-y,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var g=[],m=[],x=[],w=[];t.u(g,u,-e.Nd[0]*e.Pd[0]),t.u(m,u,e.Nd[0]*(1-e.Pd[0])),t.u(x,d,-e.Nd[1]*e.Pd[1]),t.u(w,d,e.Nd[1]*(1-e.Pd[1])),t.c(s.position,g,x),t.c(s.position,s.position,e.Ab),t.c(c.position,g,w),t.c(c.position,c.position,e.Ab),t.c(a.position,m,w),t.c(a.position,a.position,e.Ab),t.c(h.position,m,x),t.c(h.position,h.position,e.Ab);var A=t.v(e.gf,255);s.color=c.color=a.color=h.color=[A[0],A[1],A[2],255*e.Od];var C,T,S=Math.floor(e.Qc%this.we.Rc),P=Math.floor(e.Qc/this.we.Rc),O=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(O)var R=O.width/this.we.Rc,M=O.height/this.we.Sc,B=(C=O.x+S*R)+R,N=(T=O.y+O.height-P*M)-M;else B=(C=S*(R=1/this.we.Rc))+R,N=(T=1-P*(M=1/this.we.Sc))-M;if(s.texCoords[0]=[C,N],c.texCoords[0]=[C,T],a.texCoords[0]=[B,T],h.texCoords[0]=[B,N],r.beforeQuad&&r.beforeQuad(this.we.renderStyleIndex),r.pushVertex(s),r.pushVertex(c),r.pushVertex(a),r.pushVertex(h),r.__lastRenderCall){var I=r.__lastRenderCall;I.renderStyleIndex==this.we.renderStyleIndex?I.numIndices+=6:(r.pushRenderCall(I),r.__lastRenderCall=new t.RenderCall(I.startIndex+I.numIndices,6,this.we.renderStyleIndex))}else r.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,i,n,o,r)},ue:function(e,i,n,o){switch(this.Bd.Vc){case 0:for(var r=0;r<this.Bd.tc.length;++r)this.qe(this.Bd.tc[r],e,i,n,o);break;case 1:for(r=this.Bd.tc.length;r-- >0;)this.qe(this.Bd.tc[r],e,i,n,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(n,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,i,n,o)},this)}}};var o=function e(i,n,o){var r=this;function s(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,r.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,r.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=i,this.we=n,s.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){r.we.Pb(e,r,this);var s=r.Rb,c=i.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=d,s+=d,c+=d,null!=this.Hb&&s>this.Hb){r.disactivate();break}r.Rb=s,i.Rb=c,n&&e>0&&t.ab(r.Ab,n,r.Bb,a/e),o&&e>0&&t.slerpq(r.Mc,o,r.prevRotation,a/e),this.Lb=this.Jb;for(var f=0;f<this.Jb&&0!=r.sc.length;++f){1==this.Jb?this.Kb=0:this.Kb=f/(this.Jb-1);var l=r.sc.pop();r.tc.unshift(l),0==f?l.Yb():l.Zb(),l.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){r.disactivate();break}}this.Ob=u}return s+=a,r.Rb=s,n&&t.T(r.Ab,n),o&&t.U(r.Mc,o),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){r.we.Pb(e,r,this);var s=r.Rb,c=s+e,a=i.Rb,h=a+e,u=n?t.O(t.h(n,r.Bb)):0,d=0;if(u>1e-6){for(var f=u/this.rd,l=this.bc+f,p=f<.001?1-this.bc:(1-this.bc)/f,_=[];l>1;){var b=s+p*e;n&&t.ab(_,r.Bb,n,p),r.Rb=b,t.T(r.Ab,_),i.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var v=0;v<this.Jb&&0!=r.sc.length;++v){1==this.Jb?this.Kb=0:this.Kb=v/(this.Jb-1);var y=r.sc.pop();r.tc.unshift(y),0==v?y.Yb():y.Zb(),y.Id(e*(1-p)),++d}p+=1/f,l-=1}this.bc=l}return r.Rb=c,n&&t.T(r.Ab,n),o&&t.U(r.Mc,o),d}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){r.we.fd(r,this),this.nc()},Zb:function(){r.we.gd(r,this),this.nc()},Id:function(t){r.we.qc(t,r,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,n){this.Kc.push({Bd:new e(i,t,o),Ad:n})},vc:function(t,e,i){for(var n=0;n<this.Kc.length;++n){var o=this.Kc[n];e==o.Ad.xc&&o.Bd.Hd(t,i)}},Ce:function(t,e,i,n,o){for(var r=0;r<this.Kc.length;++r){var s=this.Kc[r];t==s.Ad.xc&&s.Bd.ue(e,i,n,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return r.we.Cc(r,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new s},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new a,f=0;f<this.Yc.length;++f){var l=this.Yc[f];d.uc(l.Db,l.Ad)}this.sc.push(d)}this.Nb=function(e,i){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,i||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,i,n){if(this.paused_)this.Td(i,n);else{if(this.wd=this.Rb,i)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,i,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var r;n&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?r=this.vd.Id(e,i,n):(i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),r=0,this.Rb+=e);for(var s=r;s<this.tc.length;){var c=this.tc[s];if(c.oc){if(c.rc(e),this.xd(s))continue}else if(c.Id(e),this.Wc.Ac(this.tc[s])&&(c.wc(),this.xd(s)))continue;++s}}},o.prototype.xd=function(t){for(var e=this.tc[t],i=!0,n=0;n<e.Kc.length;++n){var o=e.Kc[n].Bd;if(o.activated()||o.tc.length>0){i=!1;break}}return!!i&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,i,n){this.construct.ue(t,e,i,n)},o.prototype.Td=function(e,i){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),i&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,i))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var r=function(){this._init=function(e,i,n,r,s){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,r);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,i){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,i||[0,0,0,1])},this.Nb(i,n),this.model.qd(this),this._presimNeeded=!0,s.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),s.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,i,n,this.presimFrameTime),this._presimNeeded=!1)}};r.prototype.restart=function(t,e,i){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var n=0;n<this.od.length;++n)this.od[n].Jd(this.Ab,this.Mc);this._presimNeeded=!0,i&&i.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),i&&i.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},r.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},r.prototype.update=function(t,e,i){this.Dd>0?this.updateFixed(t,e,i,this.Dd):this.updateFlex(t,e,i)},r.prototype.updateFixed=function(e,i,n,o){var r=0,s=[];t.T(s,this.Ab);var c=[];for(t.U(c,this.Mc),i&&t.equalv3_(i,this.Ab)&&(i=null),n&&t.equalq_(n,this.Mc)&&(n=null);e-r+this.Cd>=o;){var a=this.Rb;i&&t.ab(s,this.Ab,i,r/e),n&&t.slerpq(c,this.Mc,n,r/e);for(var h=0;h<this.od.length;++h)this.od[h].Id(o,s,c),this.Rb=a;r+=o-this.Cd,this.Cd=0,this.Rb=a+o}i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),this.Cd+=e-r},r.prototype.updateFlex=function(e,i,n){for(var o=this.Rb,r=0;r<this.od.length;++r)this.od[r].Id(e,i,n),this.Rb=o;this.Rb=o+e,i&&t.T(this.Ab,i),n&&t.U(this.Mc,n)},r.prototype.resetPosition=function(e,i){e&&t.T(this.Ab,e),i&&t.U(this.Mc,i);for(var n=0;n<this.od.length;++n)this.od[n].Td(this.Ab,this.Mc)},r.prototype.setPropertyInAllEmitters=function(e,i){var n="_".concat(e);if(i instanceof Array)if(2==i.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][n],i);else for(o=0;o<this.od.length;++o)t.T(this.od[o][n],i);else for(o=0;o<this.od.length;++o)this.od[o][n]=i},r.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},r.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.updateFixed(this.Ud,this.Ab,this.Mc,this.presimFrameTime),this._presimNeeded=!1)},r.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},r.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},r.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},r.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},r.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var s=function t(){this._init=function(e,i,o,r,s){t.prototype._init.call(this,e,i,o,n,s),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=r,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(s.prototype=new r).fillGeometryBuffers=function(t,e,i){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(n){n.ue(t,e,i,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,n,o,r){t.prototype._init.call(this,e,n,o,i,r),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var i,n,o,r,s,c,a,h,u,d,f,l,p,_,b,v,y,g,m,x,w,A,C,T,S,P,O,R,M,B,N,I,F,L=[],G=[],E=[],V=[],k=[],U=[],j=[],D=[],q=[],H=[],W=[],J=[],K=[],z=[],Q=[],Z=[],X=[],Y=[],$=[],tt=[],et=[],it=[],nt=[],ot=[],rt=[],st=[],ct=[],at=[],ht=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter",this.ud=function(t){t.dd(),t._6=[[[0,.220665,.318587,.379215,.420794,.451183,.474816,.494688,.513163,.532418,.554793,.583229,.622079,.679108,.772734,1,1]]],t._7=[[[60,-293],[183,-219],[183,-219]]],t._10=[[[.3,1,1]]],t._22=[[[0,.0129444,.0491835,.104924,.176478,.260245,.35269,.450322,.54968,.647311,.739756,.823523,.895077,.950817,.987056,1,1],[1,.987056,.950816,.895075,.823522,.739755,.647311,.549678,.450321,.352688,.260244,.176477,.104924,.0491832,.0129438,0,0]]],t._24=[[[0,.0129445,.0491834,.104923,.176477,.260245,.352688,.45032,.549679,.647311,.739757,.823523,.895077,.950817,.987056,1,1]]],t._30=[[[1,1.08235,1.31293,1.66757,2.12282,2.65577,3.24394,3.86511,4.49725,5.11842,5.70659,6.23954,6.69479,7.04943,7.27999,7.36235,7.36235]],[[1,1,1]]],t._32=[[[0,1,1],[1,.376401,.376401],[.376401,.8,.8],[.8,.1,.1],[.1,1,1],[1,0,0]]],t._33=[[[0,.34799,.516906,.631629,.71686,.782823,.834936,.876485,.90965,.935968,.956581,.972371,.984046,.992201,.997357,1,1]]],t._34=[[[1,.997975,.991373,.980075,.96386,.942401,.91523,.881707,.840947,.791711,.7322,.659677,.569629,.453644,.292056,0,0]]],t.jd=1e3,t.Vc=0},this.Mb=function(t){t.zb=.3,t.Gb=1,t.Jb=500},this.Pb=function(t,e,i){i.zb=.3},this.fd=function(l,p){p.Mc=[],p._=0,i=1+2*l.Ld.rand(),p._2=i,t.W(L,0,0,0),p._4=[],t.c(p._4,l.Ab,L),n=0+1*l.Ld.rand(),r=n<0?0:n>1?1:n,t.V(G,0,15*(r-0)),o=e.nb(l._6[0][G[0]],G[1]),s=e.kb(o),t.V(V,0,1*(s-0)),e.lb(E,l._7[V[0]],V[1]),t.W(k,E[0],E[1],0),c=0+1*l.Ld.rand(),h=c<0?0:c>1?1:c,t.V(U,0,1*(h-0)),a=e.nb(l._10[0][U[0]],U[1]),u=t.v(t.v(k,a),10),p._12=[],t.T(p._12,u),d=1+3*l.Ld.rand(),p._14=d,t.randv3gen(j,300,l.Ld.rand),p._16=[],t.T(p._16,j),t.randv3gen(D,300,l.Ld.rand),p._18=[],t.T(p._18,D),f=0+1*l.Ld.rand(),p._20=f,t.T(p.Ab,p._4)},this.gd=function(l,p){p.Mc=[],p._=0,i=1+2*l.Ld.rand(),p._2=i,t.W(L,0,0,0),p._4=[],t.c(p._4,l.Ab,L),n=0+1*l.Ld.rand(),r=n<0?0:n>1?1:n,t.V(G,0,15*(r-0)),o=e.nb(l._6[0][G[0]],G[1]),s=e.kb(o),t.V(V,0,1*(s-0)),e.lb(E,l._7[V[0]],V[1]),t.W(k,E[0],E[1],0),c=0+1*l.Ld.rand(),h=c<0?0:c>1?1:c,t.V(U,0,1*(h-0)),a=e.nb(l._10[0][U[0]],U[1]),u=t.v(t.v(k,a),10),p._12=[],t.T(p._12,u),d=1+3*l.Ld.rand(),p._14=d,t.randv3gen(j,300,l.Ld.rand),p._16=[],t.T(p._16,j),t.randv3gen(D,300,l.Ld.rand),p._18=[],t.T(p._18,D),f=0+1*l.Ld.rand(),p._20=f,t.T(p.Ab,p._4)},this.qc=function(i,n,o){for(o._+=i,t.W(q,0,150,0),(p=o._<502169e-9?502169e-9:o._>1?502169e-9+(o._-502169e-9)%.999498:o._)<.5?t.V(H,0,30.0302*(p-502169e-9)):t.V(H,1,30*(p-.5)),l=e.nb(n._22[0][H[0]],H[1]),_=o._/o._2,v=_<502169e-9?502169e-9:_>1?1:_,t.V(W,0,15.0075*(v-502169e-9)),b=e.nb(n._24[0][W[0]],W[1]),y=t.v(t.bb(o._16,o._18,l),b),t.T(J,q),t.c(J,J,y),t.T(K,[0,0,0]),m=i,t.T(Z,o._12),t.T(X,o._4);m>1e-4;)x=m,t.T(Y,J),t.g(z,K,Z),(g=t.P(z))>1e-4&&(g=Math.sqrt(g),t.w(Q,z,g),(w=.01*o._14*g)*x>.2&&(x=.2/w),t.c(Y,Y,t.v(Q,g*w))),t.c(Z,Z,t.v(Y,x)),t.c(X,X,t.v(Z,x)),m-=x;t.T(o._4,X),t.T(o._12,Z),t.T(o.Ab,o._4),t.Q(it,[0,0,1]),t.I(et,it,o._12),t.Q(et,et),t.I(tt,et,it),t.pb($,tt,et,it),t.V(nt,3,3),A=t.O(o._12),C=A<0?0:A>200?200:A,t.V(rt,0,.075*(C-0)),T=A<0?0:A>1?1:A,t.V(st,0,1*(T-0)),t.V(ot,e.nb(n._30[0][rt[0]],rt[1]),e.nb(n._30[1][st[0]],st[1])),S=o._+o._20,(O=S<0?0:S>1?0+(S-0)%1:S)<.5?O<.4?O<.256169?t.V(ct,0,3.90367*(O-0)):t.V(ct,1,6.95262*(O-.256169)):t.V(ct,2,10*(O-.4)):O<.8?O<.623069?t.V(ct,3,8.12552*(O-.5)):t.V(ct,4,5.65192*(O-.623069)):t.V(ct,5,5*(O-.8)),P=e.nb(n._32[0][ct[0]],ct[1]),_=o._/o._2,M=_<0?0:_>1?1:_,t.V(at,0,15*(M-0)),R=e.nb(n._33[0][at[0]],at[1]),N=_<0?0:_>1?1:_,t.V(ht,0,15*(N-0)),B=e.nb(n._34[0][ht[0]],ht[1]),I=t.r(t.r(ot,t.X(1,P,R)),B),F=t.j(nt,I),t.S(o.Pd,[.5,.5]),t.U(o.Mc,$),t.S(o.Nd,F),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=0},this.Cc=function(t,e){return e._>e._2}}function h(){var i,n,o,r,s,c,a,h,u,d,f,l,p,_,b,v,y,g,m,x,w,A,C,T,S,P,O,R,M,B,N,I,F,L=[],G=[],E=[],V=[],k=[],U=[],j=[],D=[],q=[],H=[],W=[],J=[],K=[],z=[],Q=[],Z=[],X=[],Y=[],$=[],tt=[],et=[],it=[],nt=[],ot=[],rt=[],st=[],ct=[],at=[],ht=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter1",this.ud=function(t){t.dd(),t._6=[[[0,.220665,.318587,.379215,.420794,.451183,.474816,.494688,.513163,.532418,.554793,.583229,.622079,.679108,.772734,1,1]]],t._7=[[[242,-383],[321,-275],[321,-275]]],t._10=[[[.3,1,1]]],t._22=[[[0,.0129444,.0491835,.104924,.176478,.260245,.35269,.450322,.54968,.647311,.739756,.823523,.895077,.950817,.987056,1,1],[1,.987056,.950816,.895075,.823522,.739755,.647311,.549678,.450321,.352688,.260244,.176477,.104924,.0491832,.0129438,0,0]]],t._24=[[[0,.0129445,.0491834,.104923,.176477,.260245,.352688,.45032,.549679,.647311,.739757,.823523,.895077,.950817,.987056,1,1]]],t._30=[[[1,1.08235,1.31293,1.66757,2.12282,2.65577,3.24394,3.86511,4.49725,5.11842,5.70659,6.23954,6.69479,7.04943,7.27999,7.36235,7.36235]],[[1,1,1]]],t._32=[[[0,1,1],[1,.376401,.376401],[.376401,.8,.8],[.8,.1,.1],[.1,1,1],[1,0,0]]],t._33=[[[0,.34799,.516906,.631629,.71686,.782823,.834936,.876485,.90965,.935968,.956581,.972371,.984046,.992201,.997357,1,1]]],t._34=[[[1,.997975,.991373,.980075,.96386,.942401,.91523,.881707,.840947,.791711,.7322,.659677,.569629,.453644,.292056,0,0]]],t.jd=1e3,t.Vc=0},this.Mb=function(t){t.zb=.3,t.Gb=1,t.Jb=500},this.Pb=function(t,e,i){i.zb=.3},this.fd=function(l,p){p.Mc=[],p._=0,i=1+2*l.Ld.rand(),p._2=i,t.W(L,0,0,0),p._4=[],t.c(p._4,l.Ab,L),n=0+1*l.Ld.rand(),r=n<0?0:n>1?1:n,t.V(G,0,15*(r-0)),o=e.nb(l._6[0][G[0]],G[1]),s=e.kb(o),t.V(V,0,1*(s-0)),e.lb(E,l._7[V[0]],V[1]),t.W(k,E[0],E[1],0),c=0+1*l.Ld.rand(),h=c<0?0:c>1?1:c,t.V(U,0,1*(h-0)),a=e.nb(l._10[0][U[0]],U[1]),u=t.v(t.v(k,a),10),p._12=[],t.T(p._12,u),d=1+3*l.Ld.rand(),p._14=d,t.randv3gen(j,300,l.Ld.rand),p._16=[],t.T(p._16,j),t.randv3gen(D,300,l.Ld.rand),p._18=[],t.T(p._18,D),f=0+1*l.Ld.rand(),p._20=f,t.T(p.Ab,p._4)},this.gd=function(l,p){p.Mc=[],p._=0,i=1+2*l.Ld.rand(),p._2=i,t.W(L,0,0,0),p._4=[],t.c(p._4,l.Ab,L),n=0+1*l.Ld.rand(),r=n<0?0:n>1?1:n,t.V(G,0,15*(r-0)),o=e.nb(l._6[0][G[0]],G[1]),s=e.kb(o),t.V(V,0,1*(s-0)),e.lb(E,l._7[V[0]],V[1]),t.W(k,E[0],E[1],0),c=0+1*l.Ld.rand(),h=c<0?0:c>1?1:c,t.V(U,0,1*(h-0)),a=e.nb(l._10[0][U[0]],U[1]),u=t.v(t.v(k,a),10),p._12=[],t.T(p._12,u),d=1+3*l.Ld.rand(),p._14=d,t.randv3gen(j,300,l.Ld.rand),p._16=[],t.T(p._16,j),t.randv3gen(D,300,l.Ld.rand),p._18=[],t.T(p._18,D),f=0+1*l.Ld.rand(),p._20=f,t.T(p.Ab,p._4)},this.qc=function(i,n,o){for(o._+=i,t.W(q,0,150,0),(p=o._<502169e-9?502169e-9:o._>1?502169e-9+(o._-502169e-9)%.999498:o._)<.5?t.V(H,0,30.0302*(p-502169e-9)):t.V(H,1,30*(p-.5)),l=e.nb(n._22[0][H[0]],H[1]),_=o._/o._2,v=_<502169e-9?502169e-9:_>1?1:_,t.V(W,0,15.0075*(v-502169e-9)),b=e.nb(n._24[0][W[0]],W[1]),y=t.v(t.bb(o._16,o._18,l),b),t.T(J,q),t.c(J,J,y),t.T(K,[0,0,0]),m=i,t.T(Z,o._12),t.T(X,o._4);m>1e-4;)x=m,t.T(Y,J),t.g(z,K,Z),(g=t.P(z))>1e-4&&(g=Math.sqrt(g),t.w(Q,z,g),(w=.01*o._14*g)*x>.2&&(x=.2/w),t.c(Y,Y,t.v(Q,g*w))),t.c(Z,Z,t.v(Y,x)),t.c(X,X,t.v(Z,x)),m-=x;t.T(o._4,X),t.T(o._12,Z),t.T(o.Ab,o._4),t.Q(it,[0,0,1]),t.I(et,it,o._12),t.Q(et,et),t.I(tt,et,it),t.pb($,tt,et,it),t.V(nt,3,3),A=t.O(o._12),C=A<0?0:A>200?200:A,t.V(rt,0,.075*(C-0)),T=A<0?0:A>1?1:A,t.V(st,0,1*(T-0)),t.V(ot,e.nb(n._30[0][rt[0]],rt[1]),e.nb(n._30[1][st[0]],st[1])),S=o._+o._20,(O=S<0?0:S>1?0+(S-0)%1:S)<.5?O<.4?O<.256169?t.V(ct,0,3.90367*(O-0)):t.V(ct,1,6.95262*(O-.256169)):t.V(ct,2,10*(O-.4)):O<.8?O<.623069?t.V(ct,3,8.12552*(O-.5)):t.V(ct,4,5.65192*(O-.623069)):t.V(ct,5,5*(O-.8)),P=e.nb(n._32[0][ct[0]],ct[1]),_=o._/o._2,M=_<0?0:_>1?1:_,t.V(at,0,15*(M-0)),R=e.nb(n._33[0][at[0]],at[1]),N=_<0?0:_>1?1:_,t.V(ht,0,15*(N-0)),B=e.nb(n._34[0][ht[0]],ht[1]),I=t.r(t.r(ot,t.X(1,P,R)),B),F=t.j(nt,I),t.S(o.Pd,[.5,.5]),t.U(o.Mc,$),t.S(o.Nd,F),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=0},this.Cc=function(t,e){return e._>e._2}}function u(){var i,n,o,r,s,c,a,h,u,d,f,l,p,_,b,v,y,g,m,x,w,A,C,T,S,P,O,R,M,B,N,I,F,L=[],G=[],E=[],V=[],k=[],U=[],j=[],D=[],q=[],H=[],W=[],J=[],K=[],z=[],Q=[],Z=[],X=[],Y=[],$=[],tt=[],et=[],it=[],nt=[],ot=[],rt=[],st=[],ct=[],at=[],ht=[];this.pe=[{xe:1,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter2",this.ud=function(t){t.dd(),t._6=[[[0,.220665,.318587,.379215,.420794,.451183,.474816,.494688,.513163,.532418,.554793,.583229,.622079,.679108,.772734,1,1]]],t._7=[[[165,-150],[210,-78],[210,-78]]],t._10=[[[.3,1,1]]],t._22=[[[0,.0129444,.0491835,.104924,.176478,.260245,.35269,.450322,.54968,.647311,.739756,.823523,.895077,.950817,.987056,1,1],[1,.987056,.950816,.895075,.823522,.739755,.647311,.549678,.450321,.352688,.260244,.176477,.104924,.0491832,.0129438,0,0]]],t._24=[[[0,.0129445,.0491834,.104923,.176477,.260245,.352688,.45032,.549679,.647311,.739757,.823523,.895077,.950817,.987056,1,1]]],t._30=[[[1,1.08235,1.31293,1.66757,2.12282,2.65577,3.24394,3.86511,4.49725,5.11842,5.70659,6.23954,6.69479,7.04943,7.27999,7.36235,7.36235]],[[1,1,1]]],t._32=[[[0,1,1],[1,.376401,.376401],[.376401,.8,.8],[.8,.1,.1],[.1,1,1],[1,0,0]]],t._33=[[[0,.34799,.516906,.631629,.71686,.782823,.834936,.876485,.90965,.935968,.956581,.972371,.984046,.992201,.997357,1,1]]],t._34=[[[1,.997975,.991373,.980075,.96386,.942401,.91523,.881707,.840947,.791711,.7322,.659677,.569629,.453644,.292056,0,0]]],t.jd=1e3,t.Vc=0},this.Mb=function(t){t.zb=.3,t.Gb=1,t.Jb=500},this.Pb=function(t,e,i){i.zb=.3},this.fd=function(l,p){p.Mc=[],p._=0,i=1+2*l.Ld.rand(),p._2=i,t.W(L,0,0,0),p._4=[],t.c(p._4,l.Ab,L),n=0+1*l.Ld.rand(),r=n<0?0:n>1?1:n,t.V(G,0,15*(r-0)),o=e.nb(l._6[0][G[0]],G[1]),s=e.kb(o),t.V(V,0,1*(s-0)),e.lb(E,l._7[V[0]],V[1]),t.W(k,E[0],E[1],0),c=0+1*l.Ld.rand(),h=c<0?0:c>1?1:c,t.V(U,0,1*(h-0)),a=e.nb(l._10[0][U[0]],U[1]),u=t.v(t.v(k,a),10),p._12=[],t.T(p._12,u),d=1+3*l.Ld.rand(),p._14=d,t.randv3gen(j,300,l.Ld.rand),p._16=[],t.T(p._16,j),t.randv3gen(D,300,l.Ld.rand),p._18=[],t.T(p._18,D),f=0+1*l.Ld.rand(),p._20=f,t.T(p.Ab,p._4)},this.gd=function(l,p){p.Mc=[],p._=0,i=1+2*l.Ld.rand(),p._2=i,t.W(L,0,0,0),p._4=[],t.c(p._4,l.Ab,L),n=0+1*l.Ld.rand(),r=n<0?0:n>1?1:n,t.V(G,0,15*(r-0)),o=e.nb(l._6[0][G[0]],G[1]),s=e.kb(o),t.V(V,0,1*(s-0)),e.lb(E,l._7[V[0]],V[1]),t.W(k,E[0],E[1],0),c=0+1*l.Ld.rand(),h=c<0?0:c>1?1:c,t.V(U,0,1*(h-0)),a=e.nb(l._10[0][U[0]],U[1]),u=t.v(t.v(k,a),10),p._12=[],t.T(p._12,u),d=1+3*l.Ld.rand(),p._14=d,t.randv3gen(j,300,l.Ld.rand),p._16=[],t.T(p._16,j),t.randv3gen(D,300,l.Ld.rand),p._18=[],t.T(p._18,D),f=0+1*l.Ld.rand(),p._20=f,t.T(p.Ab,p._4)},this.qc=function(i,n,o){for(o._+=i,t.W(q,0,150,0),(p=o._<502169e-9?502169e-9:o._>1?502169e-9+(o._-502169e-9)%.999498:o._)<.5?t.V(H,0,30.0302*(p-502169e-9)):t.V(H,1,30*(p-.5)),l=e.nb(n._22[0][H[0]],H[1]),_=o._/o._2,v=_<502169e-9?502169e-9:_>1?1:_,t.V(W,0,15.0075*(v-502169e-9)),b=e.nb(n._24[0][W[0]],W[1]),y=t.v(t.bb(o._16,o._18,l),b),t.T(J,q),t.c(J,J,y),t.T(K,[0,0,0]),m=i,t.T(Z,o._12),t.T(X,o._4);m>1e-4;)x=m,t.T(Y,J),t.g(z,K,Z),(g=t.P(z))>1e-4&&(g=Math.sqrt(g),t.w(Q,z,g),(w=.01*o._14*g)*x>.2&&(x=.2/w),t.c(Y,Y,t.v(Q,g*w))),t.c(Z,Z,t.v(Y,x)),t.c(X,X,t.v(Z,x)),m-=x;t.T(o._4,X),t.T(o._12,Z),t.T(o.Ab,o._4),t.Q(it,[0,0,1]),t.I(et,it,o._12),t.Q(et,et),t.I(tt,et,it),t.pb($,tt,et,it),t.V(nt,3,3),A=t.O(o._12),C=A<0?0:A>200?200:A,t.V(rt,0,.075*(C-0)),T=A<0?0:A>1?1:A,t.V(st,0,1*(T-0)),t.V(ot,e.nb(n._30[0][rt[0]],rt[1]),e.nb(n._30[1][st[0]],st[1])),S=o._+o._20,(O=S<0?0:S>1?0+(S-0)%1:S)<.5?O<.4?O<.256169?t.V(ct,0,3.90367*(O-0)):t.V(ct,1,6.95262*(O-.256169)):t.V(ct,2,10*(O-.4)):O<.8?O<.623069?t.V(ct,3,8.12552*(O-.5)):t.V(ct,4,5.65192*(O-.623069)):t.V(ct,5,5*(O-.8)),P=e.nb(n._32[0][ct[0]],ct[1]),_=o._/o._2,M=_<0?0:_>1?1:_,t.V(at,0,15*(M-0)),R=e.nb(n._33[0][at[0]],at[1]),N=_<0?0:_>1?1:_,t.V(ht,0,15*(N-0)),B=e.nb(n._34[0][ht[0]],ht[1]),I=t.r(t.r(ot,t.X(1,P,R)),B),F=t.j(nt,I),t.S(o.Pd,[.5,.5]),t.U(o.Mc,$),t.S(o.Nd,F),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=0},this.Cc=function(t,e){return e._>e._2}}(c.prototype=new r).draw=function(t,e){for(var i=0;i<this.od.length;++i)this.od[i].Hd(t,e)},this.createWGLInstance=function(t,e,i,n){var o=new s;return o._init(this,t,e,i,n||{}),o},this.createCanvas2DInstance=function(t,e,i){var n=new c;return n._init(this,t,e,i||{}),n},this.textures=["sphere_orange.png"],this.materials=[1],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=3e3,this.qd=function(t){t.Dd=.0166667,t.Ud=0,t.presimFrameTime=.1,t.rand=function(){return Math.random()},t.pd(new a),t.pd(new h),t.pd(new u)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,i,n){var o=Math.floor(n),r=n-o;t.Y(e,i[o],i[o+1],r)},this.nb=function(e,i){var n=Math.floor(i),o=n+1;return t.X(e[n],e[o],i-n)}}}),cc._RF.pop()},{}],StateForJS:[function(t,e,i){"use strict";cc._RF.push(e,"658d5P3MUBBApXFkwazlx6Z","StateForJS"),i.__esModule=!0,i.StateForJs=void 0;var n=cc._decorator,o=(n.ccclass,n.property,function(){});i.StateForJs=o,o.isCanDraw=!0,o.timeToWin=4,o.isToStore=!1,cc._RF.pop()},{}],TouchController:[function(t,e){"use strict";cc._RF.push(e,"d9305oVF5hPCLfUSaAOK4yn","TouchController");var i=t("../Data/StateForJS");cc.Class({extends:cc.Component,properties:{graphics:cc.Prefab,nodesController:cc.Node,audioManager:cc.Node,GamePlay:cc.Node,GameController:cc.Node,EggController:cc.Node},onLoad:function(){window.isDraw=!1,this.node.on(cc.Node.EventType.TOUCH_START,this.touch_start,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touch_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touch_end,this)},start:function(){i.StateForJs.isCanDraw=!0,this.createGraphics(),this.isChangeEggRigidbodyType=!1},touch_start:function(){window.isToStore?this.GameController.getComponent("GameController").installHandle():(this.audioManager.getComponent("AudioManager").playSound("drawSound"),this.audioManager.getComponent("AudioManager").drawSound.loop=!0)},touch_end:function(){var t=this;if(!window.isToStore){if(i.StateForJs.isToStore||window.isTouchWall)return this.audioManager.getComponent("AudioManager").stopSound("drawSound"),void(window.isTouchWall=!1);i.StateForJs.isCanDraw||(this.offEvent(),this.EggController.getComponent("EggController").changeRigidbodyType(),this.createGraphics()),this.audioManager.getComponent("AudioManager").stopSound("drawSound"),this.scheduleOnce(function(){window.isReplayGame||window.isLoseGame||t.GamePlay.getComponent("GamePlay").winGame()},i.StateForJs.timeToWin)}},offEvent:function(){this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_END)},createGraphics:function(){var t=cc.instantiate(this.graphics);t.x=0,this.node.addChild(t)}}),cc._RF.pop()},{"../Data/StateForJS":"StateForJS"}],Ultils:[function(t,e,i){"use strict";cc._RF.push(e,"be0d17Ed0ZFy5GvuwVSQsnQ","Ultils"),Object.defineProperty(i,"__esModule",{value:!0}),i.Ultils=void 0;var n=cc._decorator,o=(n.ccclass,n.property,function(t){return t-1}),r=function(){function t(){}return t.decreaseRevive=o,t}();i.Ultils=r,cc._RF.pop()},{}],constants:[function(t,e,i){"use strict";cc._RF.push(e,"d0b68xTANVBsaIBjAI8Yj1K","constants"),Object.defineProperty(i,"__esModule",{value:!0}),i.Constants=void 0;var n,o=cc._decorator;o.ccclass,o.property,function(t){t.touchStart="touchstart",t.touchMove="touchmove",t.touchEnd="touchend",t.touchCancel="touchcancel"}(n||(n={}));var r,s={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},c={calculated:0,currentDevice:""};(function(t){t.bgSound="bgSound",t.drawSound="drawSound",t.winSound="winSound",t.moveSound="moveSound",t.fireworksSound="fireworksSound",t.crySound="crySound",t.clickSound="clickSound",t.loseSound="loseSound",t.stingSound="stingSound",t.explosionSound="explosionSound",t.beeSound="beeSound",t.hatchEggSound="hatchEggSound"})(r||(r={}));var a=function(){function t(){}return t.isClickGameStart=!1,t.isRotate=!1,t.isCanTouch=!1,t.isToStore=!1,t.currentPosition=null,t.CharacterPos=null,t.Char_Point1=null,t.Char_Point2=null,t.Char_Point3=null,t.isHit=!1,t.isWinGame=!1,t.isLoseGame=!1,t.currentLv=1,t.currentOption=14,t.Event=n,t.SoundTrack=r,t.ironSource=s,t.Responsive=c,t}();i.Constants=a,cc._RF.pop()},{}],"neutrinoparticles.umd":[function(require,module,exports){"use strict";var global,factory;cc._RF.push(module,"ab558HOKv9Bq5K2NwBWDZL+","neutrinoparticles.umd"),global=void 0,factory=function(exports){function Context(){var ctx=this;function colorCompToHex_(t){return t<16?"0"+t.toString(16):t.toString(16)}this.equalv3_=function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]},this.equalq_=function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]&&t[3]==e[3]},this.a=function(t,e,i){t[0]=e[0]+i[0],t[1]=e[1]+i[1]},this.b=function(t,e){return[t[0]+e[0],t[1]+e[1]]},this.y=function(t,e,i){t[0]=e[0]+i,t[1]=e[1]+i},this.z=function(t,e){return[t[0]+e,t[1]+e]},this.c=function(t,e,i){t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2]},this.d=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},this.C=function(t,e,i){t[0]=e[0]+i,t[1]=e[1]+i,t[2]=e[2]+i},this.D=function(t,e){return[t[0]+e,t[1]+e,t[2]+e]},this.addq=function(t,e,i){t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3]},this.addq_=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3]]},this.e=function(t,e,i){t[0]=e[0]-i[0],t[1]=e[1]-i[1]},this.f=function(t,e){return[t[0]-e[0],t[1]-e[1]]},this.A=function(t,e,i){t[0]=e[0]-i,t[1]=e[1]-i},this.B=function(t,e){return[t[0]-e,t[1]-e]},this.nf=function(t,e,i){t[0]=e-i[0],t[1]=e-i[1]},this.of=function(t,e){return[t-e[0],t-e[1]]},this.g=function(t,e,i){t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2]},this.h=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},this.E=function(t,e,i){t[0]=e[0]-i,t[1]=e[1]-i,t[2]=e[2]-i},this.F=function(t,e){return[t[0]-e,t[1]-e,t[2]-e]},this.rf=function(t,e,i){t[0]=e-i[0],t[1]=e-i[1],t[2]=e-i[2]},this.sf=function(t,e){return[t-e[0],t-e[1],t-e[2]]},this.i=function(t,e,i){t[0]=e[0]*i[0],t[1]=e[1]*i[1]},this.j=function(t,e){return[t[0]*e[0],t[1]*e[1]]},this.k=function(t,e,i){t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2]},this.l=function(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2]]},this.m=function(t,e,i){t[0]=e[0]/i[0],t[1]=e[1]/i[1]},this.n=function(t,e){return[t[0]/e[0],t[1]/e[1]]},this.o=function(t,e,i){t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2]},this.p=function(t,e){return[t[0]/e[0],t[1]/e[1],t[2]/e[2]]},this.H=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},this.dotq_=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},this.q=function(t,e,i){t[0]=e[0]*i,t[1]=e[1]*i},this.r=function(t,e){return[t[0]*e,t[1]*e]},this.s=function(t,e,i){t[0]=e[0]/i,t[1]=e[1]/i},this.t=function(t,e){return[t[0]/e,t[1]/e]},this.u=function(t,e,i){t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i},this.v=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},this.w=function(t,e,i){t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i},this.x=function(t,e){return[t[0]/e,t[1]/e,t[2]/e]},this.y=function(t,e,i){t[0]=e[0]+i,t[1]=e[1]+i},this.z=function(t,e){return[t[0]+e,t[1]+e]},this.A=function(t,e,i){t[0]=e[0]-i,t[1]=e[1]-i},this.B=function(t,e){return[t[0]-e,t[1]-e]},this.G=function(t,e){return t[0]*e[0]+t[1]*e[1]},this.H=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},this.I=function(t,e,i){var n=e[0],o=e[1],r=e[2],s=i[0],c=i[1],a=i[2];t[0]=o*a-r*c,t[1]=r*s-n*a,t[2]=n*c-o*s},this.J=function(t,e){var i=t[0],n=t[1],o=t[2],r=e[0],s=e[1],c=e[2];return[n*c-o*s,o*r-i*c,i*s-n*r]},this.K=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},this.L=function(t){return t[0]*t[0]+t[1]*t[1]},this.M=function(t,e){ctx.q(t,e,1/ctx.K(e))},this.N=function(t){return ctx.r(t,1/ctx.K(t))},this.O=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},this.P=function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},this.Q=function(t,e){ctx.u(t,e,1/ctx.O(e))},this.R=function(t){return ctx.v(t,1/ctx.O(t))},this.S=function(t,e){t[0]=e[0],t[1]=e[1]},this.T=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]},this.U=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]},this.V=function(t,e,i){t[0]=e,t[1]=i},this.W=function(t,e,i,n){t[0]=e,t[1]=i,t[2]=n},this.X=function(t,e,i){return t+(e-t)*i},this.Y=function(t,e,i,n){t[0]=e[0]+(i[0]-e[0])*n,t[1]=e[1]+(i[1]-e[1])*n},this.Z=function(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]},this.ab=function(t,e,i,n){t[0]=e[0]+(i[0]-e[0])*n,t[1]=e[1]+(i[1]-e[1])*n,t[2]=e[2]+(i[2]-e[2])*n},this.bb=function(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i,t[2]+(e[2]-t[2])*i]},this.slerpq=function(t,e,i,n){var o=ctx.dotq_(e,i),r=[];if(o<0?(ctx.negq(r,i),o=-o):ctx.U(r,i),1-o<Number.EPSILON)t[0]=ctx.X(e[0],i[0],n),t[1]=ctx.X(e[1],i[1],n),t[2]=ctx.X(e[2],i[2],n),t[3]=ctx.X(e[3],i[3],n);else{var s=ctx.acos_(o);ctx.mulqscalar(t,ctx.addq_(ctx.mulqscalar_(e,ctx.sin_((1-n)*s)),ctx.mulqscalar_(r,ctx.sin_(n*s))),1/ctx.sin_(s))}},this.slerpq_=function(t,e,i){var n=[];return slerpq(n,t,e,i),n},this.acos_=function(t){return Math.acos(t)},this.sin_=function(t){return Math.sin(t)},this.cos_=function(t){return Math.cos(t)},this.taus88=function(t){var e,i,n;t||(t=0),this.seed=function(t){e=(t&=4294967295)<2?t+2:t,i=t<8?t+8:t,n=t<16?t+16:t},this.rand=function(){var t=(4294967295&(e<<13^e))>>>19;return(((e=((4294967294&e)<<12^t)>>>0)^(i=((4294967288&i)<<4^(t=(4294967295&(i<<2^i))>>>25))>>>0)^(n=((4294967280&n)<<17^(t=(4294967295&(n<<3^n))>>>11))>>>0))>>>0)/4294967296},this.seed(t)},this.cb=function(t,e){this.randv2gen(t,e,function(){return Math.random()})},this.randv2gen=function(t,e,i){var n=i()*Math.PI*2;t[0]=e*ctx.cos_(n),t[1]=e*ctx.sin_(n)},this.db=function(t,e){this.randv3gen(t,e,function(){return Math.random()})},this.randv3gen=function(t,e,i){var n=i()*Math.PI*2,o=2*i()-1,r=e*Math.sqrt(1-o*o);t[0]=r*ctx.cos_(n),t[1]=r*ctx.sin_(n),t[2]=e*o},this.yb=function(t,e,i,n,o){var r=e+o()*n[0],s=i+o()*n[1];ctx.V(t,r,s)},this.eb=function(t,e){ctx.V(-e[0],-e[1])},this.fb=function(t){return[-t[0],-t[1]]},this.gb=function(t,e){ctx.W(-e[0],-e[1],-e[2])},this.hb=function(t){return[-t[0],-t[1],-t[2]]},this.negq=function(t,e){t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3]},this.negq_=function(t){return[-t[0],-t[1],-t[2],-t[3]]},this.ib=function(t){return t/180*Math.PI},this.jb=function(t){return t/Math.PI*180},this.Ae=function(t){return t<0?-1:1},this.ob=function(t,e,i,n){var o=2*n[0]*n[0],r=2*n[1]*n[1],s=2*n[2]*n[2],c=2*n[0]*n[1],a=2*n[0]*n[2],h=2*n[1]*n[2],u=2*n[3]*n[2],d=2*n[3]*n[1],f=2*n[3]*n[0];t[0]=1-r-s,t[1]=c+u,t[2]=a-d,e[0]=c-u,e[1]=1-o-s,e[2]=h+f,i[0]=a+d,i[1]=h-f,i[2]=1-o-r},this.pb=function(t,e,i,n){var o=e[0]+i[1]+n[2];if(o>0){var r=2*Math.sqrt(o+1);t[3]=.25*r,t[0]=(i[2]-n[1])/r,t[1]=(n[0]-e[2])/r,t[2]=(e[1]-i[0])/r}else e[0]>i[1]&e[0]>n[2]?(r=2*Math.sqrt(1+e[0]-i[1]-n[2]),t[3]=(i[2]-n[1])/r,t[0]=.25*r,t[1]=(e[1]+i[0])/r,t[2]=(n[0]+e[2])/r):i[1]>n[2]?(r=2*Math.sqrt(1+i[1]-e[0]-n[2]),t[3]=(n[0]-e[2])/r,t[0]=(e[1]+i[0])/r,t[1]=.25*r,t[2]=(i[2]+n[1])/r):(r=2*Math.sqrt(1+n[2]-e[0]-i[1]),t[3]=(e[1]-i[0])/r,t[0]=(n[0]+e[2])/r,t[1]=(i[2]+n[1])/r,t[2]=.25*r)},this.axes2quat=this.pb,this.qb=function(t,e,i){var n=.5*ctx.ib(i),o=Math.sin(n);t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=Math.cos(n)},this.axisangle2quat=this.qb,this.axisangle2quat_=function(t,e){var i=.5*ctx.ib(e),n=Math.sin(i);return[t[0]*n,t[1]*n,t[2]*n,ctx.cos_(i)]},this.axisangle2quat_=this.axisangle2quat_,this.rb=function(t,e,i){var n=e[0],o=e[1],r=e[2],s=i[0],c=i[1],a=i[2],h=i[3],u=h*n+c*r-a*o,d=h*o+a*n-s*r,f=h*r+s*o-c*n,l=-s*n-c*o-a*r;t[0]=u*h+l*-s+d*-a-f*-c,t[1]=d*h+l*-c+f*-s-u*-a,t[2]=f*h+l*-a+u*-c-d*-s},this.sb=function(t,e,i){var n=e[0],o=e[1],r=e[2],s=e[3],c=i[0],a=i[1],h=i[2],u=i[3];t[0]=n*u+s*c+o*h-r*a,t[1]=o*u+s*a+r*c-n*h,t[2]=r*u+s*h+n*a-o*c,t[3]=s*u-n*c-o*a-r*h},this.mulqscalar=function(t,e,i){t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i},this.mulqscalar_=function(t,e){return[t[0]*e,t[1]*e,t[2]*e,t[3]*e]},this.tb=function(t,e,i,n,o){var r=ctx.ib(i),s=Math.cos(r)*n,c=Math.sin(r)*n;t[0]=e[0]+s*o[0]-c*o[1],t[1]=e[1]+c*o[0]+s*o[1]},this.ub=function(t,e,i,n,o){var r=ctx.ib(i),s=Math.cos(r)/n,c=Math.sin(r)/n;t[0]=s*o[0]+c*o[1]-e[0]*s-e[1]*c,t[1]=s*o[1]-c*o[0]+e[0]*c-e[1]*s},this.vb=function(t){return t<0?Math.floor(ctx.yd-1+t%ctx.yd):Math.floor(t%ctx.yd)},this.ff=function(t){return"#"+colorCompToHex_(Math.floor(255*t[0]))+colorCompToHex_(Math.floor(255*t[1]))+colorCompToHex_(Math.floor(255*t[2]))},this.tf=function(t,e,i,n,o,r){var s=ctx.f(n,t),c=ctx.f(o,t),a=ctx.r(e,i);if(s[0]<-a[0]&&c[0]<-a[0]||s[0]>a[0]&&c[0]>a[0]||s[1]<-a[1]&&c[1]<-a[1]||s[1]>a[1]&&c[1]>a[1])return!1;if(s[0]<=a[0]&&s[0]>=-a[0]&&s[1]<=a[1]&&s[1]>=-a[1])return!0;if(r<1e-6)return!1;if(c[0]<=a[0]&&c[0]>=-a[0]&&c[1]<=a[1]&&c[1]>=-a[1])return!0;var h=ctx.f(o,n);ctx.s(h,h,r);var u=[-h[1],h[0]],d=Math.abs(ctx.G(u,c));if(Math.abs(ctx.G(u,a))>=d){var f=[-e[1],e[0]];if(ctx.G(f,s)*ctx.G(f,c)<=0)return!0}else if(Math.abs(ctx.G(u,[a[0],-a[1]]))>=d){var l=[e[1],e[0]];if(ctx.G(l,s)*ctx.G(l,c)<=0)return!0}return!1},this.uf=function(t,e,i,n,o,r,s){var c=ctx.f(n,t),a=ctx.f(o,t),h=ctx.r(e,i);if(r<1e-6)return!1;if(c[0]<-h[0]&&a[0]<-h[0]||c[0]>h[0]&&a[0]>h[0]||c[1]<-h[1]&&a[1]<-h[1]||c[1]>h[1]&&a[1]>h[1])return!1;var u=ctx.f(o,n);ctx.s(u,u,r);var d=[-u[1],u[0]],f=Math.abs(ctx.G(d,a));if(s){if(Math.abs(ctx.G(d,h))>=f){var l=[-e[1],e[0]];if(ctx.G(l,c)*ctx.G(l,a)<=0)return!0}}else if(Math.abs(ctx.G(d,[h[0],-h[1]]))>=f){var p=[e[1],e[0]];if(ctx.G(p,c)*ctx.G(p,a)<=0)return!0}return!1},this.wb=function(t,e,i,n){var o=3*(i*ctx.yd+e),r=ctx.zd[n];t[0]=r.getUint8(o),t[1]=r.getUint8(o+1),t[2]=r.getUint8(o+2)},this.xb=function(t,e){if(null!=ctx.zd){var i=e[0]*ctx.yd,n=e[1]*ctx.yd,o=e[2]*ctx.yd,r=Math.floor(i),s=Math.floor(n),c=Math.floor(o),a=i-r,h=n-s,u=o-c,d=ctx.vb(r),f=ctx.vb(r+1),l=ctx.vb(s),p=ctx.vb(s+1),_=ctx.vb(c),b=ctx.vb(c+1),v=[],y=[],g=[],m=[],x=[],w=[],A=[],C=[];ctx.wb(v,d,l,_),ctx.wb(y,d,l,b),ctx.wb(g,d,p,_),ctx.wb(m,d,p,b),ctx.wb(x,f,l,_),ctx.wb(w,f,l,b),ctx.wb(A,f,p,_),ctx.wb(C,f,p,b);var T=[],S=[],P=[],O=[];ctx.ab(T,v,y,u),ctx.ab(S,g,m,u),ctx.ab(P,x,w,u),ctx.ab(O,A,C,u);var R=[],M=[];ctx.ab(R,T,S,h),ctx.ab(M,P,O,h),ctx.ab(t,R,M,a)}else ctx.W(t,128,128,128)},this.ImageDesc=function(t,e,i,n,o){this.image=t,this.x=e,this.y=i,this.width=n,this.height=o},this.RenderCall=function(t,e,i){this.startIndex=t,this.numIndices=e,this.renderStyleIndex=i},this.SubRect=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},this.Camera2D=function(){},this.Camera2D.prototype.tb=function(){return!0},this.Camera3D=function(t,e){this.Qd=ctx.r(t,.5),this.z=-.5*t[0]/Math.tan(ctx.ib(.5*e))},this.Camera3D.prototype.transform=function(t,e){if(t[2]<this.z)return!1;var i=-this.z/(t[2]-this.z);return ctx.a(t,ctx.r(ctx.f(t,this.Qd),i),this.Qd),ctx.q(e,e,i),!0},this.zd=null,this.yd=0,this.initializeNoise=function(t,e,i){if(t||alert("path should be defined"),null==this.zd){null!=t&&null!=t||(t=this.defaultPath);var n=new XMLHttpRequest;n.open("GET",t+"neutrinoparticles.noise.bin",!0),n.responseType="arraybuffer",n.ctx=this,n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<300||304==n.status){var t=n.response,o=n.ctx,r=new DataView(t,0,4).getUint32(0,!0);o.zd=[],o.yd=r;for(var s=0;s<r;++s)o.zd[s]=new DataView(t,4+3*r*r*s);e&&e()}else i&&i()},n.send()}else e()},this.NoiseGenerator=function(){for(var t,e,i,n,o,r,s,c=function(t,e,i,n,o){return.5*(2*e+(-t+i)*o+(2*t-5*e+4*i-n)*o*o+(3*e-t-3*i+n)*o*o*o)},a=function(t,e,i,n,o){return[c(t[0],e[0],i[0],n[0],o),c(t[1],e[1],i[1],n[1],o),c(t[2],e[2],i[2],n[2],o)]},h=function(t,e,i){return t<e?e:t>i?i:t},u=[],d=[],f=new ctx.taus88(120),l=function(){return f.rand()},p=.7,_=64,b=0,v=0,y=_>>>1;y>0;y>>>=1){var g=Math.floor(64/y);b+=g*g}var m=0;this.progress=0;var x=function(){for(var t=0;t<64;++t)for(var e=u[t]=[],i=0;i<64;++i)for(var n=e[i]=[],o=0;o<64;++o)n[o]=[0,0,0];m=1,this.progress=.01},w=function(){t=_>>>1,e=Math.floor(64/t),i=e*e,n=Math.max(e-1,1),o=e*e*e,r=0,s=0;for(var c=0;c<o;++c)d[c]=[],d[c][2]=2*l()-1,d[c][1]=2*l()-1,d[c][0]=2*l()-1;m=2},A=function(){for(var o=0;o<e;++o)for(var c=r-1>>>0&n,f=r>>>0&n,l=r+1>>>0&n,y=r+2>>>0&n,g=s-1>>>0&n,x=s>>>0&n,w=s+1>>>0&n,A=s+2>>>0&n,C=o-1>>>0&n,T=o>>>0&n,S=o+1>>>0&n,P=o+2>>>0&n,O=[[[d[c*i+g*e+C],d[c*i+g*e+T],d[c*i+g*e+S],d[c*i+g*e+P]],[d[c*i+x*e+C],d[c*i+x*e+T],d[c*i+x*e+S],d[c*i+x*e+P]],[d[c*i+w*e+C],d[c*i+w*e+T],d[c*i+w*e+S],d[c*i+w*e+P]],[d[c*i+A*e+C],d[c*i+A*e+T],d[c*i+A*e+S],d[c*i+A*e+P]]],[[d[f*i+g*e+C],d[f*i+g*e+T],d[f*i+g*e+S],d[f*i+g*e+P]],[d[f*i+x*e+C],d[f*i+x*e+T],d[f*i+x*e+S],d[f*i+x*e+P]],[d[f*i+w*e+C],d[f*i+w*e+T],d[f*i+w*e+S],d[f*i+w*e+P]],[d[f*i+A*e+C],d[f*i+A*e+T],d[f*i+A*e+S],d[f*i+A*e+P]]],[[d[l*i+g*e+C],d[l*i+g*e+T],d[l*i+g*e+S],d[l*i+g*e+P]],[d[l*i+x*e+C],d[l*i+x*e+T],d[l*i+x*e+S],d[l*i+x*e+P]],[d[l*i+w*e+C],d[l*i+w*e+T],d[l*i+w*e+S],d[l*i+w*e+P]],[d[l*i+A*e+C],d[l*i+A*e+T],d[l*i+A*e+S],d[l*i+A*e+P]]],[[d[y*i+g*e+C],d[y*i+g*e+T],d[y*i+g*e+S],d[y*i+g*e+P]],[d[y*i+x*e+C],d[y*i+x*e+T],d[y*i+x*e+S],d[y*i+x*e+P]],[d[y*i+w*e+C],d[y*i+w*e+T],d[y*i+w*e+S],d[y*i+w*e+P]],[d[y*i+A*e+C],d[y*i+A*e+T],d[y*i+A*e+S],d[y*i+A*e+P]]]],R=0;R<t;++R)for(var M=R/t,B=r*t+R,N=[[a(O[0][0][0],O[1][0][0],O[2][0][0],O[3][0][0],M),a(O[0][0][1],O[1][0][1],O[2][0][1],O[3][0][1],M),a(O[0][0][2],O[1][0][2],O[2][0][2],O[3][0][2],M),a(O[0][0][3],O[1][0][3],O[2][0][3],O[3][0][3],M)],[a(O[0][1][0],O[1][1][0],O[2][1][0],O[3][1][0],M),a(O[0][1][1],O[1][1][1],O[2][1][1],O[3][1][1],M),a(O[0][1][2],O[1][1][2],O[2][1][2],O[3][1][2],M),a(O[0][1][3],O[1][1][3],O[2][1][3],O[3][1][3],M)],[a(O[0][2][0],O[1][2][0],O[2][2][0],O[3][2][0],M),a(O[0][2][1],O[1][2][1],O[2][2][1],O[3][2][1],M),a(O[0][2][2],O[1][2][2],O[2][2][2],O[3][2][2],M),a(O[0][2][3],O[1][2][3],O[2][2][3],O[3][2][3],M)],[a(O[0][2][0],O[1][3][0],O[2][3][0],O[3][3][0],M),a(O[0][2][1],O[1][3][1],O[2][3][1],O[3][3][1],M),a(O[0][2][2],O[1][3][2],O[2][3][2],O[3][3][2],M),a(O[0][2][3],O[1][3][3],O[2][3][3],O[3][3][3],M)]],I=0;I<t;++I)for(var F=I/t,L=s*t+I,G=a(N[0][0],N[1][0],N[2][0],N[3][0],F),E=a(N[0][1],N[1][1],N[2][1],N[3][1],F),V=a(N[0][2],N[1][2],N[2][2],N[3][2],F),k=a(N[0][3],N[1][3],N[2][3],N[3][3],F),U=0;U<t;++U){var j=o*t+U,D=a(G,E,V,k,U/t),q=ctx.d(ctx.v(D,p),u[B][L][j]),H=[h(q[0],-1,1),h(q[1],-1,1),h(q[2],-1,1)];u[B][L][j]=H}v++,this.progress=.01+v/b*.89,++s>=e&&(s=0,++r>=e&&(r=0,_=t,p=Math.pow(p,1.2),_<=1?(m=3,this.progress=.9):m=1))},C=function(){for(var t=[-1,-1,-1],e=[.5,.7,1],i=0;i<64;++i)for(var n=u[i],o=0;o<64;++o)for(var r=n[o],s=0;s<64;++s){var c=r[s];c[0]=ctx.X(t[0],e[0],.5*c[0]+.5),c[1]=ctx.X(t[1],e[1],.5*c[1]+.5),c[2]=ctx.X(t[2],e[2],.5*c[2]+.5)}m=4,this.progress=.95},T=function(){ctx.yd=64,ctx.zd=[];for(var t=0;t<64;++t){for(var e=u[t],i=new ArrayBuffer(12288),n=new DataView(i),o=0;o<64;++o)for(var r=e[o],s=0;s<64;++s){var c=r[s],a=3*(64*o+s);n.setUint8(a+0,Math.floor(h(256*(.5*c[0]+.5)-.5,0,255))),n.setUint8(a+1,Math.floor(h(256*(.5*c[1]+.5)-.5,0,255))),n.setUint8(a+2,Math.floor(h(256*(.5*c[2]+.5)-.5,0,255)))}ctx.zd[t]=n}m=5,this.progress=1};this.step=function(){switch(m){case 0:x.call(this);break;case 1:w.call(this);break;case 2:A.call(this);break;case 3:C.call(this);break;case 4:T.call(this)}return 5==m}},this.cf=document.createElement("canvas"),this.cf.width=0,this.cf.height=0,this.bf=this.cf.getContext("2d"),this.af=function(t,e){(this.cf.width<t||this.cf.height<e)&&(this.cf.width=t,this.cf.height=e,this.bf=this.cf.getContext("2d"))},this.effects=[],this.loadEffect=function(effectFilePath,onSuccessFunc,onFailFunc){if(null!=this.effects[effectFilePath]){var effectModel=this.effects[effectFilePath];return effectModel instanceof Array?void(effectModel[effectModel.length]=[onSuccessFunc,onFailFunc]):void onSuccessFunc(effectModel)}this.effects[effectFilePath]=[[onSuccessFunc,onFailFunc]];var request=new XMLHttpRequest;request.open("GET",effectFilePath,!0),request.responseType="text",request.ctx=this,request.onreadystatechange=function(){if(4==request.readyState){var callbacks=this.ctx.effects[effectFilePath];if(request.status>=200&&request.status<300||304==request.status){var evalText="(function(ctx) {\n"+request.responseText+"\nreturn new NeutrinoEffect(ctx);\n})(this.ctx);",effectModel=eval(evalText);this.ctx.effects[effectFilePath]=effectModel,callbacks.forEach(function(t){t[0](effectModel)})}else callbacks.forEach(function(t){t[1]()})}},request.send()},this.removeEffect=function(t){delete this.effects[t]}}exports.Context=Context,Object.defineProperty(exports,"__esModule",{value:!0})},"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global=global||self).Neutrino={}),cc._RF.pop()},{}],textures:[function(t,e,i){"use strict";cc._RF.push(e,"7a2b5P05SNHFqDPc57oiMr7","textures"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=[{uuid:"4e0adc9b-73d2-44ad-bf95-1647f8336e0a",path:"Circle512"},{uuid:"f7a11ec4-043c-4992-a469-c662791ec02d",path:"blurable_bubble"},{uuid:"f5917837-4808-4aca-8d16-88b614dcc597",path:"blurable_spot"},{uuid:"82530b06-7058-4353-90a5-65d4f9d9cef9",path:"fx/fireworks/sparks2x3_violet"},{uuid:"dfea0dc6-4b85-404a-8525-6b163a8fa20d",path:"fx/fireworks/sparks5x2_long_violet"},{uuid:"61e7cec0-d7d1-4107-9066-27570c200683",path:"fx/fireworks/sparks5x3_long"},{uuid:"49716cf5-a08d-4202-bc38-b7fc472370ec",path:"fx/fireworks/stars4x1_white"},{uuid:"6b893435-8d83-41e9-8d41-7b495cecba54",path:"sphere_orange"},{uuid:"a0b2248f-8fdf-4295-889a-38f2012cf28d",path:"textures"}],cc._RF.pop()},{}]},{},["Bee","EggController","GameController","GamePlay","GraphicsContro","NodesController","PointController","TouchController","GameOption","Interfaces","StateForJS","constants","Astar","AudioManager","Grid","MyPhysicsCollider","PathFinding","Responsive","Ultils","NeutrinoEffect_Bubbles","NeutrinoEffect_Fireworks01","NeutrinoEffect_Fireworks02","NeutrinoEffect_Sparks burst","Bubbles","Fireworks01","Fireworks02","Sparks burst","textures","NeutrinoAssembler","NeutrinoAssemblerJSB","NeutrinoAssemblerWebGL","NeutrinoComponent","NeutrinoContext","NeutrinoSettings","neutrinoparticles.umd"]);