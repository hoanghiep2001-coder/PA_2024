window.__require=function t(e,o,n){function i(r,c){if(!o[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!c&&u)return u(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,o,n)}return o[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"16092J/6+9HR5x8fJSUKKad","AudioManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Data/constants"),c=cc._decorator,a=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgSound=null,e.drawSound=null,e.successSound=null,e.moveSound=null,e.fireworksSound=null,e}return i(e,t),e.prototype.playSound=function(t){if(r.Constants.ironSource.SoundState)switch(t){case"bgSound":this.bgSound.play();break;case"drawSound":this.drawSound.play();break;case"successSound":this.successSound.play();break;case"moveSound":this.moveSound.play();break;case"fireworksSound":this.fireworksSound.play()}},e.prototype.stopSound=function(t){switch(t){case"bgSound":this.bgSound.stop();break;case"drawSound":this.drawSound.stop();break;case"successSound":this.successSound.stop();break;case"moveSound":this.moveSound.stop();break;case"fireworksSound":this.fireworksSound.stop()}},e.prototype.stopAllSound=function(){this.bgSound.stop(),this.drawSound.stop(),this.successSound.stop(),this.moveSound.stop(),this.fireworksSound.stop()},s([u(cc.AudioSource)],e.prototype,"bgSound",void 0),s([u(cc.AudioSource)],e.prototype,"drawSound",void 0),s([u(cc.AudioSource)],e.prototype,"successSound",void 0),s([u(cc.AudioSource)],e.prototype,"moveSound",void 0),s([u(cc.AudioSource)],e.prototype,"fireworksSound",void 0),s([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Data/constants":"constants"}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"dfec3bBGHdHY4ShHxSUTm+E","GameController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.GameController=void 0;var r=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=cc._decorator,u=a.ccclass,l=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){window.gameReady&&window.gameReady()},e.prototype.installHandle=function(){if(console.log("install"),this.AudioManager.stopAllSound(),r.Constants.ironSource.isEndGame=!0,window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?(cc.sys.os==cc.sys.OS_ANDROID||(cc.sys.os,cc.sys.ANDROID),void mraid.open("https://play.google.com/store/apps/details?id=dop.draw.it.art.brain.game.easy.drawing")):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},s([l(c.default)],e.prototype,"AudioManager",void 0),s([u],e)}(cc.Component);o.GameController=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(t,e,o){"use strict";cc._RF.push(e,"e4962SfSUFOcoqc2Otz+5iQ","GamePlay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=t("./GameController"),u=cc._decorator,l=u.ccclass,d=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.GameController=null,e.pencil=null,e.Bg_HideMask=null,e.logo=null,e.point=null,e.hint=null,e.point_draws=[],e.CTA=null,e.CTA_logo=null,e.CTA_overlay=null,e.CTA_btn=null,e.fireWorks=[],e.effect_Nodes=[],e.effect_FireWorks=[],e.spine_FireWorks=[],e.spine_level3=null,e.text_lv3=null,e.curentPosition=null,e.currentHint=null,e.currentPencil=null,e.curerntPoint=null,e.currentHitPoints=[],e.doneHitPoints=[!1,!1,!1],e}return i(e,t),e.prototype.onLoad=function(){this.CTA.active=!1,this.spine_FireWorks.forEach(function(t){return t.node.active=!1})},e.prototype.start=function(){this.AudioManager.playSound(r.Constants.SoundTrack.bgSound),this.handleGamePlay(),r.Constants.isCanTouch=!0},e.prototype.handleGamePlay=function(){this.registerEvent()},e.prototype.registerEvent=function(){this.Bg_HideMask.on(cc.Node.EventType.TOUCH_START,this.handleBgTouchStart,this),this.Bg_HideMask.on(cc.Node.EventType.TOUCH_MOVE,this.handleBgTouchMove,this),this.Bg_HideMask.on(cc.Node.EventType.TOUCH_END,this.handleBgTouchEnd,this),this.Bg_HideMask.on(cc.Node.EventType.TOUCH_CANCEL,this.handleBgTouchEnd,this)},e.prototype.handleBgTouchStart=function(t){r.Constants.isCanTouch&&(3!==r.Constants.currentLv?(this.curentPosition=t.getLocation(),this.setupLevel(),this.currentHint.getComponent(cc.Animation).stop(),this.currentHint.active=!1,this.curerntPoint.setPosition(this.setCurrentPointPos()),this.AudioManager.playSound(r.Constants.SoundTrack.drawSound),this.AudioManager.drawSound.loop=!0):this.GameController.installHandle())},e.prototype.handleBgTouchMove=function(t){r.Constants.isCanTouch&&(this.currentPencil.moveTo(this.curentPosition.x-cc.winSize.width/2,this.curentPosition.y-cc.winSize.height/2-r.Constants.Responsive.calculated),this.currentPencil.lineTo(t.getLocation().x-cc.winSize.width/2,t.getLocation().y-cc.winSize.height/2-r.Constants.Responsive.calculated),this.curentPosition=t.getLocation(),this.currentPencil.stroke(),this.curerntPoint.setPosition(this.setCurrentPointPos()),this.handleIntersectPoints())},e.prototype.handleBgTouchEnd=function(){if(r.Constants.isCanTouch){this.currentPencil.clear(),this.AudioManager.stopSound(r.Constants.SoundTrack.drawSound);var t=this.doneHitPoints.find(function(t){return!1===t});"false"===String(t)?this.drawAgain():this.drawSuccess()}},e.prototype.setupLevel=function(){this.currentHint=this.hint,this.currentPencil=this.pencil,this.curerntPoint=this.point,this.currentHitPoints=this.point_draws},e.prototype.setCurrentPointPos=function(){var t=new cc.Vec2(0,0);return t.x=this.curentPosition.x-cc.winSize.width/2,t.y=this.curentPosition.y-cc.winSize.height/2-r.Constants.Responsive.calculated,t},e.prototype.handleIntersectPoints=function(){for(var t=0;t<this.currentHitPoints.length;t++)if(this.currentHitPoints[t].getBoundingBox().intersects(this.curerntPoint.getBoundingBox())){for(var e=0;e<this.doneHitPoints.length;e++)if(!this.doneHitPoints[e]){this.doneHitPoints[e]=!0,this.currentHitPoints.splice(t,1);break}break}},e.prototype.drawAgain=function(){console.log("draw again"),this.doneHitPoints[0]=!1,this.doneHitPoints[1]=!1,this.doneHitPoints[2]=!1},e.prototype.drawSuccess=function(){console.log("draw success"),r.Constants.isCanTouch=!1,this.doneHitPoints[0]=!1,this.doneHitPoints[1]=!1,this.doneHitPoints[2]=!1,this.effect_FireWorks[0].resetSystem(),this.effect_FireWorks[1].resetSystem(),this.activeFireWorks()},e.prototype.activeFireWorks=function(){var t=this;this.AudioManager.playSound(r.Constants.SoundTrack.fireworksSound),this.AudioManager.fireworksSound.volume=.7,this.fireWorks.forEach(function(e){cc.tween(e).to(1,{y:t.point_draws[3].y,scale:0}).start()}),this.scheduleOnce(function(){t.spine_FireWorks[0].node.active=!0,t.spine_FireWorks[3].node.active=!0,t.AudioManager.playSound(r.Constants.SoundTrack.successSound)},1),this.scheduleOnce(function(){t.spine_FireWorks[1].node.active=!0,t.spine_FireWorks[4].node.active=!0},1.5),this.scheduleOnce(function(){t.spine_FireWorks[2].node.active=!0,t.spine_FireWorks[5].node.active=!0,t.handleDoneLevel()},2)},e.prototype.handleDoneLevel=function(){var t=this;this.spine_level3.getComponent(sp.Skeleton).setAnimation(0,"action",!0),this.spine_level3.getParent().getComponent(cc.Animation).stop("Character_Anim"),this.Bg_HideMask.off(cc.Node.EventType.TOUCH_START),this.Bg_HideMask.off(cc.Node.EventType.TOUCH_MOVE),this.Bg_HideMask.off(cc.Node.EventType.TOUCH_END),this.Bg_HideMask.off(cc.Node.EventType.TOUCH_CANCEL),this.scheduleOnce(function(){r.Constants.isDrawSuccess=!0,t.CTA.active=!0,t.CTA_btn.on(cc.Node.EventType.TOUCH_START,t.GameController.installHandle,t)},2)},e.prototype.handleIronSourcePlaySound=function(){r.Constants.ironSource.isPlayBgSound||(r.Constants.ironSource.SoundState&&this.AudioManager.playSound(r.Constants.SoundTrack.bgSound),r.Constants.ironSource.isPlayBgSound=!0)},e.prototype.handleMuteSoundIronSource=function(){r.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),r.Constants.ironSource.State&&(1!==r.Constants.ironSource.State||r.Constants.ironSource.SoundState||r.Constants.ironSource.isEndGame||(r.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(r.Constants.SoundTrack.bgSound)),2===r.Constants.ironSource.State&&r.Constants.ironSource.SoundState&&(r.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},e.prototype.update=function(){},s([d(c.default)],e.prototype,"AudioManager",void 0),s([d(a.GameController)],e.prototype,"GameController",void 0),s([d(cc.Graphics)],e.prototype,"pencil",void 0),s([d(cc.Node)],e.prototype,"Bg_HideMask",void 0),s([d(cc.Node)],e.prototype,"logo",void 0),s([d(cc.Node)],e.prototype,"point",void 0),s([d(cc.Node)],e.prototype,"hint",void 0),s([d([cc.Node])],e.prototype,"point_draws",void 0),s([d(cc.Node)],e.prototype,"CTA",void 0),s([d(cc.Node)],e.prototype,"CTA_logo",void 0),s([d(cc.Node)],e.prototype,"CTA_overlay",void 0),s([d(cc.Node)],e.prototype,"CTA_btn",void 0),s([d([cc.Node])],e.prototype,"fireWorks",void 0),s([d([cc.Node])],e.prototype,"effect_Nodes",void 0),s([d([cc.ParticleSystem])],e.prototype,"effect_FireWorks",void 0),s([d([sp.Skeleton])],e.prototype,"spine_FireWorks",void 0),s([d(cc.Node)],e.prototype,"spine_level3",void 0),s([d(cc.Node)],e.prototype,"text_lv3",void 0),s([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController"}],Responsive:[function(t,e,o){"use strict";cc._RF.push(e,"d5c01VUSP5G8p7xJENgTwyO","Responsive");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Controller/GamePlay"),c=t("../Data/constants"),a=cc._decorator,u=a.ccclass,l=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GamePlay=null,e.background=null,e.lantern=null,e.drawArea=null,e.device="",e.isRotate=!1,e.HORIZONTAL_IPX="horizontal_IPX",e.HORIZONTAL_TABLET="horizontal_Tablet",e.VERTICAL_IPX="vertical_IPX",e.VERTICAL_MOBILE="vertical_Mobile",e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(this.isRotate=!0,this.setHorizontal()):(this.isRotate=!1,this.setVertical())},e.prototype.setHorizontal=function(){cc.view.getFrameSize().height/cc.view.getFrameSize().width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},e.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,c.Constants.Responsive.currentDevice="horizon_Tablet",this.lantern.scale=.5,this.GamePlay.text_lv3.scale=.48,this.GamePlay.text_lv3.y=135,this.GamePlay.logo.scale=.5,this.GamePlay.logo.x=-270,this.GamePlay.logo.y=0,this.GamePlay.CTA_logo.scale=.75)},e.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,c.Constants.Responsive.currentDevice="horizon_Tablet",this.lantern.scale=.35,this.GamePlay.text_lv3.scale=.48,this.GamePlay.text_lv3.y=135,this.GamePlay.logo.scale=.4,this.GamePlay.logo.x=-240,this.GamePlay.logo.y=0,this.GamePlay.CTA_logo.scale=.7)},e.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},e.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,c.Constants.Responsive.currentDevice="vertical_mobile",this.lantern.scale=.35,this.GamePlay.spine_level3.scale=.28,this.GamePlay.text_lv3.scale=.3,this.GamePlay.text_lv3.y=75,this.GamePlay.logo.scale=.4,this.GamePlay.logo.x=0,this.GamePlay.logo.y=150,this.GamePlay.CTA_logo.scale=.55)},e.prototype.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,c.Constants.Responsive.currentDevice="vertical_mobile",this.lantern.scale=.35,this.GamePlay.text_lv3.scale=.38,this.GamePlay.text_lv3.y=100,this.GamePlay.logo.scale=.4,this.GamePlay.logo.x=0,this.GamePlay.logo.y=170,this.GamePlay.CTA_logo.scale=.6)},e.prototype.unActiveLogo=function(){this.GamePlay.logo.active=!1},e.prototype.update=function(){this.handleRotate(),c.Constants.isDrawSuccess&&this.unActiveLogo()},s([l(r.default)],e.prototype,"GamePlay",void 0),s([l(cc.Node)],e.prototype,"background",void 0),s([l(cc.Node)],e.prototype,"lantern",void 0),s([l(cc.Node)],e.prototype,"drawArea",void 0),s([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Controller/GamePlay":"GamePlay","../Data/constants":"constants"}],constants:[function(t,e,o){"use strict";cc._RF.push(e,"d0b68xTANVBsaIBjAI8Yj1K","constants"),Object.defineProperty(o,"__esModule",{value:!0}),o.Constants=void 0;var n,i=cc._decorator;i.ccclass,i.property,function(t){t.touchStart="touchstart",t.touchMove="touchmove",t.touchEnd="touchend",t.touchCancel="touchcancel"}(n||(n={}));var s,r={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},c={calculated:0,currentDevice:""};(function(t){t.bgSound="bgSound",t.drawSound="drawSound",t.successSound="successSound",t.moveSound="moveSound",t.fireworksSound="fireworksSound"})(s||(s={}));var a=function(){function t(){}return t.currentLv=1,t.isClickGameStart=!1,t.isRotate=!1,t.isCanTouch=!1,t.isDoneLevel1=!1,t.isDoneLevel2=!1,t.isDrawSuccess=!1,t.drawSoundState=null,t.step=1,t.Event=n,t.SoundTrack=s,t.ironSource=r,t.Responsive=c,t}();o.Constants=a,cc._RF.pop()},{}]},{},["GameController","GamePlay","constants","AudioManager","Responsive"]);