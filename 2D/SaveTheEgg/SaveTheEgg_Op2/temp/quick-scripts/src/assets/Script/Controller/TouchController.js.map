{"version":3,"sources":["assets\\Script\\Controller\\TouchController.js"],"names":["cc","Class","Component","properties","graphics","Prefab","nodesController","Node","audioManager","onLoad","window","isDraw","node","on","EventType","TOUCH_START","touch_start","TOUCH_END","touch_end","TOUCH_CANCEL","start","createGraphics","getComponent","playSound","drawSound","loop","event","StateForJs","isCanDraw","offEvent","stopSound","off","graphics_node","instantiate","x","addChild"],"mappings":";;;;;;AAAA;;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAILC,EAAAA,UAAU,EAAE;AACRC,IAAAA,QAAQ,EAAEJ,EAAE,CAACK,MADL;AAERC,IAAAA,eAAe,EAAEN,EAAE,CAACO,IAFZ;AAGRC,IAAAA,YAAY,EAAER,EAAE,CAACO;AAHT,GAJP;AAWLE,EAAAA,MAXK,oBAWI;AACLC,IAAAA,MAAM,CAACC,MAAP,GAAgB,KAAhB;AACA,SAAKC,IAAL,CAAUC,EAAV,CAAab,EAAE,CAACO,IAAH,CAAQO,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,WAAjD,EAA8D,IAA9D;AACA,SAAKJ,IAAL,CAAUC,EAAV,CAAab,EAAE,CAACO,IAAH,CAAQO,SAAR,CAAkBG,SAA/B,EAA0C,KAAKC,SAA/C,EAA0D,IAA1D;AACA,SAAKN,IAAL,CAAUC,EAAV,CAAab,EAAE,CAACO,IAAH,CAAQO,SAAR,CAAkBK,YAA/B,EAA6C,KAAKD,SAAlD,EAA6D,IAA7D;AACH,GAhBI;AAmBLE,EAAAA,KAnBK,mBAmBG;AACJ,SAAKC,cAAL;AACH,GArBI;AAwBLL,EAAAA,WAxBK,yBAwBS;AACV,SAAKR,YAAL,CAAkBc,YAAlB,CAA+B,cAA/B,EAA+CC,SAA/C,CAAyD,WAAzD;AACA,SAAKf,YAAL,CAAkBc,YAAlB,CAA+B,cAA/B,EAA+CE,SAA/C,CAAyDC,IAAzD,GAAgE,IAAhE;AACH,GA3BI;AA8BLP,EAAAA,SAAS,EAAE,mBAAUQ,KAAV,EAAiB;AACxB,QAAG,CAACC,uBAAWC,SAAf,EAA0B;AACtB,WAAKC,QAAL;AACA,WAAKR,cAAL;AACH;;AACD,SAAKb,YAAL,CAAkBc,YAAlB,CAA+B,cAA/B,EAA+CQ,SAA/C,CAAyD,WAAzD;AACH,GApCI;AAuCLD,EAAAA,QAvCK,sBAuCM;AACP,SAAKjB,IAAL,CAAUmB,GAAV,CAAc/B,EAAE,CAACO,IAAH,CAAQO,SAAR,CAAkBC,WAAhC;AACA,SAAKH,IAAL,CAAUmB,GAAV,CAAc/B,EAAE,CAACO,IAAH,CAAQO,SAAR,CAAkBG,SAAhC;AACH,GA1CI;AA6CLI,EAAAA,cA7CK,4BA6CY;AACb,QAAIW,aAAa,GAAGhC,EAAE,CAACiC,WAAH,CAAe,KAAK7B,QAApB,CAApB;AACA4B,IAAAA,aAAa,CAACE,CAAd,GAAkB,CAAlB;AACA,SAAKtB,IAAL,CAAUuB,QAAV,CAAmBH,aAAnB;AACH;AAjDI,CAAT","sourceRoot":"/","sourcesContent":["import { StateForJs } from \"../Data/StateForJS\";\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n\r\n    properties: {\r\n        graphics: cc.Prefab,\r\n        nodesController: cc.Node,\r\n        audioManager: cc.Node,\r\n    },\r\n\r\n\r\n    onLoad() {\r\n        window.isDraw = false;\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.touch_start, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touch_end, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.touch_end, this);\r\n    },\r\n\r\n\r\n    start() {\r\n        this.createGraphics();\r\n    },\r\n\r\n\r\n    touch_start() {\r\n        this.audioManager.getComponent(\"AudioManager\").playSound(\"drawSound\");\r\n        this.audioManager.getComponent(\"AudioManager\").drawSound.loop = true;\r\n    },\r\n\r\n\r\n    touch_end: function (event) {\r\n        if(!StateForJs.isCanDraw) {\r\n            this.offEvent();\r\n            this.createGraphics();\r\n        }\r\n        this.audioManager.getComponent(\"AudioManager\").stopSound(\"drawSound\");\r\n    },\r\n\r\n\r\n    offEvent() {\r\n        this.node.off(cc.Node.EventType.TOUCH_START);\r\n        this.node.off(cc.Node.EventType.TOUCH_END);\r\n    },\r\n\r\n\r\n    createGraphics() {\r\n        var graphics_node = cc.instantiate(this.graphics);\r\n        graphics_node.x = 0;\r\n        this.node.addChild(graphics_node);\r\n    },\r\n});\r\n"]}