window.__require=function t(e,i,n){function o(r,c){if(!i[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var h="function"==typeof __require&&__require;if(!c&&h)return h(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<n.length;r++)o(n[r]);return o}({AnimData:[function(t,e,i){"use strict";cc._RF.push(e,"bbde4TkwLVC/rZeCM2fqz7N","AnimData"),Object.defineProperty(i,"__esModule",{value:!0}),i.AnimData=void 0;var n,o,s,r,c,a,h=cc._decorator;h.ccclass,h.property,function(t){t.Level01_A="Level/Level01_A",t.Level01_C="Level/Level01_C"}(n||(n={})),function(t){t.Level01_A="Level/Level01_A",t.Level01_B="Level/Level01_B",t.Level01_C="Level/Level01_C"}(o||(o={})),function(t){t.Level01_A="Level/Level01_A",t.Level01_B="Level/Level01_B",t.Level01_C="Level/Level01_C",t.Level02_A="Level/Level02_A",t.Level02_B="Level/Level02_B",t.Level03_A="Level/Level03_A",t.Level03_B="Level/Level03_B",t.Level03_C="Level/Level03_C"}(s||(s={})),function(t){t.Level01_A="Level01_A",t.Level01_B="Level01_B",t.Level01_C="Level01_C"}(r||(r={})),function(t){t.Level02_A="Level/Level02_A",t.Level02_B="Level/Level02_B",t.Level03_A="Level/Level03_A",t.Level03_B="Level/Level03_B",t.Level03_C="Level/Level03_C"}(c||(c={})),function(t){t.Level02_A="Level/Level02_A",t.Level02_B="Level/Level02_B"}(a||(a={}));var u=function(){function t(){}return t.Chure=n,t.Codau=o,t.NycChuRe=s,t.Door=r,t.Boy=c,t.Girl=a,t}();i.AnimData=u,cc._RF.pop()},{}],AudioManager:[function(t,e,i){"use strict";cc._RF.push(e,"16092J/6+9HR5x8fJSUKKad","AudioManager");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../Data/constants"),c=cc._decorator,a=c.ccclass,h=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgSound=null,e.eraserSound=null,e.successSound=null,e.clickSound=null,e.LoseSound=null,e.femaleLaughSound=null,e.passSound=null,e}return o(e,t),e.prototype.playSound=function(t){if(r.Constants.ironSource.SoundState&&!r.Constants.ironSource.isEndGame)switch(t){case"bgSound":this.bgSound.play();break;case"passSound":this.passSound.play();break;case"femaleLaughSound":this.femaleLaughSound.play();break;case"eraserSound":this.eraserSound.play();break;case"LoseSound":this.LoseSound.play();break;case"clickSound":this.clickSound.play();break;case"successSound":this.successSound.play()}},e.prototype.stopSound=function(t){switch(t){case"bgSound":this.bgSound.stop();break;case"femaleLaughSound":this.femaleLaughSound.stop();break;case"passSound":this.passSound.stop();break;case"eraserSound":this.eraserSound.stop();break;case"LoseSound":this.LoseSound.stop();break;case"clickSound":this.clickSound.stop();break;case"successSound":this.successSound.stop()}},e.prototype.stopAllSound=function(){this.passSound.stop(),this.bgSound.stop(),this.femaleLaughSound.stop(),this.eraserSound.stop(),this.successSound.stop(),this.clickSound.stop(),this.LoseSound.stop()},s([h(cc.AudioSource)],e.prototype,"bgSound",void 0),s([h(cc.AudioSource)],e.prototype,"eraserSound",void 0),s([h(cc.AudioSource)],e.prototype,"successSound",void 0),s([h(cc.AudioSource)],e.prototype,"clickSound",void 0),s([h(cc.AudioSource)],e.prototype,"LoseSound",void 0),s([h(cc.AudioSource)],e.prototype,"femaleLaughSound",void 0),s([h(cc.AudioSource)],e.prototype,"passSound",void 0),s([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],Colorizer:[function(t,e,i){"use strict";cc._RF.push(e,"50ec2lJW4pG/5sN64RwegCY","Colorizer");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../neutrinoparticles/components/NeutrinoEffect_Heart"),c=cc._decorator,a=c.ccclass,h=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){var t=this.node.getComponent(r.default);t&&t.setPropertyInAllEmitters("Color",new cc.Vec3(.92,0,.92))},s([a],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../../neutrinoparticles/components/NeutrinoEffect_Heart":"NeutrinoEffect_Heart"}],GameController:[function(t,e,i){"use strict";cc._RF.push(e,"dfec3bBGHdHY4ShHxSUTm+E","GameController");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i.GameController=void 0;var r=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=cc._decorator,h=a.ccclass,u=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){window.gameReady&&window.gameReady()},e.prototype.installHandle=function(){if(console.log("install"),this.AudioManager.stopAllSound(),r.Constants.ironSource.isEndGame=!0,window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.ANDROID?void mraid.open("https://play.google.com/store/apps/details?id=com.tvc.deletestory"):cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.IPHONE||cc.sys.os==cc.sys.IPAD?void mraid.open("https://itunes.apple.com/us/app/id1577759626?mt=8"):void mraid.open("https://play.google.com/store/apps/details?id=com.tvc.deletestory"):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},s([u(c.default)],e.prototype,"AudioManager",void 0),s([h],e)}(cc.Component);i.GameController=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(t,e,i){"use strict";cc._RF.push(e,"e4962SfSUFOcoqc2Otz+5iQ","GamePlay");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../Data/AnimData"),c=t("../Data/constants"),a=t("../Plugin/AudioManager"),h=t("./GameController"),u=t("./NodeController"),d=cc._decorator,l=d.ccclass,f=d.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.GameController=null,e.NodeController=null,e.CTA=null,e.CTA_btn=null,e.isDoneEraser=!1,e.timeoutId=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.initGame()},e.prototype.initGame=function(){c.Constants.currentLv=1,this.CTA.active=!1},e.prototype.handleDragWrong=function(t,e,i){c.Constants.isCanTouch=!1,this.AudioManager.playSound(c.Constants.SoundTrack.LoseSound),this.NodeController.shape_wrong.active=!0,this.NodeController.shape_wrong.setPosition(t),cc.tween(this.NodeController.shape_wrong).to(.5,{scale:.1,opacity:255},{easing:cc.easing.elasticOut}).to(.5,{opacity:0,scale:0},{easing:cc.easing.elasticOut}).call(function(){c.Constants.isCanTouch=!0,i.setPosition(e),cc.log("reset Progress!")}).start(),cc.log("drag wrong...")},e.prototype.handleDoneLevel=function(t,e,i){var n=this;c.Constants.isCanTouch=!1,t.resetSystem();var o=null,s=null;switch(c.Constants.currentLv){case 1:o=2,s=4,this.handleDoneScene1(e);break;case 2:o=2,s=4,this.handleDoneScene2(e);break;case 3:c.Constants.isCanTouch=!0,c.Constants.levelObjectDoneIndex+=1,e.getChildByName("circle").children[c.Constants.levelObjectDoneIndex-1].active=!0,i.active=!1,c.Constants.levelObjectDoneIndex>=2&&(c.Constants.isCanTouch=!1,o=2,s=3,this.handleDoneScene3(e))}this.AudioManager.playSound(c.Constants.SoundTrack.passSound),o&&this.scheduleOnce(function(){n.NodeController.FX_confetti.resetSystem(),n.AudioManager.playSound(c.Constants.SoundTrack.successSound)},o),s&&(c.Constants.currentLv+=1,c.Constants.currentLv<=3?this.showNextLevel(s):this.winGame())},e.prototype.handleDoneScene1=function(t){var e=this,i=t.getChildByName("chure"),n=t.getChildByName("codau"),o=t.getChildByName("object_true"),s=t.getChildByName("circle"),c=t.getChildByName("Result_Win"),a=c.getChildByName("NycChure"),h=c.getChildByName("Hall_Door"),u=h.getChildByName("PS_Base").getChildByName("water").getComponent(cc.ParticleSystem);o.active=!1,s.active=!1,i.getComponent(sp.Skeleton).setAnimation(0,r.AnimData.Chure.Level01_C,!0),n.getComponent(sp.Skeleton).setAnimation(0,r.AnimData.Codau.Level01_C,!0);var d=a.getPosition();this.scheduleOnce(function(){h.getComponent(sp.Skeleton).setAnimation(0,r.AnimData.Door.Level01_B,!1),a.getComponent(sp.Skeleton).setAnimation(0,r.AnimData.NycChuRe.Level01_B,!0),e.scheduleOnce(function(){u.resetSystem()},.2),cc.tween(a).to(.5,{x:d.x-40}).call(function(){a.getComponent(sp.Skeleton).setAnimation(0,r.AnimData.NycChuRe.Level01_C,!0)}).start()},.25)},e.prototype.handleDoneScene2=function(t){var e=t.getChildByName("spine_Boy"),i=t.getChildByName("result_win"),n=t.getChildByName("spine_Girl"),o=t.getChildByName("spine_NycBoy"),s=t.getChildByName("object_true"),c=t.getChildByName("circle"),a=t.getChildByName("FX_Heart");e.active=!1,c.active=!1,s.active=!1,a.active=!0,i.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,r.AnimData.Boy.Level02_B,!0),n.getComponent(sp.Skeleton).setAnimation(0,r.AnimData.Girl.Level02_B,!0),o.getComponent(sp.Skeleton).setAnimation(0,r.AnimData.NycChuRe.Level02_B,!0)},e.prototype.handleDoneScene3=function(t){var e=t.getChildByName("spine_Boy"),i=t.getChildByName("spine_NycBoy"),n=t.getChildByName("Result"),o=t.getChildByName("FX_Rain");e.active=!1,i.active=!1,n.active=!0,o.active=!0},e.prototype.showNextLevel=function(t){var e=this;this.scheduleOnce(function(){c.Constants.isCanTouch=!0,e.NodeController.Scenes[c.Constants.currentLv-2].active=!1,e.NodeController.Scenes[c.Constants.currentLv-1].active=!0,e.NodeController.FX_confetti.stopSystem()},t)},e.prototype.handleIronSourcePlaySound=function(){c.Constants.ironSource.isPlayBgSound||(c.Constants.ironSource.SoundState&&this.AudioManager.playSound(c.Constants.SoundTrack.bgSound),c.Constants.ironSource.isPlayBgSound=!0)},e.prototype.handleMuteSoundIronSource=function(){c.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),c.Constants.ironSource.State&&(1!==c.Constants.ironSource.State||c.Constants.ironSource.SoundState||c.Constants.ironSource.isEndGame||(c.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(c.Constants.SoundTrack.bgSound)),2===c.Constants.ironSource.State&&c.Constants.ironSource.SoundState&&(c.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},e.prototype.activeTweenForBtn=function(){var t=this;this.scheduleOnce(function(){cc.tween(t.CTA_btn).to(.5,{opacity:255}).call(function(){cc.tween(t.CTA_btn).repeatForever(cc.tween(t.CTA_btn).to(.5,{scale:.5}).to(.5,{scale:.45},{easing:"elasticOut"})).start()}).start()},1)},e.prototype.winGame=function(){var t=this;c.Constants.isDoneEraser=!0,this.AudioManager.stopSound(c.Constants.SoundTrack.eraserSound),this.isDoneEraser=!0,this.scheduleOnce(function(){t.CTA.active=!0,t.CTA.getComponent(cc.Animation).play("CTA_Anim"),t.activeTweenForBtn()},2)},s([f(a.default)],e.prototype,"AudioManager",void 0),s([f(h.GameController)],e.prototype,"GameController",void 0),s([f(u.default)],e.prototype,"NodeController",void 0),s([f(cc.Node)],e.prototype,"CTA",void 0),s([f(cc.Node)],e.prototype,"CTA_btn",void 0),s([l],e)}(cc.Component);i.default=p,cc._RF.pop()},{"../Data/AnimData":"AnimData","../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./NodeController":"NodeController"}],Heart:[function(t,e,i){"use strict";cc._RF.push(e,"6be790F625EgbAmG2yzZeeV","Heart"),function(t,n){if("object"==typeof i&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Heart=n()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Heart=n()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=function t(e,i){this.Ld=e,this.Bd=i,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};e.prototype={Ec:function(e,i,n){var o=t.ib(n.Md),s=Math.cos(o),r=Math.sin(o),c=t.Ae(n.Nd[0]),a=t.Ae(n.Nd[1]);e.transform(c*s,c*r,a*-r,a*s,i[0],i[1])},Fc:function(e,i,n){var o=n.Mc,s=2*o[2]*o[2],r=2*o[0]*o[1],c=2*o[3]*o[2],a=t.Ae(n.Nd[0]),h=t.Ae(n.Nd[1]);e.transform(a*(1-2*o[1]*o[1]-s),a*(r+c),h*(c-r),h*(2*o[0]*o[0]+s-1),i[0],i[1])},Pc:function(e,i,n){if(i.vc(e,-1,n),this.we&&null!=this.Be&&!i.oc&&i.Od>.001){var o=Math.floor(i.Qc%this.we.Rc),s=Math.floor(i.Qc/this.we.Rc),r=i.Ab.slice(),c=i.Nd.slice();if(!n||n.transform(r,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,r,i),e.translate(-a*i.Pd[0],-h*(1-i.Pd[1])),e.globalAlpha*=i.Od,i.gf[0]<.999||i.gf[1]<.999||i.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(i.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,a,h);e.restore()}}}i.vc(e,1,n)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e);break;case 1:for(i=this.Bd.tc.length;i-- >0;)this.Pc(t,this.Bd.tc[i],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e)}t.restore()}};var i=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};i.prototype={qe:function(e,i,n,o,s){if(e.Ce(-1,i,n,o,s),this.we&&!e.oc){var r=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var l=t.ib(e.Md),f=-Math.sin(l),p=Math.cos(l);u[0]=i[0]*p+n[0]*f,u[1]=i[1]*p+n[1]*f,u[2]=i[2]*p+n[2]*f,d[0]=-i[0]*f+n[0]*p,d[1]=-i[1]*f+n[1]*p,d[2]=-i[2]*f+n[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],v=2*_[0]*_[1],y=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=v+y,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=v-y,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var m=[],g=[],x=[],A=[];t.u(m,u,-e.Nd[0]*e.Pd[0]),t.u(g,u,e.Nd[0]*(1-e.Pd[0])),t.u(x,d,-e.Nd[1]*e.Pd[1]),t.u(A,d,e.Nd[1]*(1-e.Pd[1])),t.c(r.position,m,x),t.c(r.position,r.position,e.Ab),t.c(c.position,m,A),t.c(c.position,c.position,e.Ab),t.c(a.position,g,A),t.c(a.position,a.position,e.Ab),t.c(h.position,g,x),t.c(h.position,h.position,e.Ab);var C=t.v(e.gf,255);r.color=c.color=a.color=h.color=[C[0],C[1],C[2],255*e.Od];var w,B,S=Math.floor(e.Qc%this.we.Rc),N=Math.floor(e.Qc/this.we.Rc),P=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(P)var R=P.width/this.we.Rc,M=P.height/this.we.Sc,T=(w=P.x+S*R)+R,I=(B=P.y+P.height-N*M)-M;else T=(w=S*(R=1/this.we.Rc))+R,I=(B=1-N*(M=1/this.we.Sc))-M;if(r.texCoords[0]=[w,I],c.texCoords[0]=[w,B],a.texCoords[0]=[T,B],h.texCoords[0]=[T,I],s.beforeQuad&&s.beforeQuad(this.we.renderStyleIndex),s.pushVertex(r),s.pushVertex(c),s.pushVertex(a),s.pushVertex(h),s.__lastRenderCall){var O=s.__lastRenderCall;O.renderStyleIndex==this.we.renderStyleIndex?O.numIndices+=6:(s.pushRenderCall(O),s.__lastRenderCall=new t.RenderCall(O.startIndex+O.numIndices,6,this.we.renderStyleIndex))}else s.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,i,n,o,s)},ue:function(e,i,n,o){switch(this.Bd.Vc){case 0:for(var s=0;s<this.Bd.tc.length;++s)this.qe(this.Bd.tc[s],e,i,n,o);break;case 1:for(s=this.Bd.tc.length;s-- >0;)this.qe(this.Bd.tc[s],e,i,n,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(n,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,i,n,o)},this)}}};var n=function e(i,n,o){var s=this;function r(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=i,this.we=n,r.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){s.we.Pb(e,s,this);var r=s.Rb,c=i.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=d,r+=d,c+=d,null!=this.Hb&&r>this.Hb){s.disactivate();break}s.Rb=r,i.Rb=c,n&&e>0&&t.ab(s.Ab,n,s.Bb,a/e),o&&e>0&&t.slerpq(s.Mc,o,s.prevRotation,a/e),this.Lb=this.Jb;for(var l=0;l<this.Jb&&0!=s.sc.length;++l){1==this.Jb?this.Kb=0:this.Kb=l/(this.Jb-1);var f=s.sc.pop();s.tc.unshift(f),0==l?f.Yb():f.Zb(),f.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){s.disactivate();break}}this.Ob=u}return r+=a,s.Rb=r,n&&t.T(s.Ab,n),o&&t.U(s.Mc,o),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){s.we.Pb(e,s,this);var r=s.Rb,c=r+e,a=i.Rb,h=a+e,u=n?t.O(t.h(n,s.Bb)):0,d=0;if(u>1e-6){for(var l=u/this.rd,f=this.bc+l,p=l<.001?1-this.bc:(1-this.bc)/l,_=[];f>1;){var b=r+p*e;n&&t.ab(_,s.Bb,n,p),s.Rb=b,t.T(s.Ab,_),i.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var v=0;v<this.Jb&&0!=s.sc.length;++v){1==this.Jb?this.Kb=0:this.Kb=v/(this.Jb-1);var y=s.sc.pop();s.tc.unshift(y),0==v?y.Yb():y.Zb(),y.Id(e*(1-p)),++d}p+=1/l,f-=1}this.bc=f}return s.Rb=c,n&&t.T(s.Ab,n),o&&t.U(s.Mc,o),d}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){s.we.fd(s,this),this.nc()},Zb:function(){s.we.gd(s,this),this.nc()},Id:function(t){s.we.qc(t,s,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,n){this.Kc.push({Bd:new e(i,t,o),Ad:n})},vc:function(t,e,i){for(var n=0;n<this.Kc.length;++n){var o=this.Kc[n];e==o.Ad.xc&&o.Bd.Hd(t,i)}},Ce:function(t,e,i,n,o){for(var s=0;s<this.Kc.length;++s){var r=this.Kc[s];t==r.Ad.xc&&r.Bd.ue(e,i,n,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return s.we.Cc(s,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new r},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new a,l=0;l<this.Yc.length;++l){var f=this.Yc[l];d.uc(f.Db,f.Ad)}this.sc.push(d)}this.Nb=function(e,i){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,i||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};n.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},n.prototype.Id=function(e,i,n){if(this.paused_)this.Td(i,n);else{if(this.wd=this.Rb,i)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,i,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var s;n&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?s=this.vd.Id(e,i,n):(i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),s=0,this.Rb+=e);for(var r=s;r<this.tc.length;){var c=this.tc[r];if(c.oc){if(c.rc(e),this.xd(r))continue}else if(c.Id(e),this.Wc.Ac(this.tc[r])&&(c.wc(),this.xd(r)))continue;++r}}},n.prototype.xd=function(t){for(var e=this.tc[t],i=!0,n=0;n<e.Kc.length;++n){var o=e.Kc[n].Bd;if(o.activated()||o.tc.length>0){i=!1;break}}return!!i&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},n.prototype.Hd=function(t,e){this.construct.Hd(t,e)},n.prototype.ue=function(t,e,i,n){this.construct.ue(t,e,i,n)},n.prototype.Td=function(e,i){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),i&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,i))},n.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},n.prototype.pause=function(){this.paused_=!0},n.prototype.unpause=function(){this.paused_=!1},n.prototype.paused=function(){return this.paused_},n.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},n.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},n.prototype.generatorsPaused=function(){return this.generatorsPaused_},n.prototype.activate=function(){this.Zc=!0},n.prototype.disactivate=function(){this.Zc=!1},n.prototype.activated=function(){return this.Zc},n.prototype.getNumParticles=function(){return this.tc.length};var o=function(){this._init=function(e,i,o,s,r){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new n(this,t,s);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,i){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,i||[0,0,0,1])},this.Nb(i,o),this.model.qd(this),this._presimNeeded=!0,r.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),r.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,i,o),this._presimNeeded=!1)}};o.prototype.restart=function(t,e,i){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var n=0;n<this.od.length;++n)this.od[n].Jd(this.Ab,this.Mc);this._presimNeeded=!0,i&&i.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),i&&i.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},o.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},o.prototype.update=function(t,e,i){this.Dd>0?this.updateFixed(t,e,i):this.updateFlex(t,e,i)},o.prototype.updateFixed=function(e,i,n){var o=0,s=[];t.T(s,this.Ab);var r=[];for(t.U(r,this.Mc),i&&t.equalv3_(i,this.Ab)&&(i=null),n&&t.equalq_(n,this.Mc)&&(n=null);e-o+this.Cd>=this.Dd;){var c=this.Rb;i&&t.ab(s,this.Ab,i,o/e),n&&t.slerpq(r,this.Mc,n,o/e);for(var a=0;a<this.od.length;++a)this.od[a].Id(this.Dd,s,r),this.Rb=c;o+=this.Dd-this.Cd,this.Cd=0,this.Rb=c+this.Dd}i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),this.Cd+=e-o},o.prototype.updateFlex=function(e,i,n){for(var o=this.Rb,s=0;s<this.od.length;++s)this.od[s].Id(e,i,n),this.Rb=o;this.Rb=o+e,i&&t.T(this.Ab,i),n&&t.U(this.Mc,n)},o.prototype.resetPosition=function(e,i){e&&t.T(this.Ab,e),i&&t.U(this.Mc,i);for(var n=0;n<this.od.length;++n)this.od[n].Td(this.Ab,this.Mc)},o.prototype.setPropertyInAllEmitters=function(e,i){var n="_".concat(e);if(i instanceof Array)if(2==i.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][n],i);else for(o=0;o<this.od.length;++o)t.T(this.od[o][n],i);else for(o=0;o<this.od.length;++o)this.od[o][n]=i},o.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},o.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},o.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},o.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},o.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},o.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},o.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var s=function t(){this._init=function(e,n,o,s,r){t.prototype._init.call(this,e,n,o,i,r),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=s,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(s.prototype=new o).fillGeometryBuffers=function(t,e,i){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(n){n.ue(t,e,i,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var r=function t(){this._init=function(i,n,o,s){t.prototype._init.call(this,i,n,o,e,s),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function c(){var e=[],i=[],n=[],o=[],s=[],r=[],c=[];this.pe=[{xe:0,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter",this.ud=function(t){t._Color=[1,1,1],t.dd(),t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=10,t.Gb=1,t.Jb=1},this.Pb=function(t,e,i){i.zb=10},this.fd=function(n,o){o._=0,t.W(e,0,0,0),o._2=[],t.c(o._2,n.Ab,e),t.randv3gen(i,100,n.Ld.rand),o._4=[],t.T(o._4,i),o._5=0,o._6=[],t.T(o._6,n._Color),t.T(o.Ab,o._2)},this.gd=function(n,o){o._=0,t.W(e,0,0,0),o._2=[],t.c(o._2,n.Ab,e),t.randv3gen(i,100,n.Ld.rand),o._4=[],t.T(o._4,i),o._5=0,o._6=[],t.T(o._6,n._Color),t.T(o.Ab,o._2)},this.qc=function(e,i,a){a._+=e,t.W(n,0,100,0),t.T(o,n),t.T(s,[0,0,0]),t.u(r,o,e),t.c(r,r,a._4),t.u(c,r,e),t.c(c,c,a._2),t.T(a._2,c),t.T(a._4,r),t.T(a.Ab,a._2),t.S(a.Pd,[.5,.5]),a.Md=a._5,t.V(a.Nd,30,30),t.T(a.gf,a._6),a.Od=1,a.Qc=0},this.Cc=function(t,e){return e._>2}}(r.prototype=new o).draw=function(t,e){for(var i=0;i<this.od.length;++i)this.od[i].Hd(t,e)},this.createWGLInstance=function(t,e,i,n){var o=new s;return o._init(this,t,e,i,n||{}),o},this.createCanvas2DInstance=function(t,e,i){var n=new r;return n._init(this,t,e,i||{}),n},this.textures=["particle_texture.png"],this.materials=[0],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=100,this.qd=function(t){t.Dd=.0333333,t.Ud=0,t.rand=function(){return Math.random()},t.pd(new c)}}}),cc._RF.pop()},{}],MaskGamePlay:[function(t,e){"use strict";cc._RF.push(e,"af3b25w7AVJa7LI1CskCfDP","MaskGamePlay");var i=t("Scratchable");cc.Class({extends:cc.Component,properties:{pointClear:cc.Node,touchArea:cc.Node},onLoad:function(){this.scratchables=this.getComponentsInChildren(i)},update:function(){if(this.isTouch=this.touchArea.getComponent("TouchAreaController").isTouch,this.pointClear.active&&this.isTouch){var t=cc.v2(this.pointClear.x+cc.winSize.width/2,this.pointClear.y+cc.winSize.height/2);this.scratchables.forEach(function(e){e.isScratchable&&e.isInBound(t)&&e.scratchHole(t)})}}}),cc._RF.pop()},{Scratchable:"Scratchable"}],NeutrinoAssemblerJSB:[function(t,e,i){"use strict";cc._RF.push(e,"908f2U8uBBKHLoXjGNOOkv8","NeutrinoAssemblerJSB");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),cc.renderer;var s=[0,1,3,1,2,3],r=512*s.length,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentVertex=0,e._renderStyleIndex=null,e._worldScale=new cc.Vec3,e}return o(e,t),e._checkAndCreateCurrentBuffer=function(){var t=e._bufferIndex;e._vertexBuffers[t]||(e._vertexBuffers[t]=new ArrayBuffer(2048*e._vertexFormat._bytes),e._vertexFloatBuffers[t]=new Float32Array(e._vertexBuffers[t]),e._vertexUint32Buffers[t]=new Uint32Array(e._vertexBuffers[t])),e._indexBuffers[t]||(e._indexBuffers[t]=new Uint16Array(r))},e._incBuffer=function(){++e._bufferIndex,e._numBufferVertices=0,e._numBufferIndices=0,e._startBufferVertex=0,e._startBufferIndex=0,e._checkAndCreateCurrentBuffer()},e.prototype._prepareForGeometry=function(t,i){e._numBufferVertices,(e._numBufferVertices+t>2048||e._numBufferIndices+i>r)&&(this._finishDrawCall(),e._incBuffer())},e.prototype._commitGeometry=function(t,i){e._numBufferVertices+=t,e._numBufferIndices+=i},e._resetGeometryBuffers=function(){this._bufferIndex=0,this._numBufferVertices=0,this._numBufferIndices=0,this._startBufferVertex=0,this._startBufferIndex=0,this._checkAndCreateCurrentBuffer()},e.prototype._finishDrawCall=function(){if(e._startBufferIndex!==e._numBufferIndices){var t=e._bufferIndex,i=new Float32Array(e._vertexBuffers[t],e._startBufferVertex*e._vertexFormat._bytes,(e._numBufferVertices-e._startBufferVertex)*e._vertexFormat._bytes/4),n=new Uint16Array(e._indexBuffers[t].buffer,2*e._startBufferIndex,e._numBufferIndices-e._startBufferIndex);this.updateIAData(this._drawCallIndex,e._vertexFormat._nativeObj,i,n);var o=this._renderComp.materials[this._renderStyleIndex].effect;this.updateEffect(this._drawCallIndex,o._nativeObj),e._startBufferVertex=e._numBufferVertices,e._startBufferIndex=e._numBufferIndices,++this._drawCallIndex}},e.prototype.updateRenderData=function(t){this.fillBuffers(t),t.node._renderFlag|=cc.RenderFlow.FLAG_UPDATE_RENDER_DATA},e.prototype.fillBuffers=function(t){t._neutrinoEffect&&t.context.loaded()&&(this.reset(),e._resetGeometryBuffers(),this._drawCallIndex=0,this._currentVertex=0,this._renderStyleIndex=null,this._worldScale=t._worldScale,t._neutrinoEffect.fillGeometryBuffers([1,0,0],[0,1,0],[0,0,-1]),this._finishDrawCall())},e.prototype.initialize=function(){},e.prototype.beforeQuad=function(t){this._renderStyleIndex!==t&&(this._finishDrawCall(),this._renderStyleIndex=t),this._prepareForGeometry(4,s.length)},e.prototype.pushVertex=function(t){var i=e._bufferIndex,n=e._vertexFormat._bytes/4,o=e._vertexFloatBuffers[i],r=e._vertexUint32Buffers[i],c=(e._numBufferVertices+this._currentVertex)*n,a=t.position[0]*this._worldScale.x,h=t.position[1]*this._worldScale.y,u=t.position[2]*this._worldScale.z;if(o[c++]=a,o[c++]=h,o[c++]=u,o[c++]=t.texCoords[0][0],o[c++]=1-t.texCoords[0][1],r[c++]=t.color[0]|t.color[1]<<8|t.color[2]<<16|t.color[3]<<24,++this._currentVertex,4==this._currentVertex){for(var d=e._indexBuffers[i],l=0;l<s.length;++l)d[e._numBufferIndices+l]=e._numBufferVertices-e._startBufferVertex+s[l];this._commitGeometry(4,s.length),this._currentVertex=0}},e.prototype.pushRenderCall=function(){},e.prototype.cleanup=function(){},e._vertexFormat=cc.gfx.VertexFormat.XYZ_UV_Color,e._vertexBuffers=[],e._vertexFloatBuffers=[],e._vertexUint32Buffers=[],e._indexBuffers=[],e}(cc.MeshRenderer.__assembler__);i.default=c,cc._RF.pop()},{}],NeutrinoAssemblerWebGL:[function(t,e,i){"use strict";cc._RF.push(e,"32e92P2G2hLrY8BaVp0+NVh","NeutrinoAssemblerWebGL");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=[0,1,3,1,2,3],r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initialized=!1,e._currentVertex=0,e._renderStyleIndex=null,e._vertexFormat=cc.gfx.VertexFormat.XYZ_UV_Color,e._buffer=null,e._bufferOffsetInfo=null,e._modelBatcher=null,e._worldScale=new cc.Vec3,e}return o(e,t),e.prototype.fillBuffers=function(t,e){t._neutrinoEffect&&t.context.loaded()&&(this._initialized||(this._buffer=e.getBuffer("mesh",this._vertexFormat),this._initialized=!0),this._modelBatcher=e,this._renderStyleIndex=null,this._worldScale=t._worldScale,t._neutrinoEffect.fillGeometryBuffers([1,0,0],[0,1,0],[0,0,-1]))},e.prototype.initialize=function(){},e.prototype.beforeQuad=function(t){if(this._renderStyleIndex!==t){var e=this._renderComp.materials[t];e&&e.getHash()!==this._modelBatcher.material.getHash()&&(this._modelBatcher._flush(),this._modelBatcher.material=e),this._renderStyleIndex=t}this._bufferOffsetInfo=this._buffer.request(4,s.length)},e.prototype.pushVertex=function(t){var e=this._bufferOffsetInfo,i=this._vertexFormat._bytes/4,n=this._buffer,o=n._vData,r=n._uintVData,c=e.byteOffset/4+this._currentVertex*i,a=t.position[0]*this._worldScale.x,h=t.position[1]*this._worldScale.y,u=t.position[2]*this._worldScale.z;if(o[c+0]=a,o[c+1]=h,o[c+2]=u,o[c+3]=t.texCoords[0][0],o[c+4]=1-t.texCoords[0][1],r[c+5]=t.color[0]|t.color[1]<<8|t.color[2]<<16|t.color[3]<<24,++this._currentVertex,4==this._currentVertex){for(var d=n._iData,l=0;l<s.length;++l)d[e.indiceOffset+l]=e.vertexOffset+s[l];this._currentVertex=0}},e.prototype.pushRenderCall=function(){},e.prototype.cleanup=function(){},e}(cc.Assembler);i.default=r,cc._RF.pop()},{}],NeutrinoAssembler:[function(t,e,i){"use strict";cc._RF.push(e,"7dd47KelZZLyadMohM05ouJ","NeutrinoAssembler"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./NeutrinoAssemblerWebGL"),o=(t("./NeutrinoAssemblerJSB"),n.default);i.default=o,cc._RF.pop()},{"./NeutrinoAssemblerJSB":"NeutrinoAssemblerJSB","./NeutrinoAssemblerWebGL":"NeutrinoAssemblerWebGL"}],NeutrinoComponent:[function(t,e,i){"use strict";cc._RF.push(e,"fe372iH4fZOBLxITCZbQxJ2","NeutrinoComponent");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("./NeutrinoSettings"),c=t("./NeutrinoContext"),a=cc._decorator,h=a.ccclass,u=a.property,d=new cc.Mat4,l=new cc.Mat4,f=new cc.Quat,p=new cc.Vec3,_=new cc.Mat4,b=[0,0,0,0],v=[0,0,0,0];function y(t){return t instanceof cc.Vec2?[t.x,t.y]:t instanceof cc.Vec3?[t.x,t.y,t.z]:t}var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.context=null,e._neutrinoEffectModel=null,e._neutrinoEffect=null,e._spriteFrames=null,e._emitterPropsOnStart={},e._texturesRemap=null,e._waitingForContext=!1,e._resetInProgress=!1,e._numTexturesLoading=0,e._errorOnLoad=!1,e._worldScale=new cc.Vec3,e._destructed=!1,e._serialized=!1,e._worldParentId="",e._texturesPrefixPath="",e._spriteAtlas=null,e._pausedOnStart=!1,e._pausedGeneratorsOnStart=!1,e.destroyWhenEmpty=!1,e.destroyNodeWhenEmpty=!1,e}return o(e,t),Object.defineProperty(e.prototype,"worldParent",{get:function(){return this._findWorldParent()},set:function(t){this._worldParentId=t?t.uuid:"",this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texturesPrefixPath",{get:function(){return this._texturesPrefixPath},set:function(t){this._texturesPrefixPath=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteAtlas",{get:function(){return this._spriteAtlas},set:function(t){this._spriteAtlas=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedOnStart",{get:function(){return this._pausedOnStart},set:function(t){this._pausedOnStart=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedGeneratorsOnStart",{get:function(){return this._pausedGeneratorsOnStart},set:function(t){this._pausedGeneratorsOnStart=t,this._waitForContextAndReset()},enumerable:!1,configurable:!0}),e.prototype.resetInEditor=function(){this._waitForContextAndReset()},e.prototype.onLoad=function(){if(this.context=c.default.instance(),this.context.ensureNoiseTextureIsGenerated(),!this._serialized){this._serialized=!0;var t=r.default.instance();t&&(this._texturesPrefixPath=t.defaultTexturesPrefixPath,this._spriteAtlas=t.defaultSpriteAtlas,t.defaultWorldParent&&(this._worldParentId=t.defaultWorldParent.uuid))}this._waitForContextAndReset()},e.prototype.onDestroy=function(){this._spriteFrames&&(this._spriteFrames.forEach(function(t){t&&t.decRef()}),this._spriteFrames.length=0),this._waitingForContext&&this.context.off("loaded",this._reset,this),this._destructed=!0},e.prototype.update=function(t){if(this._neutrinoEffect){this._getNeutrinoWorldPositionRotation(b,v),this._neutrinoEffect.update(t,b,v);var e=this.worldParent;e?(e.getWorldMatrix(_),this.materials.forEach(function(t){t.setProperty("worldParentMat",_)})):this.materials.forEach(function(t){t.setProperty("worldParentMat",cc.Mat4.IDENTITY)}),this.paused()||(this.destroyWhenEmpty||this.destroyNodeWhenEmpty)&&0===this.getNumParticles()&&(this.destroyNodeWhenEmpty?this.node.destroy():this.destroy())}},e.prototype.ready=function(){return null!==this._neutrinoEffect},e.prototype.restart=function(){this._getNeutrinoWorldPositionRotation(b,v),this._neutrinoEffect.restart(b,v)},e.prototype.resetPositionRotation=function(){this._getNeutrinoWorldPositionRotation(b,v),this._neutrinoEffect.resetPosition(b,v)},e.prototype.pause=function(){this.ready()&&this._neutrinoEffect.pauseAllEmitters(),this._pausedOnStart=!0},e.prototype.unpause=function(){this.ready()&&this._neutrinoEffect.unpauseAllEmitters(),this._pausedOnStart=!1},e.prototype.paused=function(){return this.ready()?this._neutrinoEffect.areAllEmittersPaused():this._pausedOnStart},e.prototype.pauseGenerators=function(){this.ready()&&this._neutrinoEffect.pauseGeneratorsInAllEmitters(),this._pausedGeneratorsOnStart=!0},e.prototype.unpauseGenerators=function(){this.ready()&&this._neutrinoEffect.unpauseGeneratorsInAllEmitters(),this._pausedGeneratorsOnStart=!1},e.prototype.generatorsPaused=function(){return this.ready()?this._neutrinoEffect.areGeneratorsInAllEmittersPaused():this._pausedGeneratorsOnStart},e.prototype.setPropertyInAllEmitters=function(t,e){var i=y(e);this.ready()?this._neutrinoEffect.setPropertyInAllEmitters(t,i):this._emitterPropsOnStart[t]=i},e.prototype.getNumParticles=function(){return this._neutrinoEffect?this._neutrinoEffect.getNumParticles():0},e.prototype._checkBacth=function(t,e){t.cullingMask!==e&&(t._flush(),t.cullingMask=e)},e.prototype._waitForContextAndReset=function(){if(this.context)return this.context.loaded()?void this._reset():(this._waitingForContext=!0,void this.context.once("loaded",this._reset,this))},e.prototype._reset=function(){if(!this._resetInProgress&&!this._destructed){this._waitingForContext=!1;var t=this.getEffectClass();if(t){this._resetInProgress=!0,this._errorOnLoad=!1,this._neutrinoEffectModel=new t(this.context.neutrinoContext),this._neutrinoEffect=null;var e=this._neutrinoEffectModel.textures.length;this._spriteFrames=new Array(e),this._numTexturesLoading=this._spriteFrames.length;for(var i=0;i<e;++i){var n=(this._texturesPrefixPath+this._neutrinoEffectModel.textures[i]).replace(/\.[^/.]+$/,"");if(this.spriteAtlas){var o=this.spriteAtlas.getSpriteFrame(n);o?(o.addRef(),this._spriteFrames[i]=o,--this._numTexturesLoading):(cc.warn(this.__classname__+": Can't load sprite '"+n+"' from sprite atlas. Will try to load single texture."),this._loadTexture(i,n))}else this._loadTexture(i,n)}0===this._numTexturesLoading&&this._onTexturesLoaded()}else cc.error(this.__classname__+": you shouldn't use NeutrinoComponent by itself. Use generated effect classes instead.")}},e.prototype._loadTexture=function(t,e){var i=this,n=this,o=this.getTexturesDatabase().find(function(t){return t.path===e}),s=function(){--n._numTexturesLoading,0===n._numTexturesLoading&&n._onTexturesLoaded()};if(!o)return cc.error(this.__classname__+": Can't find texture '"+e+"."),this._errorOnLoad=!0,void s();this.context.texturesBundle().load(o.path,cc.SpriteFrame,function(o,r){i._destructed||(o?(cc.error(n.__classname__+": Can't load sprite frame '"+e+"'. "+o),n._errorOnLoad=!0):(r.addRef(),n._spriteFrames[t]=r),s())})},e.prototype._onTexturesLoaded=function(){var t=this;if(this._errorOnLoad)this._resetInProgress=!1;else{this.materials.length=0;var e=!1;if(this._neutrinoEffectModel.renderStyles.forEach(function(i,n){var o=i.textureIndices[0],s=t._spriteFrames[o];if(!s)return cc.warn(t.__classname__+": Loading flow wrong behavior found #3 (don't worry about it)"),void(e=!0);var r=s.getTexture();if(!r)return cc.warn(t.__classname__+": Loading flow wrong behavior found #4 (don't worry about it)"),void(e=!0);var c=t._neutrinoEffectModel.materials[i.materialIndex],a=t.context.materials[2*c+(r.hasPremultipliedAlpha()?1:0)];if(!a)return cc.warn(t.__classname__+": Loading flow wrong behavior found #5 (don't worry about it)"),void(e=!0);t.setMaterial(n,a).setProperty("texture",r)},this),e)this._resetInProgress=!1;else{for(var i in this._initTexturesRemap(),this._getNeutrinoWorldPositionRotation(b,v),this._neutrinoEffect=this._neutrinoEffectModel.createWGLInstance(b,v,this._assembler,{paused:this._pausedOnStart,generatorsPaused:this._pausedGeneratorsOnStart}),this._neutrinoEffect.texturesRemap=this._texturesRemap,this._emitterPropsOnStart)this._neutrinoEffect.setPropertyInAllEmitters(i,this._emitterPropsOnStart[i]);this._emitterPropsOnStart={},this._resetInProgress=!1}}},e.prototype._initTexturesRemap=function(){for(var t=!1,e=0;e<this._spriteFrames.length;++e)if(1!==(i=this._spriteFrames[e]).uv[6]||0!==i.uv[0]||0!==i.uv[7]||1!==i.uv[1]){t=!0;break}if(t)for(this._texturesRemap=new Array(this._spriteFrames.length),e=0;e<this._spriteFrames.length;++e){var i=this._spriteFrames[e];this._texturesRemap[e]=new this.context.neutrinoContext.SubRect(i.uv[0],1-i.uv[1],i.uv[6]-i.uv[0],i.uv[1]-i.uv[7])}else this._texturesRemap=[]},e.prototype._getNeutrinoWorldPositionRotation=function(t,e){var i=d,n=f,o=p,s=this._worldScale;this.node.getWorldMatrix(i);var r=this.worldParent;if(r){var c=l;r.getWorldMatrix(c),cc.Mat4.invert(c,c),cc.Mat4.multiply(i,c,i)}cc.Mat4.getRotation(n,i),i.getTranslation(o),i.getScale(s),t[0]=o.x/s.x,t[1]=o.y/s.y,t[2]=o.z/s.z,e[0]=n.x,e[1]=n.y,e[2]=n.z,e[3]=n.w},e.prototype._findWorldParent=function(){var t=this.node;do{if(t.uuid==this._worldParentId)return t;t=t.parent}while(t);return null},s([u],e.prototype,"_serialized",void 0),s([u],e.prototype,"_worldParentId",void 0),s([u(cc.Node)],e.prototype,"worldParent",null),s([u],e.prototype,"_texturesPrefixPath",void 0),s([u],e.prototype,"texturesPrefixPath",null),s([u(cc.SpriteAtlas)],e.prototype,"_spriteAtlas",void 0),s([u(cc.SpriteAtlas)],e.prototype,"spriteAtlas",null),s([u],e.prototype,"_pausedOnStart",void 0),s([u],e.prototype,"pausedOnStart",null),s([u],e.prototype,"_pausedGeneratorsOnStart",void 0),s([u],e.prototype,"pausedGeneratorsOnStart",null),s([u],e.prototype,"destroyWhenEmpty",void 0),s([u],e.prototype,"destroyNodeWhenEmpty",void 0),s([h],e)}(cc.RenderComponent);i.default=m,cc._RF.pop()},{"./NeutrinoContext":"NeutrinoContext","./NeutrinoSettings":"NeutrinoSettings"}],NeutrinoContext:[function(t,e,i){"use strict";cc._RF.push(e,"c5500GPiiNIKKYfuHMFpUCR","NeutrinoContext");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var o=t("./neutrinoparticles.js/neutrinoparticles.umd"),s=cc._decorator,r=s.ccclass,c=s.mixins,a=[{uuid:"97KN8e0flOjpWQPC0zIOoR",name:"NeutrinoNormal"},{uuid:"c5T9A8r8FHY5DeeJSjTP0k",name:"NeutrinoNormalPremul"},{uuid:"369MNzEcVL3Jj5UF9gvCfR",name:"NeutrinoAdd"},{uuid:"baTMgpxLlFqrJF04VcDxPF",name:"NeutrinoAddPremul"},{uuid:"a74/Nyb0dDYrv5zAZoAlVP",name:"NeutrinoMultiply"},{uuid:"04mmqJExZKjqgZH4ovqGK7",name:"NeutrinoMultiplyPremul"}],h=function(){function t(){this.neutrinoContext=new o.Context,this.materials=new Array(a.length),this._materialsLeftToLoad=this.materials.length,this._bundlesLeftToLoad=0,this._noiseGenerationStep=null,this._noiseGenerated=!1,this._texturesBundle=null,cc.EventTarget.call(this),this._startLoadingForBuild()}var e;return e=t,t.instance=function(){return this._singleInstance||(this._singleInstance=new e),this._singleInstance},t.prototype.loaded=function(){return 0===this._materialsLeftToLoad&&0===this._bundlesLeftToLoad},t.prototype.startNoiseTextureGeneration=function(){if(!this._noiseGenerated){var t,e=this,i=new this.neutrinoContext.NoiseGenerator;this._noiseGenerationStep=function(){for(var n=0;n<100;++n)if(i.step()){clearInterval(t),e._noiseGenerationStep=null,e._noiseGenerated=!0,i=null;break}},t=setInterval(this._noiseGenerationStep,0)}},t.prototype.ensureNoiseTextureIsGenerated=function(){if(!this._noiseGenerated)for(this._noiseGenerationStep||this.startNoiseTextureGeneration();this._noiseGenerationStep;)this._noiseGenerationStep()},t.prototype.texturesBundle=function(){return this._texturesBundle},t.prototype._startLoadingForDev=function(){for(var t=this,e=function(e){var i=e;cc.assetManager.loadAny(a[e].uuid,function(e,n){e?cc.error("NeutrinoContext: can't load material with UUID='"+a[i].uuid+"'. "+e):t._materialLoaded(n,i)})},i=0;i<this.materials.length;++i)e(i)},t.prototype._startLoadingForBuild=function(){var t=this,e=this;++this._bundlesLeftToLoad,cc.assetManager.loadBundle("neutrinoparticles-materials",function(i,n){if(i)cc.error("NeutrinoContext: failed to load bundle 'neutrinoparticles-materials'. "+i);else{--t._bundlesLeftToLoad;for(var o=function(t){var i=t;n.load(a[t].name,function(t,n){t?cc.error("NeutrinoContext: can't load material '"+a[i].name+"'. "+t):e._materialLoaded(n,i)})},s=0;s<t.materials.length;++s)o(s)}}),++this._bundlesLeftToLoad,cc.assetManager.loadBundle("neutrinoparticles/textures",function(e,i){e?cc.error("NeutrinoContext: failed to load bundle 'neutrinoparticles/textures'"):(cc.log("NeutrinoContext: Loaded bundle neutrinoparticles/textures"),--t._bundlesLeftToLoad,t._texturesBundle=i,t._checkAndEmitLoadedStatus())})},t.prototype._materialLoaded=function(t,e){this.materials[e]=t,--this._materialsLeftToLoad,this._checkAndEmitLoadedStatus()},t.prototype._checkAndEmitLoadedStatus=function(){this.loaded()&&this.emit("loaded")},e=n([r("NeutrinoContext"),c(cc.EventTarget)],t)}();i.default=h,cc.game.once(cc.game.EVENT_GAME_INITED,function(){h.instance().startNoiseTextureGeneration()}),cc._RF.pop()},{"./neutrinoparticles.js/neutrinoparticles.umd":"neutrinoparticles.umd"}],NeutrinoEffect_Heart:[function(t,e,i){"use strict";cc._RF.push(e,"726f5OW+gxI2ZZ3qbx5jtq0","NeutrinoEffect_Heart");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../exported_effects/Heart.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,l=u.executeInEditMode,f=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return r},e.prototype.getTexturesDatabase=function(){return c.default},s([d,l,f,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Heart")],e)}(a.default);i.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Heart.js":"Heart","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoEffect_NoNameEffect:[function(t,e,i){"use strict";cc._RF.push(e,"5bb25IT42FMX7RFDjsIrhww","NeutrinoEffect_NoNameEffect");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../exported_effects/NoNameEffect.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,l=u.executeInEditMode,f=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return r},e.prototype.getTexturesDatabase=function(){return c.default},s([d,l,f,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/NoNameEffect")],e)}(a.default);i.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/NoNameEffect.js":"NoNameEffect","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoEffect_Rain:[function(t,e,i){"use strict";cc._RF.push(e,"e460bV59OtLFLd7HtK8tYYP","NeutrinoEffect_Rain");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../exported_effects/Rain.js"),c=t("../textures"),a=t("NeutrinoComponent"),h=t("NeutrinoAssembler"),u=cc._decorator,d=u.ccclass,l=u.executeInEditMode,f=u.playOnFocus,p=u.menu,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getEffectClass=function(){return r},e.prototype.getTexturesDatabase=function(){return c.default},s([d,l,f,p("i18n:MAIN_MENU.component.renderers/NeutrinoComponent/Rain")],e)}(a.default);i.default=_,cc.Assembler.register(_,h.default),cc._RF.pop()},{"../exported_effects/Rain.js":"Rain","../textures":"textures",NeutrinoAssembler:"NeutrinoAssembler",NeutrinoComponent:"NeutrinoComponent"}],NeutrinoSettings:[function(t,e,i){"use strict";cc._RF.push(e,"fbcd0MmKjROJoyVC6K9nt1e","NeutrinoSettings");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultWorldParent=null,e.defaultTexturesPrefixPath="",e.defaultSpriteAtlas=null,e}var i;return o(e,t),i=e,e.instance=function(){var t=cc.find("Canvas");if(!t)return null;var e=t.getComponent(i);return e||((e=t.addComponent(i)).defaultWorldParent=t),e},s([a(cc.Node)],e.prototype,"defaultWorldParent",void 0),s([a],e.prototype,"defaultTexturesPrefixPath",void 0),s([a(cc.SpriteAtlas)],e.prototype,"defaultSpriteAtlas",void 0),i=s([c],e)}(cc.Component);i.default=h,cc.NeutrinoSettings=h,cc._RF.pop()},{}],NoNameEffect:[function(t,e,i){"use strict";cc._RF.push(e,"b46864GGMVEva0o9vqyqOmM","NoNameEffect"),function(t,n){if("object"==typeof i&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).NoNameEffect=n()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.NoNameEffect=n()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,i=function t(e,i){this.Ld=e,this.Bd=i,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};i.prototype={Ec:function(e,i,n){var o=t.ib(n.Md),s=Math.cos(o),r=Math.sin(o),c=t.Ae(n.Nd[0]),a=t.Ae(n.Nd[1]);e.transform(c*s,c*r,a*-r,a*s,i[0],i[1])},Fc:function(e,i,n){var o=n.Mc,s=2*o[2]*o[2],r=2*o[0]*o[1],c=2*o[3]*o[2],a=t.Ae(n.Nd[0]),h=t.Ae(n.Nd[1]);e.transform(a*(1-2*o[1]*o[1]-s),a*(r+c),h*(c-r),h*(2*o[0]*o[0]+s-1),i[0],i[1])},Pc:function(e,i,n){if(i.vc(e,-1,n),this.we&&null!=this.Be&&!i.oc&&i.Od>.001){var o=Math.floor(i.Qc%this.we.Rc),s=Math.floor(i.Qc/this.we.Rc),r=i.Ab.slice(),c=i.Nd.slice();if(!n||n.transform(r,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,r,i),e.translate(-a*i.Pd[0],-h*(1-i.Pd[1])),e.globalAlpha*=i.Od,i.gf[0]<.999||i.gf[1]<.999||i.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(i.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,a,h);e.restore()}}}i.vc(e,1,n)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e);break;case 1:for(i=this.Bd.tc.length;i-- >0;)this.Pc(t,this.Bd.tc[i],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e)}t.restore()}};var n=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};n.prototype={qe:function(e,i,n,o,s){if(e.Ce(-1,i,n,o,s),this.we&&!e.oc){var r=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var l=t.ib(e.Md),f=-Math.sin(l),p=Math.cos(l);u[0]=i[0]*p+n[0]*f,u[1]=i[1]*p+n[1]*f,u[2]=i[2]*p+n[2]*f,d[0]=-i[0]*f+n[0]*p,d[1]=-i[1]*f+n[1]*p,d[2]=-i[2]*f+n[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],v=2*_[0]*_[1],y=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=v+y,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=v-y,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var m=[],g=[],x=[],A=[];t.u(m,u,-e.Nd[0]*e.Pd[0]),t.u(g,u,e.Nd[0]*(1-e.Pd[0])),t.u(x,d,-e.Nd[1]*e.Pd[1]),t.u(A,d,e.Nd[1]*(1-e.Pd[1])),t.c(r.position,m,x),t.c(r.position,r.position,e.Ab),t.c(c.position,m,A),t.c(c.position,c.position,e.Ab),t.c(a.position,g,A),t.c(a.position,a.position,e.Ab),t.c(h.position,g,x),t.c(h.position,h.position,e.Ab);var C=t.v(e.gf,255);r.color=c.color=a.color=h.color=[C[0],C[1],C[2],255*e.Od];var w,B,S=Math.floor(e.Qc%this.we.Rc),N=Math.floor(e.Qc/this.we.Rc),P=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(P)var R=P.width/this.we.Rc,M=P.height/this.we.Sc,T=(w=P.x+S*R)+R,I=(B=P.y+P.height-N*M)-M;else T=(w=S*(R=1/this.we.Rc))+R,I=(B=1-N*(M=1/this.we.Sc))-M;if(r.texCoords[0]=[w,I],c.texCoords[0]=[w,B],a.texCoords[0]=[T,B],h.texCoords[0]=[T,I],s.beforeQuad&&s.beforeQuad(this.we.renderStyleIndex),s.pushVertex(r),s.pushVertex(c),s.pushVertex(a),s.pushVertex(h),s.__lastRenderCall){var O=s.__lastRenderCall;O.renderStyleIndex==this.we.renderStyleIndex?O.numIndices+=6:(s.pushRenderCall(O),s.__lastRenderCall=new t.RenderCall(O.startIndex+O.numIndices,6,this.we.renderStyleIndex))}else s.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,i,n,o,s)},ue:function(e,i,n,o){switch(this.Bd.Vc){case 0:for(var s=0;s<this.Bd.tc.length;++s)this.qe(this.Bd.tc[s],e,i,n,o);break;case 1:for(s=this.Bd.tc.length;s-- >0;)this.qe(this.Bd.tc[s],e,i,n,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(n,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,i,n,o)},this)}}};var o=function e(i,n,o){var s=this;function r(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=i,this.we=n,r.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){s.we.Pb(e,s,this);var r=s.Rb,c=i.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=d,r+=d,c+=d,null!=this.Hb&&r>this.Hb){s.disactivate();break}s.Rb=r,i.Rb=c,n&&e>0&&t.ab(s.Ab,n,s.Bb,a/e),o&&e>0&&t.slerpq(s.Mc,o,s.prevRotation,a/e),this.Lb=this.Jb;for(var l=0;l<this.Jb&&0!=s.sc.length;++l){1==this.Jb?this.Kb=0:this.Kb=l/(this.Jb-1);var f=s.sc.pop();s.tc.unshift(f),0==l?f.Yb():f.Zb(),f.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){s.disactivate();break}}this.Ob=u}return r+=a,s.Rb=r,n&&t.T(s.Ab,n),o&&t.U(s.Mc,o),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){s.we.Pb(e,s,this);var r=s.Rb,c=r+e,a=i.Rb,h=a+e,u=n?t.O(t.h(n,s.Bb)):0,d=0;if(u>1e-6){for(var l=u/this.rd,f=this.bc+l,p=l<.001?1-this.bc:(1-this.bc)/l,_=[];f>1;){var b=r+p*e;n&&t.ab(_,s.Bb,n,p),s.Rb=b,t.T(s.Ab,_),i.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var v=0;v<this.Jb&&0!=s.sc.length;++v){1==this.Jb?this.Kb=0:this.Kb=v/(this.Jb-1);var y=s.sc.pop();s.tc.unshift(y),0==v?y.Yb():y.Zb(),y.Id(e*(1-p)),++d}p+=1/l,f-=1}this.bc=f}return s.Rb=c,n&&t.T(s.Ab,n),o&&t.U(s.Mc,o),d}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){s.we.fd(s,this),this.nc()},Zb:function(){s.we.gd(s,this),this.nc()},Id:function(t){s.we.qc(t,s,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,n){this.Kc.push({Bd:new e(i,t,o),Ad:n})},vc:function(t,e,i){for(var n=0;n<this.Kc.length;++n){var o=this.Kc[n];e==o.Ad.xc&&o.Bd.Hd(t,i)}},Ce:function(t,e,i,n,o){for(var s=0;s<this.Kc.length;++s){var r=this.Kc[s];t==r.Ad.xc&&r.Bd.ue(e,i,n,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return s.we.Cc(s,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new r},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new a,l=0;l<this.Yc.length;++l){var f=this.Yc[l];d.uc(f.Db,f.Ad)}this.sc.push(d)}this.Nb=function(e,i){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,i||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,i,n){if(this.paused_)this.Td(i,n);else{if(this.wd=this.Rb,i)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,i,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var s;n&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?s=this.vd.Id(e,i,n):(i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),s=0,this.Rb+=e);for(var r=s;r<this.tc.length;){var c=this.tc[r];if(c.oc){if(c.rc(e),this.xd(r))continue}else if(c.Id(e),this.Wc.Ac(this.tc[r])&&(c.wc(),this.xd(r)))continue;++r}}},o.prototype.xd=function(t){for(var e=this.tc[t],i=!0,n=0;n<e.Kc.length;++n){var o=e.Kc[n].Bd;if(o.activated()||o.tc.length>0){i=!1;break}}return!!i&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,i,n){this.construct.ue(t,e,i,n)},o.prototype.Td=function(e,i){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),i&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,i))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var s=function(){this._init=function(e,i,n,s,r){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,s);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,i){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,i||[0,0,0,1])},this.Nb(i,n),this.model.qd(this),this._presimNeeded=!0,r.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),r.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,i,n),this._presimNeeded=!1)}};s.prototype.restart=function(t,e,i){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var n=0;n<this.od.length;++n)this.od[n].Jd(this.Ab,this.Mc);this._presimNeeded=!0,i&&i.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),i&&i.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},s.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},s.prototype.update=function(t,e,i){this.Dd>0?this.updateFixed(t,e,i):this.updateFlex(t,e,i)},s.prototype.updateFixed=function(e,i,n){var o=0,s=[];t.T(s,this.Ab);var r=[];for(t.U(r,this.Mc),i&&t.equalv3_(i,this.Ab)&&(i=null),n&&t.equalq_(n,this.Mc)&&(n=null);e-o+this.Cd>=this.Dd;){var c=this.Rb;i&&t.ab(s,this.Ab,i,o/e),n&&t.slerpq(r,this.Mc,n,o/e);for(var a=0;a<this.od.length;++a)this.od[a].Id(this.Dd,s,r),this.Rb=c;o+=this.Dd-this.Cd,this.Cd=0,this.Rb=c+this.Dd}i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),this.Cd+=e-o},s.prototype.updateFlex=function(e,i,n){for(var o=this.Rb,s=0;s<this.od.length;++s)this.od[s].Id(e,i,n),this.Rb=o;this.Rb=o+e,i&&t.T(this.Ab,i),n&&t.U(this.Mc,n)},s.prototype.resetPosition=function(e,i){e&&t.T(this.Ab,e),i&&t.U(this.Mc,i);for(var n=0;n<this.od.length;++n)this.od[n].Td(this.Ab,this.Mc)},s.prototype.setPropertyInAllEmitters=function(e,i){var n="_".concat(e);if(i instanceof Array)if(2==i.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][n],i);else for(o=0;o<this.od.length;++o)t.T(this.od[o][n],i);else for(o=0;o<this.od.length;++o)this.od[o][n]=i},s.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},s.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},s.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},s.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},s.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},s.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},s.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var r=function t(){this._init=function(e,i,o,s,r){t.prototype._init.call(this,e,i,o,n,r),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=s,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(r.prototype=new s).fillGeometryBuffers=function(t,e,i){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(n){n.ue(t,e,i,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,n,o,s){t.prototype._init.call(this,e,n,o,i,s),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var i,n,o,s,r,c,a,h,u=[],d=[],l=[],f=[],p=[],_=[],b=[],v=[];this.pe=[{xe:0,Rc:1,Sc:1,renderStyleIndex:0}],this.name="DefaultEmitter",this.ud=function(t){t.dd(),t._14=[[[1,0,0]]],t.jd=100,t.Vc=0},this.Mb=function(t){t.zb=10,t.Gb=1,t.Jb=1},this.Pb=function(t,e,i){i.zb=10},this.fd=function(e,s){s._=0,t.W(u,0,0,0),s._2=[],t.rb(s._2,u,e.Mc),t.c(s._2,e.Ab,s._2),i=200*e.Ld.rand()-100,n=200*e.Ld.rand()-100,o=200*e.Ld.rand()-100,t.W(d,i,n,o),s._7=[],t.rb(s._7,d,e.Mc),t.c(s._7,e.ad,s._7),s._8=0,t.T(s.Ab,s._2)},this.gd=function(e,s){s._=0,t.W(u,0,0,0),s._2=[],t.rb(s._2,u,e.Mc),t.c(s._2,e.Ab,s._2),i=200*e.Ld.rand()-100,n=200*e.Ld.rand()-100,o=200*e.Ld.rand()-100,t.W(d,i,n,o),s._7=[],t.rb(s._7,d,e.Mc),t.c(s._7,e.ad,s._7),s._8=0,t.T(s.Ab,s._2)},this.qc=function(i,n,o){o._+=i,t.W(l,0,-100,0),t.T(f,l),t.T(p,[0,0,0]),t.u(_,f,i),t.c(_,_,o._7),t.u(b,_,i),t.c(b,b,o._2),t.T(o._2,b),t.T(o._7,_),t.T(o.Ab,o._2),s=2,r=o._/s,a=r<0?0:r>1?1:r,t.V(v,0,1*(a-0)),c=e.nb(n._14[0][v[0]],v[1]),h=30*c,t.S(o.Pd,[.5,.5]),o.Md=o._8,t.V(o.Nd,h,h),t.T(o.gf,[1,1,1]),o.Od=1,o.Qc=0},this.Cc=function(t,e){return s=2,e._>s}}(c.prototype=new s).draw=function(t,e){for(var i=0;i<this.od.length;++i)this.od[i].Hd(t,e)},this.createWGLInstance=function(t,e,i,n){var o=new r;return o._init(this,t,e,i,n||{}),o},this.createCanvas2DInstance=function(t,e,i){var n=new c;return n._init(this,t,e,i||{}),n},this.textures=["sparkleBlink.png"],this.materials=[0],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=100,this.qd=function(t){t.Dd=.0333333,t.Ud=0,t.rand=function(){return Math.random()},t.pd(new a)},this.nb=function(e,i){var n=Math.floor(i),o=n+1;return t.X(e[n],e[o],i-n)}}}),cc._RF.pop()},{}],NodeController:[function(t,e,i){"use strict";cc._RF.push(e,"583f8lznOlEMIzaakSFrhxZ","NodeController");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.hideMask=null,e.shape_wrong=null,e.FX_confetti=null,e.Scenes=[],e.objects=[],e}return o(e,t),e.prototype.start=function(){var t=this;this.content.children.forEach(function(e){return e.name.includes("Scene")&&t.Scenes.push(e)}),this.Scenes.find(function(e){e.children.forEach(function(e){return e.name.includes("object")&&t.objects.push(e)})}),this.shape_wrong=this.content.getChildByName("shape"),this.FX_confetti=this.content.getChildByName("ConfettiBase").getComponentInChildren(cc.ParticleSystem)},s([a(cc.Node)],e.prototype,"content",void 0),s([a(cc.Node)],e.prototype,"hideMask",void 0),s([c],e)}(cc.Component);i.default=h,cc._RF.pop()},{}],Rain:[function(t,e,i){"use strict";cc._RF.push(e,"00106gQMVpJmqoLm+twhjVK","Rain"),function(t,n){if("object"==typeof i&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define(["exports"],function(e){(t.NeutrinoEffect=e).Rain=n()});else{var o=t.NeutrinoEffect||(t.NeutrinoEffect={});o.__last__=o.Rain=n()}}("undefined"!=typeof self?self:void 0,function(){return function(t){var e=this,i=function t(e,i){this.Ld=e,this.Bd=i,this.Bd.we.pe.length>0?(this.we=this.Bd.we.pe[0],this.Lc=[t.prototype.Ec,t.prototype.Fc][this.we.xe]):this.we=null};i.prototype={Ec:function(e,i,n){var o=t.ib(n.Md),s=Math.cos(o),r=Math.sin(o),c=t.Ae(n.Nd[0]),a=t.Ae(n.Nd[1]);e.transform(c*s,c*r,a*-r,a*s,i[0],i[1])},Fc:function(e,i,n){var o=n.Mc,s=2*o[2]*o[2],r=2*o[0]*o[1],c=2*o[3]*o[2],a=t.Ae(n.Nd[0]),h=t.Ae(n.Nd[1]);e.transform(a*(1-2*o[1]*o[1]-s),a*(r+c),h*(c-r),h*(2*o[0]*o[0]+s-1),i[0],i[1])},Pc:function(e,i,n){if(i.vc(e,-1,n),this.we&&null!=this.Be&&!i.oc&&i.Od>.001){var o=Math.floor(i.Qc%this.we.Rc),s=Math.floor(i.Qc/this.we.Rc),r=i.Ab.slice(),c=i.Nd.slice();if(!n||n.transform(r,c)){var a=Math.abs(c[0]),h=Math.abs(c[1]);if(a>.001&&h>.001){if(e.save(),this.Lc(e,r,i),e.translate(-a*i.Pd[0],-h*(1-i.Pd[1])),e.globalAlpha*=i.Od,i.gf[0]<.999||i.gf[1]<.999||i.gf[2]<.999){if(a>=1&&h>=1){var u=a<this.Tc?a:this.Tc,d=h<this.Uc?h:this.Uc;t.af(u,d),t.bf.globalCompositeOperation="copy",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),t.bf.globalCompositeOperation="multiply",t.bf.fillStyle=t.ff(i.gf),t.bf.fillRect(0,0,u,d),t.bf.globalCompositeOperation="destination-atop",t.bf.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,u,d),e.drawImage(t.cf,0,0,u,d,0,0,a,h)}}else e.drawImage(this.Be.image,this.Be.x+this.Tc*o,this.Be.y+this.Uc*s,this.Tc,this.Uc,0,0,a,h);e.restore()}}}i.vc(e,1,n)},Hd:function(t,e){switch(t.save(),this.we?(t.globalCompositeOperation=this.Ld.materials[this.Ld.model.renderStyles[this.we.renderStyleIndex].materialIndex],this.Be=this.Ld.textureDescs[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]]):this.Be=null,this.Be&&(this.Tc=this.Be.width/this.we.Rc,this.Uc=this.Be.height/this.we.Sc),this.Bd.Vc){case 0:for(var i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e);break;case 1:for(i=this.Bd.tc.length;i-- >0;)this.Pc(t,this.Bd.tc[i],e);break;case 2:for(this.Bd.tc.sort(function(t,e){return t.Ab[2]>e.Ab[2]?1:t.Ab[2]<e.Ab[2]?-1:0}),i=0;i<this.Bd.tc.length;++i)this.Pc(t,this.Bd.tc[i],e)}t.restore()}};var n=function(t,e){this.Ld=t,this.Bd=e,this.Bd.we.pe.length>0?this.we=this.Bd.we.pe[0]:this.we=null,this.vertex=[{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]},{position:[0,0,0],color:[0,0,0,0],texCoords:[[0,0]]}]};n.prototype={qe:function(e,i,n,o,s){if(e.Ce(-1,i,n,o,s),this.we&&!e.oc){var r=this.vertex[0],c=this.vertex[1],a=this.vertex[2],h=this.vertex[3],u=[],d=[];if(0==this.we.xe){var l=t.ib(e.Md),f=-Math.sin(l),p=Math.cos(l);u[0]=i[0]*p+n[0]*f,u[1]=i[1]*p+n[1]*f,u[2]=i[2]*p+n[2]*f,d[0]=-i[0]*f+n[0]*p,d[1]=-i[1]*f+n[1]*p,d[2]=-i[2]*f+n[2]*p}else{var _=e.Mc,b=2*_[2]*_[2],v=2*_[0]*_[1],y=2*_[3]*_[2];u[0]=1-2*_[1]*_[1]-b,u[1]=v+y,u[2]=2*_[0]*_[2]-2*_[3]*_[1],d[0]=v-y,d[1]=1-2*_[0]*_[0]-b,d[2]=2*_[1]*_[2]+2*_[3]*_[0]}var m=[],g=[],x=[],A=[];t.u(m,u,-e.Nd[0]*e.Pd[0]),t.u(g,u,e.Nd[0]*(1-e.Pd[0])),t.u(x,d,-e.Nd[1]*e.Pd[1]),t.u(A,d,e.Nd[1]*(1-e.Pd[1])),t.c(r.position,m,x),t.c(r.position,r.position,e.Ab),t.c(c.position,m,A),t.c(c.position,c.position,e.Ab),t.c(a.position,g,A),t.c(a.position,a.position,e.Ab),t.c(h.position,g,x),t.c(h.position,h.position,e.Ab);var C=t.v(e.gf,255);r.color=c.color=a.color=h.color=[C[0],C[1],C[2],255*e.Od];var w,B,S=Math.floor(e.Qc%this.we.Rc),N=Math.floor(e.Qc/this.we.Rc),P=this.Ld.texturesRemap[this.Ld.model.renderStyles[this.we.renderStyleIndex].textureIndices[0]];if(P)var R=P.width/this.we.Rc,M=P.height/this.we.Sc,T=(w=P.x+S*R)+R,I=(B=P.y+P.height-N*M)-M;else T=(w=S*(R=1/this.we.Rc))+R,I=(B=1-N*(M=1/this.we.Sc))-M;if(r.texCoords[0]=[w,I],c.texCoords[0]=[w,B],a.texCoords[0]=[T,B],h.texCoords[0]=[T,I],s.beforeQuad&&s.beforeQuad(this.we.renderStyleIndex),s.pushVertex(r),s.pushVertex(c),s.pushVertex(a),s.pushVertex(h),s.__lastRenderCall){var O=s.__lastRenderCall;O.renderStyleIndex==this.we.renderStyleIndex?O.numIndices+=6:(s.pushRenderCall(O),s.__lastRenderCall=new t.RenderCall(O.startIndex+O.numIndices,6,this.we.renderStyleIndex))}else s.__lastRenderCall=new t.RenderCall(0,6,this.we.renderStyleIndex)}e.Ce(1,i,n,o,s)},ue:function(e,i,n,o){switch(this.Bd.Vc){case 0:for(var s=0;s<this.Bd.tc.length;++s)this.qe(this.Bd.tc[s],e,i,n,o);break;case 1:for(s=this.Bd.tc.length;s-- >0;)this.qe(this.Bd.tc[s],e,i,n,o);break;case 2:this.Bd.tc.forEach(function(e){e.depth=t.H(n,e.Ab)}),this.Bd.tc.sort(function(t,e){return t.depth<e.depth?1:t.depth>e.depth?-1:0}),this.Bd.tc.forEach(function(t){this.qe(t,e,i,n,o)},this)}}};var o=function e(i,n,o){var s=this;function r(){this.Fb=0,this.Gb=1,this.Hb=null,this.Ib=null,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.Ob=this.Gb,this.Fb=0},this.Nb()}function c(){this.Gb=1,this.Kb=0,this.Lb=1,s.we.Mb(this),this.Nb=function(){this.bc=this.Gb},this.Nb()}function a(){this.Ab=[],this.Pd=[],this.Nd=[],this.gf=[],this.Kc=[]}function h(){}this.Ld=i,this.we=n,r.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){s.we.Pb(e,s,this);var r=s.Rb,c=i.Rb,a=e,h=0;if(this.zb>1e-6){for(var u=this.Ob+e*this.zb;u>=1;){var d=this.zb<.001?0:(1-this.Ob)/this.zb;if(a-=d,r+=d,c+=d,null!=this.Hb&&r>this.Hb){s.disactivate();break}s.Rb=r,i.Rb=c,n&&e>0&&t.ab(s.Ab,n,s.Bb,a/e),o&&e>0&&t.slerpq(s.Mc,o,s.prevRotation,a/e),this.Lb=this.Jb;for(var l=0;l<this.Jb&&0!=s.sc.length;++l){1==this.Jb?this.Kb=0:this.Kb=l/(this.Jb-1);var f=s.sc.pop();s.tc.unshift(f),0==l?f.Yb():f.Zb(),f.Id(a),++h}if(this.Ob=0,u-=1,null!=this.Ib&&++this.Fb>=this.Ib){s.disactivate();break}}this.Ob=u}return r+=a,s.Rb=r,n&&t.T(s.Ab,n),o&&t.U(s.Mc,o),h}},c.prototype={Jd:function(){this.Nb()},Id:function(e,n,o){s.we.Pb(e,s,this);var r=s.Rb,c=r+e,a=i.Rb,h=a+e,u=n?t.O(t.h(n,s.Bb)):0,d=0;if(u>1e-6){for(var l=u/this.rd,f=this.bc+l,p=l<.001?1-this.bc:(1-this.bc)/l,_=[];f>1;){var b=r+p*e;n&&t.ab(_,s.Bb,n,p),s.Rb=b,t.T(s.Ab,_),i.Rb=t.X(a,h,p),this.Lb=this.Jb;for(var v=0;v<this.Jb&&0!=s.sc.length;++v){1==this.Jb?this.Kb=0:this.Kb=v/(this.Jb-1);var y=s.sc.pop();s.tc.unshift(y),0==v?y.Yb():y.Zb(),y.Id(e*(1-p)),++d}p+=1/l,f-=1}this.bc=f}return s.Rb=c,n&&t.T(s.Ab,n),o&&t.U(s.Mc,o),d}},a.prototype={nc:function(){this.oc=!1;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Bd.Jd(this.Ab,null),e.Ad.sd&&e.Bd.disactivate()}},Yb:function(){s.we.fd(s,this),this.nc()},Zb:function(){s.we.gd(s,this),this.nc()},Id:function(t){s.we.qc(t,s,this),this.rc(t)},pc:function(t){return this.Kc[t].Bd},rc:function(t){for(var e=0;e<this.Kc.length;e++)this.Kc[e].Bd.Id(t,this.Ab,null)},uc:function(t,n){this.Kc.push({Bd:new e(i,t,o),Ad:n})},vc:function(t,e,i){for(var n=0;n<this.Kc.length;++n){var o=this.Kc[n];e==o.Ad.xc&&o.Bd.Hd(t,i)}},Ce:function(t,e,i,n,o){for(var s=0;s<this.Kc.length;++s){var r=this.Kc[s];t==r.Ad.xc&&r.Bd.ue(e,i,n,o)}},wc:function(){this.oc=!0;for(var t=0;t<this.Kc.length;++t){var e=this.Kc[t];e.Ad.sd?(e.Bd.activate(),e.Bd.Id(0)):e.Bd.disactivate()}},yc:function(t){for(var e=0;e<this.Kc.length;++e)this.Kc[e].Bd.Ed(t)}},h.prototype.Ac=function(t){return s.we.Cc(s,t,this)},this.Ab=[],this.Bb=[],this.Mc=[],this.prevRotation=[],this.tc=[],this.sc=[],this.Wc=new h,this.construct=new o(this.Ld,this),this.Yc=[],this.ad=[],this.dd=function(){this.vd=new r},this.ed=function(){this.vd=new c},this.we.ud(this);for(var u=0;u<this.jd;++u){for(var d=new a,l=0;l<this.Yc.length;++l){var f=this.Yc[l];d.uc(f.Db,f.Ad)}this.sc.push(d)}this.Nb=function(e,i){t.T(this.Ab,e||[0,0,0]),t.T(this.Bb,this.Ab),t.U(this.Mc,i||[0,0,0,1]),t.U(this.prevRotation,this.Mc),this.Rb=0,this.wd=0,this.Zc=!0,this.paused_=!1,this.generatorsPaused_=!1,t.W(this.ad,0,0,0)}};o.prototype.Jd=function(t,e){this.Nb(t,e),this.sc.push.apply(this.sc,this.tc),this.tc.length=0,this.vd.Jd()},o.prototype.Id=function(e,i,n){if(this.paused_)this.Td(i,n);else{if(this.wd=this.Rb,i)if(t.T(this.Bb,this.Ab),e>1e-4){var o=[];t.g(o,i,this.Bb),t.T(this.ad,o),t.w(this.ad,this.ad,e)}else t.W(this.ad,0,0,0);else t.W(this.ad,0,0,0);var s;n&&t.U(this.prevRotation,this.Mc),this.Zc&&!this.generatorsPaused_?s=this.vd.Id(e,i,n):(i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),s=0,this.Rb+=e);for(var r=s;r<this.tc.length;){var c=this.tc[r];if(c.oc){if(c.rc(e),this.xd(r))continue}else if(c.Id(e),this.Wc.Ac(this.tc[r])&&(c.wc(),this.xd(r)))continue;++r}}},o.prototype.xd=function(t){for(var e=this.tc[t],i=!0,n=0;n<e.Kc.length;++n){var o=e.Kc[n].Bd;if(o.activated()||o.tc.length>0){i=!1;break}}return!!i&&(this.sc.push(this.tc[t]),this.tc.splice(t,1),!0)},o.prototype.Hd=function(t,e){this.construct.Hd(t,e)},o.prototype.ue=function(t,e,i,n){this.construct.ue(t,e,i,n)},o.prototype.Td=function(e,i){this.wd=this.Rb,e&&(t.T(this.Bb,this.Ab),t.T(this.Ab,e)),i&&(t.U(this.prevRotation,this.Mc),t.U(this.Mc,i))},o.prototype.uc=function(t,e){this.Yc.push({Db:t,Ad:e})},o.prototype.pause=function(){this.paused_=!0},o.prototype.unpause=function(){this.paused_=!1},o.prototype.paused=function(){return this.paused_},o.prototype.pauseGenerators=function(){this.generatorsPaused_=!0},o.prototype.unpauseGenerators=function(){this.generatorsPaused_=!1},o.prototype.generatorsPaused=function(){return this.generatorsPaused_},o.prototype.activate=function(){this.Zc=!0},o.prototype.disactivate=function(){this.Zc=!1},o.prototype.activated=function(){return this.Zc},o.prototype.getNumParticles=function(){return this.tc.length};var s=function(){this._init=function(e,i,n,s,r){this.model=e,this.Ab=[],this.Mc=[],this.od=[],this.pd=function(t){var e=new o(this,t,s);e.Nb(this.Ab,this.Mc),this["_".concat(t.name)]=e,this.od.push(e)},this.Nb=function(e,i){this.Cd=0,this.Rb=0,t.T(this.Ab,e||[0,0,0]),t.U(this.Mc,i||[0,0,0,1])},this.Nb(i,n),this.model.qd(this),this._presimNeeded=!0,r.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),r.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,i,n),this._presimNeeded=!1)}};s.prototype.restart=function(t,e,i){this.Nb(t||this.Ab,e||this.Mc),this._presimNeeded=!0;for(var n=0;n<this.od.length;++n)this.od[n].Jd(this.Ab,this.Mc);this._presimNeeded=!0,i&&i.generatorsPaused&&this.pauseGeneratorsInAllEmitters(),i&&i.paused?this.pauseAllEmitters():(this.zeroUpdate(),this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},s.prototype.zeroUpdate=function(){for(var t=0;t<this.od.length;++t)this.od[t].Id(0,this.Ab,this.Mc)},s.prototype.update=function(t,e,i){this.Dd>0?this.updateFixed(t,e,i):this.updateFlex(t,e,i)},s.prototype.updateFixed=function(e,i,n){var o=0,s=[];t.T(s,this.Ab);var r=[];for(t.U(r,this.Mc),i&&t.equalv3_(i,this.Ab)&&(i=null),n&&t.equalq_(n,this.Mc)&&(n=null);e-o+this.Cd>=this.Dd;){var c=this.Rb;i&&t.ab(s,this.Ab,i,o/e),n&&t.slerpq(r,this.Mc,n,o/e);for(var a=0;a<this.od.length;++a)this.od[a].Id(this.Dd,s,r),this.Rb=c;o+=this.Dd-this.Cd,this.Cd=0,this.Rb=c+this.Dd}i&&t.T(this.Ab,i),n&&t.U(this.Mc,n),this.Cd+=e-o},s.prototype.updateFlex=function(e,i,n){for(var o=this.Rb,s=0;s<this.od.length;++s)this.od[s].Id(e,i,n),this.Rb=o;this.Rb=o+e,i&&t.T(this.Ab,i),n&&t.U(this.Mc,n)},s.prototype.resetPosition=function(e,i){e&&t.T(this.Ab,e),i&&t.U(this.Mc,i);for(var n=0;n<this.od.length;++n)this.od[n].Td(this.Ab,this.Mc)},s.prototype.setPropertyInAllEmitters=function(e,i){var n="_".concat(e);if(i instanceof Array)if(2==i.length)for(var o=0;o<this.od.length;++o)t.S(this.od[o][n],i);else for(o=0;o<this.od.length;++o)t.T(this.od[o][n],i);else for(o=0;o<this.od.length;++o)this.od[o][n]=i},s.prototype.pauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pause()},s.prototype.unpauseAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpause();this.zeroUpdate(),this._presimNeeded&&(this.update(this.Ud,this.Ab,this.Mc),this._presimNeeded=!1)},s.prototype.areAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].paused())return!1;return!0},s.prototype.pauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].pauseGenerators()},s.prototype.unpauseGeneratorsInAllEmitters=function(){for(var t=0;t<this.od.length;++t)this.od[t].unpauseGenerators()},s.prototype.areGeneratorsInAllEmittersPaused=function(){for(var t=0;t<this.od.length;++t)if(!this.od[t].generatorsPaused())return!1;return!0},s.prototype.getNumParticles=function(){for(var t=0,e=0;e<this.od.length;++e)t+=this.od[e].getNumParticles();return t};var r=function t(){this._init=function(e,i,o,s,r){t.prototype._init.call(this,e,i,o,n,r),this.texturesRemap=[];for(var c,a=[],h=0;h<this.model.Xe;++h)c=4*h,a.push(c+0,c+3,c+1,c+1,c+3,c+2);this.renderBuffer=s,this.renderBuffer.initialize(4*this.model.Xe,[2],a,this.model.Xe),this.renderBuffer.__numIndices=0}};(r.prototype=new s).fillGeometryBuffers=function(t,e,i){this.renderBuffer.cleanup(),this.renderBuffer.__lastRenderCall=null,this.od.forEach(function(n){n.ue(t,e,i,this.renderBuffer)},this),this.renderBuffer.__lastRenderCall&&this.renderBuffer.pushRenderCall(this.renderBuffer.__lastRenderCall)};var c=function t(){this._init=function(e,n,o,s){t.prototype._init.call(this,e,n,o,i,s),this.materials=[],this.model.materials.forEach(function(t){this.materials.push(["source-over","lighter","multiply"][t])},this),this.textureDescs=[]}};function a(){var i,n,o,s,r,c,a=[],h=[];this.pe=[{xe:0,Rc:4,Sc:1,renderStyleIndex:0}],this.name="Splash",this.ud=function(t){t.dd(),t._9=[[[0,1,1],[1,.992551,.975525,.950994,.920057,.883294,.84095,.793007,.739204,.678995,.611449,.535032,.447117,.342717,.210135,0,0]]],t.jd=1,t.Vc=0},this.Mb=function(t){t.zb=5,t.Gb=1,t.Jb=1,t.Ib=1},this.Pb=function(t,e,i){i.zb=5},this.fd=function(e,n){n._=0,t.W(a,0,0,0),n._2=[],t.rb(n._2,a,e.Mc),t.c(n._2,e.Ab,n._2),n._3=0,i=1+3*e.Ld.rand(),n._5=i,t.T(n.Ab,n._2)},this.gd=function(e,n){n._=0,t.W(a,0,0,0),n._2=[],t.rb(n._2,a,e.Mc),t.c(n._2,e.Ab,n._2),n._3=0,i=1+3*e.Ld.rand(),n._5=i,t.T(n.Ab,n._2)},this.qc=function(i,a,u){u._+=i,t.T(u.Ab,u._2),n=.15,o=u._/n,(r=o<0?0:o>1?1:o)<.1?t.V(h,0,10*(r-0)):t.V(h,1,16.6667*(r-.1)),s=e.nb(a._9[0][h[0]],h[1]),c=30*s,t.S(u.Pd,[.5,.3]),u.Md=u._3,t.V(u.Nd,c,c),t.T(u.gf,[1,1,1]),u.Od=.3,u.Qc=u._5<0?0:u._5>=4?3:u._5},this.Cc=function(t,e){return n=.15,e._>n}}function h(){var i,n,o,s,r,c,h,u=[],d=[],l=[],f=[],p=[],_=[],b=[],v=[],y=[],m=[],g=[],x=[],A=[],C=[],w=[];this.pe=[{xe:1,Rc:4,Sc:1,renderStyleIndex:0}],this.name="Drop",this.ud=function(t){t.dd(),t._2=[[[1.60001,.639999],[800.36,2.52],[800.36,2.52]]],t._3=[[[2.71999,-51.2],[801.92,-49.6],[801.92,-49.6]]],t._9=[[[143.912,1001.9],[-149.088,998.904],[-149.088,998.904]]],t.uc(new a,{xc:1,sd:!0}),t.jd=1e3,t.Vc=0},this.Mb=function(t){t.zb=900,t.Gb=1,t.Jb=1},this.Pb=function(t,e,i){i.zb=900},this.fd=function(a,m){m.Mc=[],m._=0,i=0+1*a.Ld.rand(),n=e.kb(i),t.V(d,0,1*(n-0)),e.lb(u,a._2[d[0]],d[1]),o=e.kb(i),t.V(f,0,1*(o-0)),e.lb(l,a._3[f[0]],f[1]),s=0+1*a.Ld.rand(),t.Y(p,u,l,s),t.W(_,p[0],p[1],0),m._7=[],t.rb(m._7,_,a.Mc),t.c(m._7,a.Ab,m._7),r=0+1*a.Ld.rand(),c=e.kb(r),t.V(v,0,1*(c-0)),e.lb(b,a._9[v[0]],v[1]),t.W(y,b[0],b[1],0),m._11=[],t.rb(m._11,y,a.Mc),t.c(m._11,a.ad,m._11),h=.45+a.Ld.rand()*(.6-.45),m._13=h,t.T(m.Ab,m._7)},this.gd=function(a,m){m.Mc=[],m._=0,i=0+1*a.Ld.rand(),n=e.kb(i),t.V(d,0,1*(n-0)),e.lb(u,a._2[d[0]],d[1]),o=e.kb(i),t.V(f,0,1*(o-0)),e.lb(l,a._3[f[0]],f[1]),s=0+1*a.Ld.rand(),t.Y(p,u,l,s),t.W(_,p[0],p[1],0),m._7=[],t.rb(m._7,_,a.Mc),t.c(m._7,a.Ab,m._7),r=0+1*a.Ld.rand(),c=e.kb(r),t.V(v,0,1*(c-0)),e.lb(b,a._9[v[0]],v[1]),t.W(y,b[0],b[1],0),m._11=[],t.rb(m._11,y,a.Mc),t.c(m._11,a.ad,m._11),h=.45+a.Ld.rand()*(.6-.45),m._13=h,t.T(m.Ab,m._7)},this.qc=function(e,i,n){n._+=e,t.T(m,n._11),t.u(m,m,e),t.c(m,m,n._7),t.T(n._7,m),t.T(n.Ab,n._7),t.Q(C,[0,0,1]),t.I(A,C,n._11),t.Q(A,A),t.I(x,A,C),t.pb(g,x,A,C),t.V(w,80,15),t.S(n.Pd,[1,.5]),t.U(n.Mc,g),t.S(n.Nd,w),t.T(n.gf,[0,1,1]),n.Od=.3,n.Qc=0},this.Cc=function(t,e){return e._>e._13}}(c.prototype=new s).draw=function(t,e){for(var i=0;i<this.od.length;++i)this.od[i].Hd(t,e)},this.createWGLInstance=function(t,e,i,n){var o=new r;return o._init(this,t,e,i,n||{}),o},this.createCanvas2DInstance=function(t,e,i){var n=new c;return n._init(this,t,e,i||{}),n},this.textures=["raindrops.png"],this.materials=[0],this.renderStyles=[{materialIndex:0,textureIndices:[0]}],this.Xe=2001,this.qd=function(t){t.Dd=.0333333,t.Ud=0,t.rand=function(){return Math.random()},t.pd(new a),t.pd(new h)},this.kb=function(t){return t<0?0:t>1?1:t},this.lb=function(e,i,n){var o=Math.floor(n),s=n-o;t.Y(e,i[o],i[o+1],s)},this.nb=function(e,i){var n=Math.floor(i),o=n+1;return t.X(e[n],e[o],i-n)}}}),cc._RF.pop()},{}],Responsive:[function(t,e,i){"use strict";cc._RF.push(e,"d5c01VUSP5G8p7xJENgTwyO","Responsive");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../Data/constants"),c=cc._decorator,a=c.ccclass,h=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BG=null,e.scratchable=null,e.CTA_Btn=null,e.CTA_logo=null,e.device="",e.isRotate=!1,e.HORIZONTAL_IPX="horizontal_IPX",e.HORIZONTAL_TABLET="horizontal_Tablet",e.VERTICAL_IPX="vertical_IPX",e.VERTICAL_MOBILE="vertical_Mobile",e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(this.isRotate=!0,this.setHorizontal()):(this.isRotate=!1,this.setVertical())},e.prototype.setHorizontal=function(){cc.view.getFrameSize().height/cc.view.getFrameSize().width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},e.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,r.Constants.Responsive.currentDevice="horizon_Tablet",this.CTA_logo.scale=.5,this.CTA_Btn.scale=.5)},e.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,r.Constants.Responsive.currentDevice="horizon_Tablet",this.CTA_logo.scale=.5,this.CTA_Btn.scale=.5)},e.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},e.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,r.Constants.Responsive.currentDevice="vertical_mobile",this.CTA_logo.scale=.48,this.CTA_Btn.scale=.4)},e.prototype.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,r.Constants.Responsive.currentDevice="vertical_mobile",this.CTA_logo.scale=.54,this.CTA_Btn.scale=.4)},e.prototype.unActiveLogo=function(){},e.prototype.update=function(){this.handleRotate()},s([h(cc.Node)],e.prototype,"BG",void 0),s([h(cc.Node)],e.prototype,"scratchable",void 0),s([h(cc.Node)],e.prototype,"CTA_Btn",void 0),s([h(cc.Node)],e.prototype,"CTA_logo",void 0),s([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],Scratchable:[function(t,e){"use strict";cc._RF.push(e,"836a9YKgBxFXYKE5BcLsYH1","Scratchable"),cc.Class({extends:cc.Component,properties:{isDone:0,isWin:cc.Boolean,eraserRadius:{type:cc.Int,default:60}},start:function(){this.percentToWin=1;var t=this.getComponentInChildren(cc.Mask);this.graphics=t._graphics,this.graphics.fillColor=cc.color(255,255,255,0),this.reset()},calculateProgress:function(){if(this.isScratchable){var t=0;this.polygonPointsList.forEach(function(e){e.isHit&&(t+=1)}),this.progress=t/this.polygonPointsList.length,this.progress>=this.percentToWin&&(this.isWin=!0,this.isDone=1),this.isWin&&(this.fillInstantly(),this.completed=!0,this.isScratchable=!1,this.node.dispatchEvent(new cc.Event.EventCustom("completed",this)))}},reset:function(){this.callbackFlag=!0,this.graphics.clear(),this.tempDrawPoints=[],this.polygonPointsList=[],this.progress=0,this.completed=!1,this.isScratchable=!0,this.initPolygonList()},initPolygonList:function(){for(var t=0;t<this.node.width;t+=this.eraserRadius)for(var e=0;e<this.node.height;e+=this.eraserRadius)this.polygonPointsList.push({rect:cc.rect(t-this.node.width/2,e-this.node.height/2,this.eraserRadius,this.eraserRadius),isHit:!1})},scratchHole:function(t){t=this.node.convertToNodeSpaceAR(t);var e=this.graphics,i=this.tempDrawPoints.length;if(this.tempDrawPoints.push(t),this.calculateProgress(),i<=1)e.circle(t.x,t.y,this.eraserRadius/2),e.fill(),this.polygonPointsList.forEach(function(e){if(!e.isHit){var i=t.x>e.rect.x&&t.x<e.rect.x+e.rect.width,n=t.y>e.rect.y&&t.y<e.rect.y+e.rect.height;i&&n&&(e.isHit=!0)}});else{var n=this.tempDrawPoints[i-2],o=this.tempDrawPoints[i-1];e.moveTo(n.x,n.y),e.lineTo(o.x,o.y),e.lineWidth=this.eraserRadius,e.lineCap=cc.Graphics.LineCap.ROUND,e.lineJoin=cc.Graphics.LineJoin.ROUND,e.strokeColor=cc.color(255,255,255,255),e.stroke(),this.polygonPointsList.forEach(function(t){t.isHit=t.isHit||cc.Intersection.lineRect(n,o,t.rect)})}},resetProgress:function(){this.clearInstantly(),this.polygonPointsList=[],this.tempDrawPoints=[],this.progress=0,this.initPolygonList()},isInBound:function(){return!0},clearInstantly:function(){this.graphics.clear()},fillInstantly:function(){this.graphics.moveTo(0,0),this.graphics.rect(0,0,this.node.width,this.node.height),this.graphics.fill()}}),cc._RF.pop()},{}],TouchAreaController:[function(t,e,i){"use strict";cc._RF.push(e,"cb238j6V3ZEJ5t9cUnXoMCl","TouchAreaController");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../Data/constants"),c=t("../Plugin/AudioManager"),a=t("./GameController"),h=t("./GamePlay"),u=t("./NodeController"),d=cc._decorator,l=d.ccclass,f=d.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GamePlay=null,e.AudioManager=null,e.GameController=null,e.NodeController=null,e.CTA_Btn=null,e.CTA_Overlay=null,e.isTouch=!1,e.isActiveCTA=!1,e.startTouchPos=null,e.currentInteractObject=null,e.ObjectPrevPos=null,e.currentAreaToImpact=null,e.currentFX=null,e.curentScene=null,e}return o(e,t),e.prototype.start=function(){this.registerEvent()},e.prototype.registerEvent=function(){var t=this;this.NodeController.objects.forEach(function(e){e.on(cc.Node.EventType.TOUCH_START,t.touchStart,t),e.on(cc.Node.EventType.TOUCH_MOVE,t.touchMove,t),e.on(cc.Node.EventType.TOUCH_END,t.touchEnd,t),e.on(cc.Node.EventType.TOUCH_CANCEL,t.touchEnd,t)}),this.CTA_Btn.on(cc.Node.EventType.TOUCH_START,this.GameController.installHandle,this),this.NodeController.hideMask.on(cc.Node.EventType.TOUCH_START,this.GamePlay.handleIronSourcePlaySound,this)},e.prototype.touchStart=function(t){if(this.GamePlay.handleIronSourcePlaySound(),r.Constants.isCanTouch){this.isTouch=!0,this.currentInteractObject=t.target,this.ObjectPrevPos=this.currentInteractObject.getPosition(),this.curentScene=this.currentInteractObject.parent;var e=t.getLocation(),i=this.node.convertToNodeSpaceAR(e);this.currentInteractObject.setPosition(i),this.startTouchPos=i,this.currentAreaToImpact=this.curentScene.getChildByName("circle"),this.currentFX=this.curentScene.getChildByName("FX_doneStep").children[0].getComponent(cc.ParticleSystem),this.curentScene.getChildByName("Hint").active=!1}},e.prototype.touchMove=function(t){if(r.Constants.isCanTouch&&this.isTouch){var e=t.getLocation(),i=this.node.convertToNodeSpaceAR(e);this.currentInteractObject.setPosition(i)}},e.prototype.touchEnd=function(t){if(r.Constants.isCanTouch&&this.isTouch){this.isTouch=!1;var e=t.getLocation(),i=this.node.convertToNodeSpaceAR(e);this.isTouchInteractArea()?this.GamePlay.handleDoneLevel(this.currentFX,this.curentScene,this.currentInteractObject):this.GamePlay.handleDragWrong(i,this.ObjectPrevPos,this.currentInteractObject)}},e.prototype.isTouchInteractArea=function(){if("object_true"===this.currentInteractObject.name){var t=this.currentInteractObject.getBoundingBox();if(this.currentAreaToImpact.getBoundingBox().intersects(t))return!0}return!1},e.prototype.offEvent=function(){this.isActiveCTA=!1,this.NodeController.hideMask.off(cc.Node.EventType.TOUCH_START),this.NodeController.hideMask.off(cc.Node.EventType.TOUCH_MOVE),this.NodeController.hideMask.off(cc.Node.EventType.TOUCH_END),this.NodeController.hideMask.off(cc.Node.EventType.TOUCH_CANCEL)},e.prototype.update=function(){this.GamePlay.handleMuteSoundIronSource()},s([f(h.default)],e.prototype,"GamePlay",void 0),s([f(c.default)],e.prototype,"AudioManager",void 0),s([f(a.GameController)],e.prototype,"GameController",void 0),s([f(u.default)],e.prototype,"NodeController",void 0),s([f(cc.Node)],e.prototype,"CTA_Btn",void 0),s([f(cc.Node)],e.prototype,"CTA_Overlay",void 0),s([l],e)}(cc.Component);i.default=p,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./GamePlay":"GamePlay","./NodeController":"NodeController"}],constants:[function(t,e,i){"use strict";cc._RF.push(e,"d0b68xTANVBsaIBjAI8Yj1K","constants"),Object.defineProperty(i,"__esModule",{value:!0}),i.Constants=void 0;var n,o=cc._decorator;o.ccclass,o.property,function(t){t.touchStart="touchstart",t.touchMove="touchmove",t.touchEnd="touchend",t.touchCancel="touchcancel"}(n||(n={}));var s,r={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},c={calculated:0,currentDevice:""};(function(t){t.bgSound="bgSound",t.eraserSound="eraserSound",t.successSound="successSound",t.clickSound="clickSound",t.LoseSound="LoseSound",t.passSound="passSound"})(s||(s={}));var a=function(){function t(){}return t.isClickGameStart=!1,t.isRotate=!1,t.isCanTouch=!0,t.isDoneEraser=!1,t.currentLv=1,t.touchPoint=null,t.levelObjectDoneIndex=0,t.Event=n,t.SoundTrack=s,t.ironSource=r,t.Responsive=c,t}();i.Constants=a,cc._RF.pop()},{}],"neutrinoparticles.umd":[function(require,module,exports){"use strict";var global,factory;cc._RF.push(module,"ab558HOKv9Bq5K2NwBWDZL+","neutrinoparticles.umd"),global=void 0,factory=function(exports){function Context(){var ctx=this;function colorCompToHex_(t){return t<16?"0"+t.toString(16):t.toString(16)}this.equalv3_=function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]},this.equalq_=function(t,e){return t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]&&t[3]==e[3]},this.a=function(t,e,i){t[0]=e[0]+i[0],t[1]=e[1]+i[1]},this.b=function(t,e){return[t[0]+e[0],t[1]+e[1]]},this.y=function(t,e,i){t[0]=e[0]+i,t[1]=e[1]+i},this.z=function(t,e){return[t[0]+e,t[1]+e]},this.c=function(t,e,i){t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2]},this.d=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},this.C=function(t,e,i){t[0]=e[0]+i,t[1]=e[1]+i,t[2]=e[2]+i},this.D=function(t,e){return[t[0]+e,t[1]+e,t[2]+e]},this.addq=function(t,e,i){t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3]},this.addq_=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3]]},this.e=function(t,e,i){t[0]=e[0]-i[0],t[1]=e[1]-i[1]},this.f=function(t,e){return[t[0]-e[0],t[1]-e[1]]},this.A=function(t,e,i){t[0]=e[0]-i,t[1]=e[1]-i},this.B=function(t,e){return[t[0]-e,t[1]-e]},this.nf=function(t,e,i){t[0]=e-i[0],t[1]=e-i[1]},this.of=function(t,e){return[t-e[0],t-e[1]]},this.g=function(t,e,i){t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2]},this.h=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},this.E=function(t,e,i){t[0]=e[0]-i,t[1]=e[1]-i,t[2]=e[2]-i},this.F=function(t,e){return[t[0]-e,t[1]-e,t[2]-e]},this.rf=function(t,e,i){t[0]=e-i[0],t[1]=e-i[1],t[2]=e-i[2]},this.sf=function(t,e){return[t-e[0],t-e[1],t-e[2]]},this.i=function(t,e,i){t[0]=e[0]*i[0],t[1]=e[1]*i[1]},this.j=function(t,e){return[t[0]*e[0],t[1]*e[1]]},this.k=function(t,e,i){t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2]},this.l=function(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2]]},this.m=function(t,e,i){t[0]=e[0]/i[0],t[1]=e[1]/i[1]},this.n=function(t,e){return[t[0]/e[0],t[1]/e[1]]},this.o=function(t,e,i){t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2]},this.p=function(t,e){return[t[0]/e[0],t[1]/e[1],t[2]/e[2]]},this.H=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},this.dotq_=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},this.q=function(t,e,i){t[0]=e[0]*i,t[1]=e[1]*i},this.r=function(t,e){return[t[0]*e,t[1]*e]},this.s=function(t,e,i){t[0]=e[0]/i,t[1]=e[1]/i},this.t=function(t,e){return[t[0]/e,t[1]/e]},this.u=function(t,e,i){t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i},this.v=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},this.w=function(t,e,i){t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i},this.x=function(t,e){return[t[0]/e,t[1]/e,t[2]/e]},this.y=function(t,e,i){t[0]=e[0]+i,t[1]=e[1]+i},this.z=function(t,e){return[t[0]+e,t[1]+e]},this.A=function(t,e,i){t[0]=e[0]-i,t[1]=e[1]-i},this.B=function(t,e){return[t[0]-e,t[1]-e]},this.G=function(t,e){return t[0]*e[0]+t[1]*e[1]},this.H=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},this.I=function(t,e,i){var n=e[0],o=e[1],s=e[2],r=i[0],c=i[1],a=i[2];t[0]=o*a-s*c,t[1]=s*r-n*a,t[2]=n*c-o*r},this.J=function(t,e){var i=t[0],n=t[1],o=t[2],s=e[0],r=e[1],c=e[2];return[n*c-o*r,o*s-i*c,i*r-n*s]},this.K=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},this.L=function(t){return t[0]*t[0]+t[1]*t[1]},this.M=function(t,e){ctx.q(t,e,1/ctx.K(e))},this.N=function(t){return ctx.r(t,1/ctx.K(t))},this.O=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},this.P=function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},this.Q=function(t,e){ctx.u(t,e,1/ctx.O(e))},this.R=function(t){return ctx.v(t,1/ctx.O(t))},this.S=function(t,e){t[0]=e[0],t[1]=e[1]},this.T=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]},this.U=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]},this.V=function(t,e,i){t[0]=e,t[1]=i},this.W=function(t,e,i,n){t[0]=e,t[1]=i,t[2]=n},this.X=function(t,e,i){return t+(e-t)*i},this.Y=function(t,e,i,n){t[0]=e[0]+(i[0]-e[0])*n,t[1]=e[1]+(i[1]-e[1])*n},this.Z=function(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]},this.ab=function(t,e,i,n){t[0]=e[0]+(i[0]-e[0])*n,t[1]=e[1]+(i[1]-e[1])*n,t[2]=e[2]+(i[2]-e[2])*n},this.bb=function(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i,t[2]+(e[2]-t[2])*i]},this.slerpq=function(t,e,i,n){var o=ctx.dotq_(e,i),s=[];if(o<0?(ctx.negq(s,i),o=-o):ctx.U(s,i),1-o<Number.EPSILON)t[0]=ctx.X(e[0],i[0],n),t[1]=ctx.X(e[1],i[1],n),t[2]=ctx.X(e[2],i[2],n),t[3]=ctx.X(e[3],i[3],n);else{var r=ctx.acos_(o);ctx.mulqscalar(t,ctx.addq_(ctx.mulqscalar_(e,ctx.sin_((1-n)*r)),ctx.mulqscalar_(s,ctx.sin_(n*r))),1/ctx.sin_(r))}},this.slerpq_=function(t,e,i){var n=[];return slerpq(n,t,e,i),n},this.acos_=function(t){return Math.acos(t)},this.sin_=function(t){return Math.sin(t)},this.cos_=function(t){return Math.cos(t)},this.taus88=function(t){var e,i,n;t||(t=0),this.seed=function(t){e=(t&=4294967295)<2?t+2:t,i=t<8?t+8:t,n=t<16?t+16:t},this.rand=function(){var t=(4294967295&(e<<13^e))>>>19;return(((e=((4294967294&e)<<12^t)>>>0)^(i=((4294967288&i)<<4^(t=(4294967295&(i<<2^i))>>>25))>>>0)^(n=((4294967280&n)<<17^(t=(4294967295&(n<<3^n))>>>11))>>>0))>>>0)/4294967296},this.seed(t)},this.cb=function(t,e){this.randv2gen(t,e,function(){return Math.random()})},this.randv2gen=function(t,e,i){var n=i()*Math.PI*2;t[0]=e*ctx.cos_(n),t[1]=e*ctx.sin_(n)},this.db=function(t,e){this.randv3gen(t,e,function(){return Math.random()})},this.randv3gen=function(t,e,i){var n=i()*Math.PI*2,o=2*i()-1,s=e*Math.sqrt(1-o*o);t[0]=s*ctx.cos_(n),t[1]=s*ctx.sin_(n),t[2]=e*o},this.yb=function(t,e,i,n,o){var s=e+o()*n[0],r=i+o()*n[1];ctx.V(t,s,r)},this.eb=function(t,e){ctx.V(-e[0],-e[1])},this.fb=function(t){return[-t[0],-t[1]]},this.gb=function(t,e){ctx.W(-e[0],-e[1],-e[2])},this.hb=function(t){return[-t[0],-t[1],-t[2]]},this.negq=function(t,e){t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3]},this.negq_=function(t){return[-t[0],-t[1],-t[2],-t[3]]},this.ib=function(t){return t/180*Math.PI},this.jb=function(t){return t/Math.PI*180},this.Ae=function(t){return t<0?-1:1},this.ob=function(t,e,i,n){var o=2*n[0]*n[0],s=2*n[1]*n[1],r=2*n[2]*n[2],c=2*n[0]*n[1],a=2*n[0]*n[2],h=2*n[1]*n[2],u=2*n[3]*n[2],d=2*n[3]*n[1],l=2*n[3]*n[0];t[0]=1-s-r,t[1]=c+u,t[2]=a-d,e[0]=c-u,e[1]=1-o-r,e[2]=h+l,i[0]=a+d,i[1]=h-l,i[2]=1-o-s},this.pb=function(t,e,i,n){var o=e[0]+i[1]+n[2];if(o>0){var s=2*Math.sqrt(o+1);t[3]=.25*s,t[0]=(i[2]-n[1])/s,t[1]=(n[0]-e[2])/s,t[2]=(e[1]-i[0])/s}else e[0]>i[1]&e[0]>n[2]?(s=2*Math.sqrt(1+e[0]-i[1]-n[2]),t[3]=(i[2]-n[1])/s,t[0]=.25*s,t[1]=(e[1]+i[0])/s,t[2]=(n[0]+e[2])/s):i[1]>n[2]?(s=2*Math.sqrt(1+i[1]-e[0]-n[2]),t[3]=(n[0]-e[2])/s,t[0]=(e[1]+i[0])/s,t[1]=.25*s,t[2]=(i[2]+n[1])/s):(s=2*Math.sqrt(1+n[2]-e[0]-i[1]),t[3]=(e[1]-i[0])/s,t[0]=(n[0]+e[2])/s,t[1]=(i[2]+n[1])/s,t[2]=.25*s)},this.axes2quat=this.pb,this.qb=function(t,e,i){var n=.5*ctx.ib(i),o=Math.sin(n);t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=Math.cos(n)},this.axisangle2quat=this.qb,this.axisangle2quat_=function(t,e){var i=.5*ctx.ib(e),n=Math.sin(i);return[t[0]*n,t[1]*n,t[2]*n,ctx.cos_(i)]},this.axisangle2quat_=this.axisangle2quat_,this.rb=function(t,e,i){var n=e[0],o=e[1],s=e[2],r=i[0],c=i[1],a=i[2],h=i[3],u=h*n+c*s-a*o,d=h*o+a*n-r*s,l=h*s+r*o-c*n,f=-r*n-c*o-a*s;t[0]=u*h+f*-r+d*-a-l*-c,t[1]=d*h+f*-c+l*-r-u*-a,t[2]=l*h+f*-a+u*-c-d*-r},this.sb=function(t,e,i){var n=e[0],o=e[1],s=e[2],r=e[3],c=i[0],a=i[1],h=i[2],u=i[3];t[0]=n*u+r*c+o*h-s*a,t[1]=o*u+r*a+s*c-n*h,t[2]=s*u+r*h+n*a-o*c,t[3]=r*u-n*c-o*a-s*h},this.mulqscalar=function(t,e,i){t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i},this.mulqscalar_=function(t,e){return[t[0]*e,t[1]*e,t[2]*e,t[3]*e]},this.tb=function(t,e,i,n,o){var s=ctx.ib(i),r=Math.cos(s)*n,c=Math.sin(s)*n;t[0]=e[0]+r*o[0]-c*o[1],t[1]=e[1]+c*o[0]+r*o[1]},this.ub=function(t,e,i,n,o){var s=ctx.ib(i),r=Math.cos(s)/n,c=Math.sin(s)/n;t[0]=r*o[0]+c*o[1]-e[0]*r-e[1]*c,t[1]=r*o[1]-c*o[0]+e[0]*c-e[1]*r},this.vb=function(t){return t<0?Math.floor(ctx.yd-1+t%ctx.yd):Math.floor(t%ctx.yd)},this.ff=function(t){return"#"+colorCompToHex_(Math.floor(255*t[0]))+colorCompToHex_(Math.floor(255*t[1]))+colorCompToHex_(Math.floor(255*t[2]))},this.tf=function(t,e,i,n,o,s){var r=ctx.f(n,t),c=ctx.f(o,t),a=ctx.r(e,i);if(r[0]<-a[0]&&c[0]<-a[0]||r[0]>a[0]&&c[0]>a[0]||r[1]<-a[1]&&c[1]<-a[1]||r[1]>a[1]&&c[1]>a[1])return!1;if(r[0]<=a[0]&&r[0]>=-a[0]&&r[1]<=a[1]&&r[1]>=-a[1])return!0;if(s<1e-6)return!1;if(c[0]<=a[0]&&c[0]>=-a[0]&&c[1]<=a[1]&&c[1]>=-a[1])return!0;var h=ctx.f(o,n);ctx.s(h,h,s);var u=[-h[1],h[0]],d=Math.abs(ctx.G(u,c));if(Math.abs(ctx.G(u,a))>=d){var l=[-e[1],e[0]];if(ctx.G(l,r)*ctx.G(l,c)<=0)return!0}else if(Math.abs(ctx.G(u,[a[0],-a[1]]))>=d){var f=[e[1],e[0]];if(ctx.G(f,r)*ctx.G(f,c)<=0)return!0}return!1},this.uf=function(t,e,i,n,o,s,r){var c=ctx.f(n,t),a=ctx.f(o,t),h=ctx.r(e,i);if(s<1e-6)return!1;if(c[0]<-h[0]&&a[0]<-h[0]||c[0]>h[0]&&a[0]>h[0]||c[1]<-h[1]&&a[1]<-h[1]||c[1]>h[1]&&a[1]>h[1])return!1;var u=ctx.f(o,n);ctx.s(u,u,s);var d=[-u[1],u[0]],l=Math.abs(ctx.G(d,a));if(r){if(Math.abs(ctx.G(d,h))>=l){var f=[-e[1],e[0]];if(ctx.G(f,c)*ctx.G(f,a)<=0)return!0}}else if(Math.abs(ctx.G(d,[h[0],-h[1]]))>=l){var p=[e[1],e[0]];if(ctx.G(p,c)*ctx.G(p,a)<=0)return!0}return!1},this.wb=function(t,e,i,n){var o=3*(i*ctx.yd+e),s=ctx.zd[n];t[0]=s.getUint8(o),t[1]=s.getUint8(o+1),t[2]=s.getUint8(o+2)},this.xb=function(t,e){if(null!=ctx.zd){var i=e[0]*ctx.yd,n=e[1]*ctx.yd,o=e[2]*ctx.yd,s=Math.floor(i),r=Math.floor(n),c=Math.floor(o),a=i-s,h=n-r,u=o-c,d=ctx.vb(s),l=ctx.vb(s+1),f=ctx.vb(r),p=ctx.vb(r+1),_=ctx.vb(c),b=ctx.vb(c+1),v=[],y=[],m=[],g=[],x=[],A=[],C=[],w=[];ctx.wb(v,d,f,_),ctx.wb(y,d,f,b),ctx.wb(m,d,p,_),ctx.wb(g,d,p,b),ctx.wb(x,l,f,_),ctx.wb(A,l,f,b),ctx.wb(C,l,p,_),ctx.wb(w,l,p,b);var B=[],S=[],N=[],P=[];ctx.ab(B,v,y,u),ctx.ab(S,m,g,u),ctx.ab(N,x,A,u),ctx.ab(P,C,w,u);var R=[],M=[];ctx.ab(R,B,S,h),ctx.ab(M,N,P,h),ctx.ab(t,R,M,a)}else ctx.W(t,128,128,128)},this.ImageDesc=function(t,e,i,n,o){this.image=t,this.x=e,this.y=i,this.width=n,this.height=o},this.RenderCall=function(t,e,i){this.startIndex=t,this.numIndices=e,this.renderStyleIndex=i},this.SubRect=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},this.Camera2D=function(){},this.Camera2D.prototype.tb=function(){return!0},this.Camera3D=function(t,e){this.Qd=ctx.r(t,.5),this.z=-.5*t[0]/Math.tan(ctx.ib(.5*e))},this.Camera3D.prototype.transform=function(t,e){if(t[2]<this.z)return!1;var i=-this.z/(t[2]-this.z);return ctx.a(t,ctx.r(ctx.f(t,this.Qd),i),this.Qd),ctx.q(e,e,i),!0},this.zd=null,this.yd=0,this.initializeNoise=function(t,e,i){if(t||alert("path should be defined"),null==this.zd){null!=t&&null!=t||(t=this.defaultPath);var n=new XMLHttpRequest;n.open("GET",t+"neutrinoparticles.noise.bin",!0),n.responseType="arraybuffer",n.ctx=this,n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<300||304==n.status){var t=n.response,o=n.ctx,s=new DataView(t,0,4).getUint32(0,!0);o.zd=[],o.yd=s;for(var r=0;r<s;++r)o.zd[r]=new DataView(t,4+3*s*s*r);e&&e()}else i&&i()},n.send()}else e()},this.NoiseGenerator=function(){for(var t,e,i,n,o,s,r,c=function(t,e,i,n,o){return.5*(2*e+(-t+i)*o+(2*t-5*e+4*i-n)*o*o+(3*e-t-3*i+n)*o*o*o)},a=function(t,e,i,n,o){return[c(t[0],e[0],i[0],n[0],o),c(t[1],e[1],i[1],n[1],o),c(t[2],e[2],i[2],n[2],o)]},h=function(t,e,i){return t<e?e:t>i?i:t},u=[],d=[],l=new ctx.taus88(120),f=function(){return l.rand()},p=.7,_=64,b=0,v=0,y=_>>>1;y>0;y>>>=1){var m=Math.floor(64/y);b+=m*m}var g=0;this.progress=0;var x=function(){for(var t=0;t<64;++t)for(var e=u[t]=[],i=0;i<64;++i)for(var n=e[i]=[],o=0;o<64;++o)n[o]=[0,0,0];g=1,this.progress=.01},A=function(){t=_>>>1,e=Math.floor(64/t),i=e*e,n=Math.max(e-1,1),o=e*e*e,s=0,r=0;for(var c=0;c<o;++c)d[c]=[],d[c][2]=2*f()-1,d[c][1]=2*f()-1,d[c][0]=2*f()-1;g=2},C=function(){for(var o=0;o<e;++o)for(var c=s-1>>>0&n,l=s>>>0&n,f=s+1>>>0&n,y=s+2>>>0&n,m=r-1>>>0&n,x=r>>>0&n,A=r+1>>>0&n,C=r+2>>>0&n,w=o-1>>>0&n,B=o>>>0&n,S=o+1>>>0&n,N=o+2>>>0&n,P=[[[d[c*i+m*e+w],d[c*i+m*e+B],d[c*i+m*e+S],d[c*i+m*e+N]],[d[c*i+x*e+w],d[c*i+x*e+B],d[c*i+x*e+S],d[c*i+x*e+N]],[d[c*i+A*e+w],d[c*i+A*e+B],d[c*i+A*e+S],d[c*i+A*e+N]],[d[c*i+C*e+w],d[c*i+C*e+B],d[c*i+C*e+S],d[c*i+C*e+N]]],[[d[l*i+m*e+w],d[l*i+m*e+B],d[l*i+m*e+S],d[l*i+m*e+N]],[d[l*i+x*e+w],d[l*i+x*e+B],d[l*i+x*e+S],d[l*i+x*e+N]],[d[l*i+A*e+w],d[l*i+A*e+B],d[l*i+A*e+S],d[l*i+A*e+N]],[d[l*i+C*e+w],d[l*i+C*e+B],d[l*i+C*e+S],d[l*i+C*e+N]]],[[d[f*i+m*e+w],d[f*i+m*e+B],d[f*i+m*e+S],d[f*i+m*e+N]],[d[f*i+x*e+w],d[f*i+x*e+B],d[f*i+x*e+S],d[f*i+x*e+N]],[d[f*i+A*e+w],d[f*i+A*e+B],d[f*i+A*e+S],d[f*i+A*e+N]],[d[f*i+C*e+w],d[f*i+C*e+B],d[f*i+C*e+S],d[f*i+C*e+N]]],[[d[y*i+m*e+w],d[y*i+m*e+B],d[y*i+m*e+S],d[y*i+m*e+N]],[d[y*i+x*e+w],d[y*i+x*e+B],d[y*i+x*e+S],d[y*i+x*e+N]],[d[y*i+A*e+w],d[y*i+A*e+B],d[y*i+A*e+S],d[y*i+A*e+N]],[d[y*i+C*e+w],d[y*i+C*e+B],d[y*i+C*e+S],d[y*i+C*e+N]]]],R=0;R<t;++R)for(var M=R/t,T=s*t+R,I=[[a(P[0][0][0],P[1][0][0],P[2][0][0],P[3][0][0],M),a(P[0][0][1],P[1][0][1],P[2][0][1],P[3][0][1],M),a(P[0][0][2],P[1][0][2],P[2][0][2],P[3][0][2],M),a(P[0][0][3],P[1][0][3],P[2][0][3],P[3][0][3],M)],[a(P[0][1][0],P[1][1][0],P[2][1][0],P[3][1][0],M),a(P[0][1][1],P[1][1][1],P[2][1][1],P[3][1][1],M),a(P[0][1][2],P[1][1][2],P[2][1][2],P[3][1][2],M),a(P[0][1][3],P[1][1][3],P[2][1][3],P[3][1][3],M)],[a(P[0][2][0],P[1][2][0],P[2][2][0],P[3][2][0],M),a(P[0][2][1],P[1][2][1],P[2][2][1],P[3][2][1],M),a(P[0][2][2],P[1][2][2],P[2][2][2],P[3][2][2],M),a(P[0][2][3],P[1][2][3],P[2][2][3],P[3][2][3],M)],[a(P[0][2][0],P[1][3][0],P[2][3][0],P[3][3][0],M),a(P[0][2][1],P[1][3][1],P[2][3][1],P[3][3][1],M),a(P[0][2][2],P[1][3][2],P[2][3][2],P[3][3][2],M),a(P[0][2][3],P[1][3][3],P[2][3][3],P[3][3][3],M)]],O=0;O<t;++O)for(var L=O/t,E=r*t+O,F=a(I[0][0],I[1][0],I[2][0],I[3][0],L),G=a(I[0][1],I[1][1],I[2][1],I[3][1],L),j=a(I[0][2],I[1][2],I[2][2],I[3][2],L),D=a(I[0][3],I[1][3],I[2][3],I[3][3],L),U=0;U<t;++U){var k=o*t+U,q=a(F,G,j,D,U/t),V=ctx.d(ctx.v(q,p),u[T][E][k]),H=[h(V[0],-1,1),h(V[1],-1,1),h(V[2],-1,1)];u[T][E][k]=H}v++,this.progress=.01+v/b*.89,++r>=e&&(r=0,++s>=e&&(s=0,_=t,p=Math.pow(p,1.2),_<=1?(g=3,this.progress=.9):g=1))},w=function(){for(var t=[-1,-1,-1],e=[.5,.7,1],i=0;i<64;++i)for(var n=u[i],o=0;o<64;++o)for(var s=n[o],r=0;r<64;++r){var c=s[r];c[0]=ctx.X(t[0],e[0],.5*c[0]+.5),c[1]=ctx.X(t[1],e[1],.5*c[1]+.5),c[2]=ctx.X(t[2],e[2],.5*c[2]+.5)}g=4,this.progress=.95},B=function(){ctx.yd=64,ctx.zd=[];for(var t=0;t<64;++t){for(var e=u[t],i=new ArrayBuffer(12288),n=new DataView(i),o=0;o<64;++o)for(var s=e[o],r=0;r<64;++r){var c=s[r],a=3*(64*o+r);n.setUint8(a+0,Math.floor(h(256*(.5*c[0]+.5)-.5,0,255))),n.setUint8(a+1,Math.floor(h(256*(.5*c[1]+.5)-.5,0,255))),n.setUint8(a+2,Math.floor(h(256*(.5*c[2]+.5)-.5,0,255)))}ctx.zd[t]=n}g=5,this.progress=1};this.step=function(){switch(g){case 0:x.call(this);break;case 1:A.call(this);break;case 2:C.call(this);break;case 3:w.call(this);break;case 4:B.call(this)}return 5==g}},this.cf=document.createElement("canvas"),this.cf.width=0,this.cf.height=0,this.bf=this.cf.getContext("2d"),this.af=function(t,e){(this.cf.width<t||this.cf.height<e)&&(this.cf.width=t,this.cf.height=e,this.bf=this.cf.getContext("2d"))},this.effects=[],this.loadEffect=function(effectFilePath,onSuccessFunc,onFailFunc){if(null!=this.effects[effectFilePath]){var effectModel=this.effects[effectFilePath];return effectModel instanceof Array?void(effectModel[effectModel.length]=[onSuccessFunc,onFailFunc]):void onSuccessFunc(effectModel)}this.effects[effectFilePath]=[[onSuccessFunc,onFailFunc]];var request=new XMLHttpRequest;request.open("GET",effectFilePath,!0),request.responseType="text",request.ctx=this,request.onreadystatechange=function(){if(4==request.readyState){var callbacks=this.ctx.effects[effectFilePath];if(request.status>=200&&request.status<300||304==request.status){var evalText="(function(ctx) {\n"+request.responseText+"\nreturn new NeutrinoEffect(ctx);\n})(this.ctx);",effectModel=eval(evalText);this.ctx.effects[effectFilePath]=effectModel,callbacks.forEach(function(t){t[0](effectModel)})}else callbacks.forEach(function(t){t[1]()})}},request.send()},this.removeEffect=function(t){delete this.effects[t]}}exports.Context=Context,Object.defineProperty(exports,"__esModule",{value:!0})},"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global=global||self).Neutrino={}),cc._RF.pop()},{}],textures:[function(t,e,i){"use strict";cc._RF.push(e,"fd7f0tQ5EtOT5oxbOnhkx87","textures"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=[{uuid:"ed3a71b2-2121-4ee5-87b5-56098a27ebf1",path:"electricity2x2"},{uuid:"4d364072-e5bd-48cb-813b-21c6b50da89a",path:"particle_texture"},{uuid:"001e8ed5-fb98-4daa-b091-34faa603fd3b",path:"raindrops"},{uuid:"16bd4bea-e4de-4ec0-862f-b190fffa54b1",path:"sparkleBlink"},{uuid:"985cf9a5-95ee-43c3-86e8-d799cd732230",path:"star_glow_white"},{uuid:"a0b2248f-8fdf-4295-889a-38f2012cf28d",path:"textures"}],cc._RF.pop()},{}]},{},["GameController","GamePlay","MaskGamePlay","NodeController","Scratchable","TouchAreaController","AnimData","constants","AudioManager","Colorizer","Responsive","NeutrinoEffect_Heart","NeutrinoEffect_NoNameEffect","NeutrinoEffect_Rain","Heart","NoNameEffect","Rain","textures","NeutrinoAssembler","NeutrinoAssemblerJSB","NeutrinoAssemblerWebGL","NeutrinoComponent","NeutrinoContext","NeutrinoSettings","neutrinoparticles.umd"]);