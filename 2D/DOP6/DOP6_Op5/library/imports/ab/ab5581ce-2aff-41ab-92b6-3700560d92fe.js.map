{"version":3,"sources":["packages\\neutrinoparticles\\runtime\\neutrinoparticles.js\\neutrinoparticles.umd.js"],"names":["global","factory","exports","module","define","amd","self","Neutrino","Context","ctx","equalv3_","a","b","equalq_","r","y","s","z","c","d","C","D","addq","addq_","e","f","A","B","nf","of","g","h","E","F","rf","sf","i","j","k","l","m","n","o","p","H","dotq_","q","t","u","v","w","x","G","I","ax","ay","az","bx","by","bz","J","K","Math","sqrt","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","ab","bb","slerpq","cosTheta","negq","Number","EPSILON","Md","acos_","mulqscalar","mulqscalar_","sin_","slerpq_","acos","sin","cos_","cos","taus88","seed","value0","value1","value2","s0","rand","engine","cb","radius","randv2gen","random","gen","PI","db","randv3gen","theta","sqrtInvZ2","yb","Nd","dispx","dispy","eb","fb","gb","hb","negq_","ib","degrees","jb","radians","Ae","value","ob","x2","y2","z2","xy","xz","yz","wz","wy","wx","pb","tr","axes2quat","qb","ha","axisangle2quat","axisangle2quat_","rb","qx","qy","qz","qw","ix","iy","iz","iw","sb","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","tb","Hf","degree","scale","rad","ub","vb","val","floor","yd","colorCompToHex_","toString","ff","rgb","tf","vf","xf","yf","zf","ca","wf","Af","Bf","Cf","abs","Df","_Df","uf","Ef","_Df2","wb","rgbDisp","view","zd","getUint8","xb","scaledPosX","scaledPosY","scaledPosZ","floorX","floorY","floorZ","fracX","fracY","fracZ","noiseX","noiseX1","noiseY","noiseY1","noiseZ","noiseZ1","value000","value001","value010","value011","value100","value101","value110","value111","value00","value01","value10","value11","ImageDesc","image","width","height","RenderCall","startIndex","numIndices","renderStyleIndex","SubRect","Camera2D","prototype","Camera3D","screenSize","horizAngle","Qd","tan","transform","pos","size","initializeNoise","path","onloadcallback","onfailcallback","alert","undefined","defaultPath","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","status","response","DataView","planeSize","getUint32","planeIndex","send","NoiseGenerator","catmullRom_","p0","p1","p2","p3","catmullRomv3_","clamp_","from","to","imageSize","tempBuffer","tausGenerator","amp","fadeDegree","prevStep","step","octSize","octSize2","octMaskSize","octPixels","octZ","octY","numMixStepIterations","mixStepIteration","_octSize","States","INITIAL_FILL","MIX_STEP_INIT","MIX_STEP_PROCESS","SCALING","DATA_VIEWS","FINISHED","Progress","INIT","MIX","state","progress","initialFill","imageZ","imageZY","imageZYX","mixStepInit","max","mixStepProcess","octX","octZ0","octZ1","octZ2","octZ3","octY0","octY1","octY2","octY3","octX0","octX1","octX2","octX3","values","inZ","interpZ","valuesP","inY","interpY","imageY","value3","inX","interpX","imageX","octResult","result","clampedResult","pow","scaling","low","high","dataViews","plane","ArrayBuffer","rgbOffset","setUint8","call","cf","document","createElement","bf","getContext","af","minWidth","minHeight","effects","loadEffect","effectFilePath","onSuccessFunc","onFailFunc","effectModel","Array","length","callbacks","evalText","responseText","eval","forEach","callback","removeEffect","Object","defineProperty"],"mappings":"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","sourceRoot":"/","sourcesContent":["(function (global, factory) {\r\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\r\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\r\n\t(global = global || self, factory(global.Neutrino = {}));\r\n}(this, (function (exports) { 'use strict';\r\n\r\n\tfunction Context() {\r\n\t  var ctx = this;\r\n\r\n\t  this.equalv3_ = function (a, b) {\r\n\t    return a[0] == b[0] && a[1] == b[1] && a[2] == b[2];\r\n\t  };\r\n\r\n\t  this.equalq_ = function (a, b) {\r\n\t    return a[0] == b[0] && a[1] == b[1] && a[2] == b[2] && a[3] == b[3];\r\n\t  };\r\n\r\n\t  this.a = function (r, a, b) {\r\n\t    r[0] = a[0] + b[0];\r\n\t    r[1] = a[1] + b[1];\r\n\t  };\r\n\r\n\t  this.b = function (a, b) {\r\n\t    return [a[0] + b[0], a[1] + b[1]];\r\n\t  };\r\n\r\n\t  this.y = function (r, a, s) {\r\n\t    r[0] = a[0] + s;\r\n\t    r[1] = a[1] + s;\r\n\t  };\r\n\r\n\t  this.z = function (a, s) {\r\n\t    return [a[0] + s, a[1] + s];\r\n\t  };\r\n\r\n\t  this.c = function (r, a, b) {\r\n\t    r[0] = a[0] + b[0];\r\n\t    r[1] = a[1] + b[1];\r\n\t    r[2] = a[2] + b[2];\r\n\t  };\r\n\r\n\t  this.d = function (a, b) {\r\n\t    return [a[0] + b[0], a[1] + b[1], a[2] + b[2]];\r\n\t  };\r\n\r\n\t  this.C = function (r, a, s) {\r\n\t    r[0] = a[0] + s;\r\n\t    r[1] = a[1] + s;\r\n\t    r[2] = a[2] + s;\r\n\t  };\r\n\r\n\t  this.D = function (a, s) {\r\n\t    return [a[0] + s, a[1] + s, a[2] + s];\r\n\t  };\r\n\r\n\t  this.addq = function (r, a, b) {\r\n\t    r[0] = a[0] + b[0];\r\n\t    r[1] = a[1] + b[1];\r\n\t    r[2] = a[2] + b[2];\r\n\t    r[3] = a[3] + b[3];\r\n\t  };\r\n\r\n\t  this.addq_ = function (a, b) {\r\n\t    return [a[0] + b[0], a[1] + b[1], a[2] + b[2], a[3] + b[3]];\r\n\t  };\r\n\r\n\t  this.e = function (r, a, b) {\r\n\t    r[0] = a[0] - b[0];\r\n\t    r[1] = a[1] - b[1];\r\n\t  };\r\n\r\n\t  this.f = function (a, b) {\r\n\t    return [a[0] - b[0], a[1] - b[1]];\r\n\t  };\r\n\r\n\t  this.A = function (r, a, s) {\r\n\t    r[0] = a[0] - s;\r\n\t    r[1] = a[1] - s;\r\n\t  };\r\n\r\n\t  this.B = function (a, s) {\r\n\t    return [a[0] - s, a[1] - s];\r\n\t  };\r\n\r\n\t  this.nf = function (r, s, a) {\r\n\t    r[0] = s - a[0];\r\n\t    r[1] = s - a[1];\r\n\t  };\r\n\r\n\t  this.of = function (s, a) {\r\n\t    return [s - a[0], s - a[1]];\r\n\t  };\r\n\r\n\t  this.g = function (r, a, b) {\r\n\t    r[0] = a[0] - b[0];\r\n\t    r[1] = a[1] - b[1];\r\n\t    r[2] = a[2] - b[2];\r\n\t  };\r\n\r\n\t  this.h = function (a, b) {\r\n\t    return [a[0] - b[0], a[1] - b[1], a[2] - b[2]];\r\n\t  };\r\n\r\n\t  this.E = function (r, a, s) {\r\n\t    r[0] = a[0] - s;\r\n\t    r[1] = a[1] - s;\r\n\t    r[2] = a[2] - s;\r\n\t  };\r\n\r\n\t  this.F = function (a, s) {\r\n\t    return [a[0] - s, a[1] - s, a[2] - s];\r\n\t  };\r\n\r\n\t  this.rf = function (r, s, a) {\r\n\t    r[0] = s - a[0];\r\n\t    r[1] = s - a[1];\r\n\t    r[2] = s - a[2];\r\n\t  };\r\n\r\n\t  this.sf = function (s, a) {\r\n\t    return [s - a[0], s - a[1], s - a[2]];\r\n\t  };\r\n\r\n\t  this.i = function (r, a, b) {\r\n\t    r[0] = a[0] * b[0];\r\n\t    r[1] = a[1] * b[1];\r\n\t  };\r\n\r\n\t  this.j = function (a, b) {\r\n\t    return [a[0] * b[0], a[1] * b[1]];\r\n\t  };\r\n\r\n\t  this.k = function (r, a, b) {\r\n\t    r[0] = a[0] * b[0];\r\n\t    r[1] = a[1] * b[1];\r\n\t    r[2] = a[2] * b[2];\r\n\t  };\r\n\r\n\t  this.l = function (a, b) {\r\n\t    return [a[0] * b[0], a[1] * b[1], a[2] * b[2]];\r\n\t  };\r\n\r\n\t  this.m = function (r, a, b) {\r\n\t    r[0] = a[0] / b[0];\r\n\t    r[1] = a[1] / b[1];\r\n\t  };\r\n\r\n\t  this.n = function (a, b) {\r\n\t    return [a[0] / b[0], a[1] / b[1]];\r\n\t  };\r\n\r\n\t  this.o = function (r, a, b) {\r\n\t    r[0] = a[0] / b[0];\r\n\t    r[1] = a[1] / b[1];\r\n\t    r[2] = a[2] / b[2];\r\n\t  };\r\n\r\n\t  this.p = function (a, b) {\r\n\t    return [a[0] / b[0], a[1] / b[1], a[2] / b[2]];\r\n\t  };\r\n\r\n\t  this.H = function (a, b) {\r\n\t    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n\t  };\r\n\r\n\t  this.dotq_ = function (a, b) {\r\n\t    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\r\n\t  };\r\n\r\n\t  this.q = function (r, a, s) {\r\n\t    r[0] = a[0] * s;\r\n\t    r[1] = a[1] * s;\r\n\t  };\r\n\r\n\t  this.r = function (a, s) {\r\n\t    return [a[0] * s, a[1] * s];\r\n\t  };\r\n\r\n\t  this.s = function (r, a, s) {\r\n\t    r[0] = a[0] / s;\r\n\t    r[1] = a[1] / s;\r\n\t  };\r\n\r\n\t  this.t = function (a, s) {\r\n\t    return [a[0] / s, a[1] / s];\r\n\t  };\r\n\r\n\t  this.u = function (r, a, s) {\r\n\t    r[0] = a[0] * s;\r\n\t    r[1] = a[1] * s;\r\n\t    r[2] = a[2] * s;\r\n\t  };\r\n\r\n\t  this.v = function (a, s) {\r\n\t    return [a[0] * s, a[1] * s, a[2] * s];\r\n\t  };\r\n\r\n\t  this.w = function (r, a, s) {\r\n\t    r[0] = a[0] / s;\r\n\t    r[1] = a[1] / s;\r\n\t    r[2] = a[2] / s;\r\n\t  };\r\n\r\n\t  this.x = function (a, s) {\r\n\t    return [a[0] / s, a[1] / s, a[2] / s];\r\n\t  };\r\n\r\n\t  this.y = function (r, a, s) {\r\n\t    r[0] = a[0] + s;\r\n\t    r[1] = a[1] + s;\r\n\t  };\r\n\r\n\t  this.z = function (a, s) {\r\n\t    return [a[0] + s, a[1] + s];\r\n\t  };\r\n\r\n\t  this.A = function (r, a, s) {\r\n\t    r[0] = a[0] - s;\r\n\t    r[1] = a[1] - s;\r\n\t  };\r\n\r\n\t  this.B = function (a, s) {\r\n\t    return [a[0] - s, a[1] - s];\r\n\t  };\r\n\r\n\t  this.G = function (a, b) {\r\n\t    return a[0] * b[0] + a[1] * b[1];\r\n\t  };\r\n\r\n\t  this.H = function (a, b) {\r\n\t    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n\t  };\r\n\r\n\t  this.I = function (r, a, b) {\r\n\t    var ax = a[0],ay = a[1],az = a[2];\r\n\t    var bx = b[0],by = b[1],bz = b[2];\r\n\r\n\t    r[0] = ay * bz - az * by;\r\n\t    r[1] = az * bx - ax * bz;\r\n\t    r[2] = ax * by - ay * bx;\r\n\t  };\r\n\r\n\t  this.J = function (a, b) {\r\n\t    var ax = a[0],ay = a[1],az = a[2];\r\n\t    var bx = b[0],by = b[1],bz = b[2];\r\n\r\n\t    return [ay * bz - az * by,\r\n\t    az * bx - ax * bz,\r\n\t    ax * by - ay * bx];\r\n\t  };\r\n\r\n\t  this.K = function (a) {\r\n\t    return Math.sqrt(a[0] * a[0] + a[1] * a[1]);\r\n\t  };\r\n\r\n\t  this.L = function (a) {\r\n\t    return a[0] * a[0] + a[1] * a[1];\r\n\t  };\r\n\r\n\t  this.M = function (r, a) {\r\n\t    ctx.q(r, a, 1.0 / ctx.K(a));\r\n\t  };\r\n\r\n\t  this.N = function (a) {\r\n\t    return ctx.r(a, 1.0 / ctx.K(a));\r\n\t  };\r\n\r\n\t  this.O = function (a) {\r\n\t    return Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2]);\r\n\t  };\r\n\r\n\t  this.P = function (a) {\r\n\t    return a[0] * a[0] + a[1] * a[1] + a[2] * a[2];\r\n\t  };\r\n\r\n\t  this.Q = function (r, a) {\r\n\t    ctx.u(r, a, 1.0 / ctx.O(a));\r\n\t  };\r\n\r\n\t  this.R = function (a) {\r\n\t    return ctx.v(a, 1.0 / ctx.O(a));\r\n\t  };\r\n\r\n\t  this.S = function (r, a) {\r\n\t    r[0] = a[0];\r\n\t    r[1] = a[1];\r\n\t  };\r\n\r\n\t  this.T = function (r, a) {\r\n\t    r[0] = a[0];\r\n\t    r[1] = a[1];\r\n\t    r[2] = a[2];\r\n\t  };\r\n\r\n\t  this.U = function (r, a) {\r\n\t    r[0] = a[0];\r\n\t    r[1] = a[1];\r\n\t    r[2] = a[2];\r\n\t    r[3] = a[3];\r\n\t  };\r\n\r\n\t  this.V = function (r, x, y) {\r\n\t    r[0] = x;\r\n\t    r[1] = y;\r\n\t  };\r\n\r\n\t  this.W = function (r, x, y, z) {\r\n\t    r[0] = x;\r\n\t    r[1] = y;\r\n\t    r[2] = z;\r\n\t  };\r\n\r\n\t  this.X = function (a, b, i) {\r\n\t    return a + (b - a) * i;\r\n\t  };\r\n\r\n\t  this.Y = function (r, a, b, i) {\r\n\t    r[0] = a[0] + (b[0] - a[0]) * i;\r\n\t    r[1] = a[1] + (b[1] - a[1]) * i;\r\n\t  };\r\n\r\n\t  this.Z = function (a, b, i) {\r\n\t    return [a[0] + (b[0] - a[0]) * i,\r\n\t    a[1] + (b[1] - a[1]) * i];\r\n\t  };\r\n\r\n\t  this.ab = function (r, a, b, i) {\r\n\t    r[0] = a[0] + (b[0] - a[0]) * i;\r\n\t    r[1] = a[1] + (b[1] - a[1]) * i;\r\n\t    r[2] = a[2] + (b[2] - a[2]) * i;\r\n\t  };\r\n\r\n\t  this.bb = function (a, b, i) {\r\n\t    return [a[0] + (b[0] - a[0]) * i,\r\n\t    a[1] + (b[1] - a[1]) * i,\r\n\t    a[2] + (b[2] - a[2]) * i];\r\n\t  };\r\n\r\n\t  this.slerpq = function (r, x, y, a) {\r\n\t    var cosTheta = ctx.dotq_(x, y);\r\n\r\n\t    var z = [];\r\n\r\n\t    if (cosTheta < 0) {\r\n\t      ctx.negq(z, y);\r\n\t      cosTheta = -cosTheta;\r\n\t    } else\r\n\t    {\r\n\t      ctx.U(z, y);\r\n\t    }\r\n\r\n\t    if (1.0 - cosTheta < Number.EPSILON) {\r\n\t      r[0] = ctx.X(x[0], y[0], a);\r\n\t      r[1] = ctx.X(x[1], y[1], a);\r\n\t      r[2] = ctx.X(x[2], y[2], a);\r\n\t      r[3] = ctx.X(x[3], y[3], a);\r\n\t    } else\r\n\t    {\r\n\t      var Md = ctx.acos_(cosTheta);\r\n\r\n\t      ctx.mulqscalar(r, ctx.addq_(ctx.mulqscalar_(x, ctx.sin_((1.0 - a) * Md)), ctx.mulqscalar_(z, ctx.sin_(a * Md))),\r\n\t      1.0 / ctx.sin_(Md));\r\n\t    }\r\n\t  };\r\n\r\n\t  this.slerpq_ = function (x, y, a) {\r\n\t    var r = [];\r\n\t    slerpq(r, x, y, a);\r\n\t    return r;\r\n\t  };\r\n\r\n\t  //trigonometry\r\n\r\n\t  this.acos_ = function (a) {\r\n\t    return Math.acos(a);\r\n\t  };\r\n\r\n\t  this.sin_ = function (a) {\r\n\t    return Math.sin(a);\r\n\t  };\r\n\r\n\t  this.cos_ = function (a) {\r\n\t    return Math.cos(a);\r\n\t  };\r\n\r\n\t  // random\r\n\r\n\t  this.taus88 = function (seed)\r\n\t  {\r\n\t    if (!seed)\r\n\t    seed = 0;\r\n\r\n\t    var value0, value1, value2;\r\n\r\n\t    this.seed = function (s0) {\r\n\t      s0 &= 0xFFFFFFFF;\r\n\r\n\t      value0 = s0 < 2 ? s0 + 2 : s0;\r\n\t      value1 = s0 < 8 ? s0 + 8 : s0;\r\n\t      value2 = s0 < 16 ? s0 + 16 : s0;\r\n\t    };\r\n\r\n\t    this.rand = function () {\r\n\t      var b = ((value0 << 13 ^ value0) & 0xFFFFFFFF) >>> 19;\r\n\t      value0 = ((value0 & 0xFFFFFFFE) << 12 ^ b) >>> 0;\r\n\r\n\t      b = ((value1 << 2 ^ value1) & 0xFFFFFFFF) >>> 25;\r\n\t      value1 = ((value1 & 0xFFFFFFF8) << 4 ^ b) >>> 0;\r\n\r\n\t      b = ((value2 << 3 ^ value2) & 0xFFFFFFFF) >>> 11;\r\n\t      value2 = ((value2 & 0xFFFFFFF0) << 17 ^ b) >>> 0;\r\n\r\n\t      var engine = (value0 ^ value1 ^ value2) >>> 0;\r\n\t      return engine / 4294967296.0;\r\n\t    };\r\n\r\n\t    this.seed(seed);\r\n\t  };\r\n\r\n\t  this.cb = function (r, radius) {\r\n\t    this.randv2gen(r, radius, function () {return Math.random();});\r\n\t  };\r\n\r\n\t  this.randv2gen = function (r, radius, gen) {\r\n\t    var Md = gen() * Math.PI * 2.0;\r\n\t    r[0] = radius * ctx.cos_(Md);\r\n\t    r[1] = radius * ctx.sin_(Md);\r\n\t  };\r\n\r\n\t  this.db = function (r, radius) {\r\n\t    this.randv3gen(r, radius, function () {return Math.random();});\r\n\t  };\r\n\r\n\t  this.randv3gen = function (r, radius, gen) {\r\n\t    var theta = gen() * Math.PI * 2.0;\r\n\t    var z = -1.0 + gen() * 2.0;\r\n\t    var sqrtInvZ2 = radius * Math.sqrt(1.0 - z * z);\r\n\t    r[0] = sqrtInvZ2 * ctx.cos_(theta);\r\n\t    r[1] = sqrtInvZ2 * ctx.sin_(theta);\r\n\t    r[2] = radius * z;\r\n\t  };\r\n\r\n\t  this.yb = function (r, x, y, Nd, gen) {\r\n\t    var dispx = x + gen() * Nd[0];\r\n\t    var dispy = y + gen() * Nd[1];\r\n\t    ctx.V(r, dispx, dispy);\r\n\t  };\r\n\r\n\t  this.eb = function (r, a) {\r\n\t    ctx.V(-a[0], -a[1]);\r\n\t  };\r\n\r\n\t  this.fb = function (a) {\r\n\t    return [-a[0], -a[1]];\r\n\t  };\r\n\r\n\t  this.gb = function (r, a) {\r\n\t    ctx.W(-a[0], -a[1], -a[2]);\r\n\t  };\r\n\r\n\t  this.hb = function (a) {\r\n\t    return [-a[0], -a[1], -a[2]];\r\n\t  };\r\n\r\n\t  this.negq = function (r, a) {\r\n\t    r[0] = -a[0];\r\n\t    r[1] = -a[1];\r\n\t    r[2] = -a[2];\r\n\t    r[3] = -a[3];\r\n\t  };\r\n\r\n\t  this.negq_ = function (a) {\r\n\t    return [-a[0], -a[1], -a[2], -a[3]];\r\n\t  };\r\n\r\n\t  this.ib = function (degrees) {\r\n\t    return degrees / 180.0 * Math.PI;\r\n\t  };\r\n\r\n\t  this.jb = function (radians) {\r\n\t    return radians / Math.PI * 180.0;\r\n\t  };\r\n\r\n\t  this.Ae = function (value) {\r\n\t    return value < 0 ? -1 : 1;\r\n\t  };\r\n\r\n\t  this.ob = function (x, y, z, q) {\r\n\t    var x2 = 2.0 * q[0] * q[0];\r\n\t    var y2 = 2.0 * q[1] * q[1];\r\n\t    var z2 = 2.0 * q[2] * q[2];\r\n\t    var xy = 2.0 * q[0] * q[1];\r\n\t    var xz = 2.0 * q[0] * q[2];\r\n\t    var yz = 2.0 * q[1] * q[2];\r\n\t    var wz = 2.0 * q[3] * q[2];\r\n\t    var wy = 2.0 * q[3] * q[1];\r\n\t    var wx = 2.0 * q[3] * q[0];\r\n\r\n\t    x[0] = 1.0 - y2 - z2;\r\n\t    x[1] = xy + wz;\r\n\t    x[2] = xz - wy;\r\n\r\n\t    y[0] = xy - wz;\r\n\t    y[1] = 1.0 - x2 - z2;\r\n\t    y[2] = yz + wx;\r\n\r\n\t    z[0] = xz + wy;\r\n\t    z[1] = yz - wx;\r\n\t    z[2] = 1.0 - x2 - y2;\r\n\t  };\r\n\r\n\t  this.pb = function (q, x, y, z) {\r\n\t    var tr = x[0] + y[1] + z[2];\r\n\r\n\t    if (tr > 0) {\r\n\t      var S = Math.sqrt(tr + 1.0) * 2;\r\n\t      q[3] = 0.25 * S;\r\n\t      q[0] = (y[2] - z[1]) / S;\r\n\t      q[1] = (z[0] - x[2]) / S;\r\n\t      q[2] = (x[1] - y[0]) / S;\r\n\t    } else if (x[0] > y[1] & x[0] > z[2]) {\r\n\t      var S = Math.sqrt(1.0 + x[0] - y[1] - z[2]) * 2;\r\n\t      q[3] = (y[2] - z[1]) / S;\r\n\t      q[0] = 0.25 * S;\r\n\t      q[1] = (x[1] + y[0]) / S;\r\n\t      q[2] = (z[0] + x[2]) / S;\r\n\t    } else if (y[1] > z[2]) {\r\n\t      var S = Math.sqrt(1.0 + y[1] - x[0] - z[2]) * 2;\r\n\t      q[3] = (z[0] - x[2]) / S;\r\n\t      q[0] = (x[1] + y[0]) / S;\r\n\t      q[1] = 0.25 * S;\r\n\t      q[2] = (y[2] + z[1]) / S;\r\n\t    } else {\r\n\t      var S = Math.sqrt(1.0 + z[2] - x[0] - y[1]) * 2;\r\n\t      q[3] = (x[1] - y[0]) / S;\r\n\t      q[0] = (z[0] + x[2]) / S;\r\n\t      q[1] = (y[2] + z[1]) / S;\r\n\t      q[2] = 0.25 * S;\r\n\t    }\r\n\t  };\r\n\r\n\t  this. /**/axes2quat = this.pb;\r\n\r\n\t  this.qb = function (q, x, a) {\r\n\t    var ha = ctx.ib(a) * 0.5,s = Math.sin(ha);\r\n\t    q[0] = x[0] * s;\r\n\t    q[1] = x[1] * s;\r\n\t    q[2] = x[2] * s;\r\n\t    q[3] = Math.cos(ha);\r\n\t  };\r\n\r\n\t  this. /**/axisangle2quat = this.qb;\r\n\r\n\t  this.axisangle2quat_ = function (x, a) {\r\n\t    var ha = ctx.ib(a) * 0.5,s = Math.sin(ha);\r\n\t    return [x[0] * s, x[1] * s, x[2] * s, ctx.cos_(ha)];\r\n\t  };\r\n\r\n\t  this. /**/axisangle2quat_ = this.axisangle2quat_;\r\n\r\n\t  this.rb = function (r, v, q) {\r\n\t    var x = v[0];\r\n\t    var y = v[1];\r\n\t    var z = v[2];\r\n\r\n\t    var qx = q[0];\r\n\t    var qy = q[1];\r\n\t    var qz = q[2];\r\n\t    var qw = q[3];\r\n\r\n\t    var ix = qw * x + qy * z - qz * y;\r\n\t    var iy = qw * y + qz * x - qx * z;\r\n\t    var iz = qw * z + qx * y - qy * x;\r\n\t    var iw = -qx * x - qy * y - qz * z;\r\n\r\n\t    r[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\r\n\t    r[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\r\n\t    r[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\r\n\t  };\r\n\r\n\t  this.sb = function (r, a, b) {\r\n\t    var qax = a[0],qay = a[1],qaz = a[2],qaw = a[3];\r\n\t    var qbx = b[0],qby = b[1],qbz = b[2],qbw = b[3];\r\n\r\n\t    r[0] = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\r\n\t    r[1] = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\r\n\t    r[2] = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\r\n\t    r[3] = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\r\n\t  };\r\n\r\n\t  this.mulqscalar = function (r, a, s) {\r\n\t    r[0] = a[0] * s;\r\n\t    r[1] = a[1] * s;\r\n\t    r[2] = a[2] * s;\r\n\t    r[3] = a[3] * s;\r\n\t  };\r\n\r\n\t  this.mulqscalar_ = function (a, s) {\r\n\t    return [a[0] * s, a[1] * s, a[2] * s, a[3] * s];\r\n\t  };\r\n\r\n\t  this.tb = function (r, Hf, degree, scale, v) {\r\n\t    var rad = ctx.ib(degree);\r\n\t    var cos = Math.cos(rad) * scale;\r\n\t    var sin = Math.sin(rad) * scale;\r\n\t    r[0] = Hf[0] + cos * v[0] - sin * v[1];\r\n\t    r[1] = Hf[1] + sin * v[0] + cos * v[1];\r\n\t  };\r\n\r\n\t  this.ub = function (r, Hf, degree, scale, v) {\r\n\t    var rad = ctx.ib(degree);\r\n\t    var cos = Math.cos(rad) / scale;\r\n\t    var sin = Math.sin(rad) / scale;\r\n\r\n\t    r[0] = cos * v[0] + sin * v[1] - Hf[0] * cos - Hf[1] * sin;\r\n\t    r[1] = cos * v[1] - sin * v[0] + Hf[0] * sin - Hf[1] * cos;\r\n\t  };\r\n\r\n\t  this.vb = function (val) {\r\n\t    if (val < 0)\r\n\t    return Math.floor(ctx.yd - 1 + val % ctx.yd);else\r\n\r\n\t    return Math.floor(val % ctx.yd);\r\n\t  };\r\n\r\n\t  function colorCompToHex_(c) {\r\n\t    return c < 16 ? \"0\" + c.toString(16) : c.toString(16);\r\n\t  }\r\n\r\n\t  this.ff = function (rgb) {\r\n\t    return \"#\" +\r\n\t    colorCompToHex_(Math.floor(rgb[0] * 255)) +\r\n\t    colorCompToHex_(Math.floor(rgb[1] * 255)) +\r\n\t    colorCompToHex_(Math.floor(rgb[2] * 255));\r\n\t  };\r\n\r\n\t  this.tf = function (vf, xf, yf, a, b, zf) {\r\n\t    var ca = ctx.f(a, vf);\r\n\t    var cb = ctx.f(b, vf);\r\n\r\n\t    var wf = ctx.r(xf, yf);\r\n\r\n\t    if (ca[0] < -wf[0] && cb[0] < -wf[0] ||\r\n\t    ca[0] > wf[0] && cb[0] > wf[0] ||\r\n\t    ca[1] < -wf[1] && cb[1] < -wf[1] ||\r\n\t    ca[1] > wf[1] && cb[1] > wf[1])\r\n\t    {\r\n\t      return false;\r\n\t    }\r\n\r\n\t    if (ca[0] <= wf[0] && ca[0] >= -wf[0] && ca[1] <= wf[1] && ca[1] >= -wf[1])\r\n\t    return true;\r\n\r\n\t    if (zf < 0.000001)\r\n\t    return false;\r\n\r\n\t    if (cb[0] <= wf[0] && cb[0] >= -wf[0] && cb[1] <= wf[1] && cb[1] >= -wf[1])\r\n\t    return true;\r\n\r\n\t    var Af = ctx.f(b, a);ctx.s(Af, Af, zf);\r\n\t    var Bf = [-Af[1], Af[0]];\r\n\t    var Cf = Math.abs(ctx.G(Bf, cb));\r\n\r\n\t    if (Math.abs(ctx.G(Bf, wf)) >= Cf) {\r\n\t      var Df = [-xf[1], xf[0]];\r\n\t      if (ctx.G(Df, ca) * ctx.G(Df, cb) <= 0.0) {\r\n\t        return true;\r\n\t      }\r\n\t    } else if (Math.abs(ctx.G(Bf, [wf[0], -wf[1]])) >= Cf) {\r\n\t      var _Df = [xf[1], xf[0]];\r\n\t      if (ctx.G(_Df, ca) * ctx.G(_Df, cb) <= 0.0) {\r\n\t        return true;\r\n\t      }\r\n\t    }\r\n\r\n\t    return false;\r\n\t  };\r\n\r\n\t  this.uf = function (vf, xf, yf, a, b, zf, Ef) {\r\n\t    var ca = ctx.f(a, vf);\r\n\t    var cb = ctx.f(b, vf);\r\n\r\n\t    var wf = ctx.r(xf, yf);\r\n\r\n\t    if (zf < 0.000001)\r\n\t    return false;\r\n\r\n\t    if (ca[0] < -wf[0] && cb[0] < -wf[0] ||\r\n\t    ca[0] > wf[0] && cb[0] > wf[0] ||\r\n\t    ca[1] < -wf[1] && cb[1] < -wf[1] ||\r\n\t    ca[1] > wf[1] && cb[1] > wf[1])\r\n\t    {\r\n\t      return false;\r\n\t    }\r\n\r\n\t    var Af = ctx.f(b, a);ctx.s(Af, Af, zf);\r\n\t    var Bf = [-Af[1], Af[0]];\r\n\t    var Cf = Math.abs(ctx.G(Bf, cb));\r\n\r\n\t    if (Ef) {\r\n\t      if (Math.abs(ctx.G(Bf, wf)) >= Cf) {\r\n\t        var Df = [-xf[1], xf[0]];\r\n\t        if (ctx.G(Df, ca) * ctx.G(Df, cb) <= 0.0) {\r\n\t          return true;\r\n\t        }\r\n\t      }\r\n\t    } else {\r\n\t      if (Math.abs(ctx.G(Bf, [wf[0], -wf[1]])) >= Cf) {\r\n\t        var _Df2 = [xf[1], xf[0]];\r\n\t        if (ctx.G(_Df2, ca) * ctx.G(_Df2, cb) <= 0.0) {\r\n\t          return true;\r\n\t        }\r\n\t      }\r\n\t    }\r\n\r\n\t    return false;\r\n\t  };\r\n\r\n\t  this.wb = function (r, x, y, z) {\r\n\t    var rgbDisp = 3 * (y * ctx.yd + x);\r\n\t    var view = ctx.zd[z];\r\n\r\n\t    r[0] = view.getUint8(rgbDisp);\r\n\t    r[1] = view.getUint8(rgbDisp + 1);\r\n\t    r[2] = view.getUint8(rgbDisp + 2);\r\n\t  };\r\n\r\n\t  this.xb = function (r, Hf) {\r\n\t    if (ctx.zd == null) {\r\n\t      ctx.W(r, 128, 128, 128);\r\n\t      return;\r\n\t    }\r\n\r\n\t    var scaledPosX = Hf[0] * ctx.yd;\r\n\t    var scaledPosY = Hf[1] * ctx.yd;\r\n\t    var scaledPosZ = Hf[2] * ctx.yd;\r\n\r\n\t    var floorX = Math.floor(scaledPosX);\r\n\t    var floorY = Math.floor(scaledPosY);\r\n\t    var floorZ = Math.floor(scaledPosZ);\r\n\r\n\t    var fracX = scaledPosX - floorX;\r\n\t    var fracY = scaledPosY - floorY;\r\n\t    var fracZ = scaledPosZ - floorZ;\r\n\r\n\t    var noiseX = ctx.vb(floorX);\r\n\t    var noiseX1 = ctx.vb(floorX + 1);\r\n\t    var noiseY = ctx.vb(floorY);\r\n\t    var noiseY1 = ctx.vb(floorY + 1);\r\n\t    var noiseZ = ctx.vb(floorZ);\r\n\t    var noiseZ1 = ctx.vb(floorZ + 1);\r\n\r\n\t    var value000 = [],value001 = [],value010 = [],value011 = [],\r\n\t    value100 = [],value101 = [],value110 = [],value111 = [];\r\n\r\n\t    ctx.wb(value000, noiseX, noiseY, noiseZ);\r\n\t    ctx.wb(value001, noiseX, noiseY, noiseZ1);\r\n\t    ctx.wb(value010, noiseX, noiseY1, noiseZ);\r\n\t    ctx.wb(value011, noiseX, noiseY1, noiseZ1);\r\n\t    ctx.wb(value100, noiseX1, noiseY, noiseZ);\r\n\t    ctx.wb(value101, noiseX1, noiseY, noiseZ1);\r\n\t    ctx.wb(value110, noiseX1, noiseY1, noiseZ);\r\n\t    ctx.wb(value111, noiseX1, noiseY1, noiseZ1);\r\n\r\n\t    var value00 = [],value01 = [],value10 = [],value11 = [];\r\n\t    ctx.ab(value00, value000, value001, fracZ);\r\n\t    ctx.ab(value01, value010, value011, fracZ);\r\n\t    ctx.ab(value10, value100, value101, fracZ);\r\n\t    ctx.ab(value11, value110, value111, fracZ);\r\n\r\n\t    var value0 = [],value1 = [];\r\n\t    ctx.ab(value0, value00, value01, fracY);\r\n\t    ctx.ab(value1, value10, value11, fracY);\r\n\r\n\t    ctx.ab(r, value0, value1, fracX);\r\n\t  };\r\n\r\n\t  this.ImageDesc = function (image, x, y, width, height) {\r\n\t    this.image = image;\r\n\t    this.x = x;\r\n\t    this.y = y;\r\n\t    this.width = width;\r\n\t    this.height = height;\r\n\t  };\r\n\r\n\t  this.RenderCall = function (startIndex, numIndices, renderStyleIndex) {\r\n\t    this.startIndex = startIndex;\r\n\t    this.numIndices = numIndices;\r\n\t    this.renderStyleIndex = renderStyleIndex;\r\n\t  };\r\n\r\n\t  this.SubRect = function (x, y, width, height) {\r\n\t    this.x = x;\r\n\t    this.y = y;\r\n\t    this.width = width;\r\n\t    this.height = height;\r\n\t  };\r\n\r\n\t  this.Camera2D = function () {\r\n\t  };\r\n\r\n\t  this.Camera2D.prototype.tb = function (Hf, Nd) {\r\n\t    return true;\r\n\t  };\r\n\r\n\t  this.Camera3D = function ( /**/screenSize, /**/horizAngle) {\r\n\t    this.Qd = ctx.r( /**/screenSize, 0.5);\r\n\t    this.z = -( /**/screenSize[0] * 0.5) / Math.tan(ctx.ib( /**/horizAngle * 0.5));\r\n\t  };\r\n\r\n\t  this.Camera3D.prototype. /**/transform = function ( /**/pos, /**/size) {\r\n\t    if ( /**/pos[2] < this.z)\r\n\t    return false;\r\n\r\n\t    var scale = -this.z / ( /**/pos[2] - this.z);\r\n\t    ctx.a( /**/pos, ctx.r(ctx.f( /**/pos, this.Qd), scale), this.Qd);\r\n\t    ctx.q( /**/size, /**/size, scale);\r\n\r\n\t    return true;\r\n\t  };\r\n\r\n\t  this.zd = null;\r\n\t  this.yd = 0;\r\n\r\n\t  this.initializeNoise = function (path, onloadcallback, onfailcallback) {\r\n\r\n\t    if (!path) {\r\n\t      alert(\"path should be defined\");\r\n\t    }\r\n\r\n\t    if (this.zd != null) {\r\n\t      onloadcallback();\r\n\t      return;\r\n\t    }\r\n\r\n\t    if (path == null || path == undefined)\r\n\t    path = this.defaultPath;\r\n\r\n\t    var request = new XMLHttpRequest();\r\n\t    request.open(\"GET\", path + \"neutrinoparticles.noise.bin\", true);\r\n\t    request.responseType = \"arraybuffer\";\r\n\t    request.ctx = this;\r\n\t    request.onreadystatechange = function () {\r\n\t      if (request.readyState == 4) {\r\n\t        if (request.status >= 200 && request.status < 300 || request.status == 304) {\r\n\t          var zd = request.response;\r\n\t          var ctx = request.ctx;\r\n\r\n\t          var view = new DataView(zd, 0, 4);\r\n\t          var planeSize = view.getUint32(0, true);\r\n\r\n\t          ctx.zd = [];\r\n\t          ctx.yd = planeSize;\r\n\r\n\t          for (var planeIndex = 0; planeIndex < planeSize; ++planeIndex) {\r\n\t            ctx.zd[planeIndex] = new DataView(zd,\r\n\t            4 /*Nd*/ + 3 * planeSize * planeSize * planeIndex);\r\n\t          }\r\n\r\n\t          if (onloadcallback)\r\n\t          onloadcallback();\r\n\t        } else {\r\n\t          if (onfailcallback)\r\n\t          onfailcallback();\r\n\t        }\r\n\t      }\r\n\t    };\r\n\r\n\t    request.send();\r\n\t  };\r\n\r\n\t  this.NoiseGenerator = function () {\r\n\r\n\t    var catmullRom_ = function catmullRom_(p0, p1, p2, p3, t) {\r\n\t      return 0.5 * (2.0 * p1 + (-p0 + p2) * t + (2.0 * p0 - 5.0 * p1 + 4.0 * p2 - p3) * t * t +\r\n\t      (-p0 + 3.0 * p1 - 3.0 * p2 + p3) * (t * t * t));\r\n\t    };\r\n\r\n\t    var catmullRomv3_ = function catmullRomv3_(p0, p1, p2, p3, t) {\r\n\t      return [\r\n\t      catmullRom_(p0[0], p1[0], p2[0], p3[0], t),\r\n\t      catmullRom_(p0[1], p1[1], p2[1], p3[1], t),\r\n\t      catmullRom_(p0[2], p1[2], p2[2], p3[2], t)];\r\n\r\n\t    };\r\n\r\n\t    var clamp_ = function clamp_(a, from, to) {\r\n\t      return a < from ? from : a > to ? to : a;\r\n\t    };\r\n\r\n\t    var imageSize = 64;\r\n\t    var image = [];\r\n\t    var tempBuffer = [];\r\n\t    var tausGenerator = new ctx.taus88(120); // 120 - hardcoded starting seed\r\n\t    var rand = function rand() {return tausGenerator.rand();};\r\n\t    var amp = 0.7; // hardcoded amplitude of perlin zd\r\n\t    var fadeDegree = 1.2; // hardcoded fade degree of each octave\r\n\t    var prevStep = imageSize;\r\n\r\n\t    var step, Nd, octSize, octSize2, octMaskSize, octPixels, octZ, octY; // mix step variables\r\n\r\n\t    var numMixStepIterations = 0;\r\n\t    var mixStepIteration = 0;\r\n\r\n\t    for (var i = prevStep >>> 1; i > 0; i >>>= 1) {\r\n\t      var _octSize = Math.floor(imageSize / i);\r\n\t      numMixStepIterations += _octSize * _octSize;\r\n\t    }\r\n\r\n\t    var States = {\r\n\t      INITIAL_FILL: 0,\r\n\t      MIX_STEP_INIT: 1,\r\n\t      MIX_STEP_PROCESS: 2,\r\n\t      SCALING: 3,\r\n\t      DATA_VIEWS: 4,\r\n\t      FINISHED: 5 };\r\n\r\n\r\n\t    var Progress = {\r\n\t      INIT: 0.01,\r\n\t      MIX: 0.9,\r\n\t      SCALING: 0.95,\r\n\t      DATA_VIEWS: 1.0 };\r\n\r\n\r\n\t    var state = States.INITIAL_FILL;\r\n\r\n\t    this.progress = 0.0;\r\n\r\n\t    var initialFill = function initialFill() {\r\n\t      for (var z = 0; z < imageSize; ++z) {\r\n\t        var imageZ = image[z] = [];\r\n\r\n\t        for (var y = 0; y < imageSize; ++y) {\r\n\t          var imageZY = imageZ[y] = [];\r\n\r\n\t          for (var x = 0; x < imageSize; ++x) {\r\n\t            var imageZYX = imageZY[x] = [0.0, 0.0, 0.0];\r\n\t          }\r\n\t        }\r\n\t      }\r\n\r\n\t      state = States.MIX_STEP_INIT;\r\n\t      this.progress = Progress.INIT;\r\n\t    };\r\n\r\n\t    var mixStepInit = function mixStepInit() {\r\n\r\n\t      step = prevStep >>> 1;\r\n\t      Nd = imageSize;\r\n\t      octSize = Math.floor(Nd / step);\r\n\t      octSize2 = octSize * octSize;\r\n\t      octMaskSize = Math.max(octSize - 1, 1);\r\n\t      octPixels = octSize * octSize * octSize;\r\n\t      octZ = 0;\r\n\t      octY = 0;\r\n\r\n\t      for (var i = 0; i < octPixels; ++i) {\r\n\t        tempBuffer[i] = [];\r\n\t        // order is inverted to satisfy c++ obsolete order\r\n\t        tempBuffer[i][2] = rand() * 2.0 - 1.0;\r\n\t        tempBuffer[i][1] = rand() * 2.0 - 1.0;\r\n\t        tempBuffer[i][0] = rand() * 2.0 - 1.0;\r\n\t      }\r\n\r\n\t      state = States.MIX_STEP_PROCESS;\r\n\t    };\r\n\r\n\t    var mixStepProcess = function mixStepProcess() {\r\n\t      for (var octX = 0; octX < octSize; ++octX) {\r\n\t        var octZ0 = octZ - 1 >>> 0 & octMaskSize;\r\n\t        var octZ1 = octZ >>> 0 & octMaskSize;\r\n\t        var octZ2 = octZ + 1 >>> 0 & octMaskSize;\r\n\t        var octZ3 = octZ + 2 >>> 0 & octMaskSize;\r\n\r\n\t        var octY0 = octY - 1 >>> 0 & octMaskSize;\r\n\t        var octY1 = octY >>> 0 & octMaskSize;\r\n\t        var octY2 = octY + 1 >>> 0 & octMaskSize;\r\n\t        var octY3 = octY + 2 >>> 0 & octMaskSize;\r\n\r\n\t        var octX0 = octX - 1 >>> 0 & octMaskSize;\r\n\t        var octX1 = octX >>> 0 & octMaskSize;\r\n\t        var octX2 = octX + 1 >>> 0 & octMaskSize;\r\n\t        var octX3 = octX + 2 >>> 0 & octMaskSize;\r\n\r\n\t        var values = //zyx\r\n\t        [\r\n\t        [\r\n\t        [\r\n\t        tempBuffer[octZ0 * octSize2 + octY0 * octSize + octX0],\r\n\t        tempBuffer[octZ0 * octSize2 + octY0 * octSize + octX1],\r\n\t        tempBuffer[octZ0 * octSize2 + octY0 * octSize + octX2],\r\n\t        tempBuffer[octZ0 * octSize2 + octY0 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ0 * octSize2 + octY1 * octSize + octX0],\r\n\t        tempBuffer[octZ0 * octSize2 + octY1 * octSize + octX1],\r\n\t        tempBuffer[octZ0 * octSize2 + octY1 * octSize + octX2],\r\n\t        tempBuffer[octZ0 * octSize2 + octY1 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ0 * octSize2 + octY2 * octSize + octX0],\r\n\t        tempBuffer[octZ0 * octSize2 + octY2 * octSize + octX1],\r\n\t        tempBuffer[octZ0 * octSize2 + octY2 * octSize + octX2],\r\n\t        tempBuffer[octZ0 * octSize2 + octY2 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ0 * octSize2 + octY3 * octSize + octX0],\r\n\t        tempBuffer[octZ0 * octSize2 + octY3 * octSize + octX1],\r\n\t        tempBuffer[octZ0 * octSize2 + octY3 * octSize + octX2],\r\n\t        tempBuffer[octZ0 * octSize2 + octY3 * octSize + octX3]]],\r\n\r\n\r\n\r\n\t        [\r\n\t        [\r\n\t        tempBuffer[octZ1 * octSize2 + octY0 * octSize + octX0],\r\n\t        tempBuffer[octZ1 * octSize2 + octY0 * octSize + octX1],\r\n\t        tempBuffer[octZ1 * octSize2 + octY0 * octSize + octX2],\r\n\t        tempBuffer[octZ1 * octSize2 + octY0 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ1 * octSize2 + octY1 * octSize + octX0],\r\n\t        tempBuffer[octZ1 * octSize2 + octY1 * octSize + octX1],\r\n\t        tempBuffer[octZ1 * octSize2 + octY1 * octSize + octX2],\r\n\t        tempBuffer[octZ1 * octSize2 + octY1 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ1 * octSize2 + octY2 * octSize + octX0],\r\n\t        tempBuffer[octZ1 * octSize2 + octY2 * octSize + octX1],\r\n\t        tempBuffer[octZ1 * octSize2 + octY2 * octSize + octX2],\r\n\t        tempBuffer[octZ1 * octSize2 + octY2 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ1 * octSize2 + octY3 * octSize + octX0],\r\n\t        tempBuffer[octZ1 * octSize2 + octY3 * octSize + octX1],\r\n\t        tempBuffer[octZ1 * octSize2 + octY3 * octSize + octX2],\r\n\t        tempBuffer[octZ1 * octSize2 + octY3 * octSize + octX3]]],\r\n\r\n\r\n\r\n\t        [\r\n\t        [\r\n\t        tempBuffer[octZ2 * octSize2 + octY0 * octSize + octX0],\r\n\t        tempBuffer[octZ2 * octSize2 + octY0 * octSize + octX1],\r\n\t        tempBuffer[octZ2 * octSize2 + octY0 * octSize + octX2],\r\n\t        tempBuffer[octZ2 * octSize2 + octY0 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ2 * octSize2 + octY1 * octSize + octX0],\r\n\t        tempBuffer[octZ2 * octSize2 + octY1 * octSize + octX1],\r\n\t        tempBuffer[octZ2 * octSize2 + octY1 * octSize + octX2],\r\n\t        tempBuffer[octZ2 * octSize2 + octY1 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ2 * octSize2 + octY2 * octSize + octX0],\r\n\t        tempBuffer[octZ2 * octSize2 + octY2 * octSize + octX1],\r\n\t        tempBuffer[octZ2 * octSize2 + octY2 * octSize + octX2],\r\n\t        tempBuffer[octZ2 * octSize2 + octY2 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ2 * octSize2 + octY3 * octSize + octX0],\r\n\t        tempBuffer[octZ2 * octSize2 + octY3 * octSize + octX1],\r\n\t        tempBuffer[octZ2 * octSize2 + octY3 * octSize + octX2],\r\n\t        tempBuffer[octZ2 * octSize2 + octY3 * octSize + octX3]]],\r\n\r\n\r\n\r\n\t        [\r\n\t        [\r\n\t        tempBuffer[octZ3 * octSize2 + octY0 * octSize + octX0],\r\n\t        tempBuffer[octZ3 * octSize2 + octY0 * octSize + octX1],\r\n\t        tempBuffer[octZ3 * octSize2 + octY0 * octSize + octX2],\r\n\t        tempBuffer[octZ3 * octSize2 + octY0 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ3 * octSize2 + octY1 * octSize + octX0],\r\n\t        tempBuffer[octZ3 * octSize2 + octY1 * octSize + octX1],\r\n\t        tempBuffer[octZ3 * octSize2 + octY1 * octSize + octX2],\r\n\t        tempBuffer[octZ3 * octSize2 + octY1 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ3 * octSize2 + octY2 * octSize + octX0],\r\n\t        tempBuffer[octZ3 * octSize2 + octY2 * octSize + octX1],\r\n\t        tempBuffer[octZ3 * octSize2 + octY2 * octSize + octX2],\r\n\t        tempBuffer[octZ3 * octSize2 + octY2 * octSize + octX3]],\r\n\r\n\t        [\r\n\t        tempBuffer[octZ3 * octSize2 + octY3 * octSize + octX0],\r\n\t        tempBuffer[octZ3 * octSize2 + octY3 * octSize + octX1],\r\n\t        tempBuffer[octZ3 * octSize2 + octY3 * octSize + octX2],\r\n\t        tempBuffer[octZ3 * octSize2 + octY3 * octSize + octX3]]]];\r\n\r\n\r\n\r\n\r\n\t        for (var inZ = 0; inZ < step; ++inZ) {\r\n\t          var interpZ = inZ / step;\r\n\t          var imageZ = octZ * step + inZ;\r\n\r\n\t          var valuesP = //yx\r\n\t          [\r\n\t          [\r\n\t          catmullRomv3_(values[0][0][0], values[1][0][0], values[2][0][0], values[3][0][0], interpZ),\r\n\t          catmullRomv3_(values[0][0][1], values[1][0][1], values[2][0][1], values[3][0][1], interpZ),\r\n\t          catmullRomv3_(values[0][0][2], values[1][0][2], values[2][0][2], values[3][0][2], interpZ),\r\n\t          catmullRomv3_(values[0][0][3], values[1][0][3], values[2][0][3], values[3][0][3], interpZ)],\r\n\r\n\t          [\r\n\t          catmullRomv3_(values[0][1][0], values[1][1][0], values[2][1][0], values[3][1][0], interpZ),\r\n\t          catmullRomv3_(values[0][1][1], values[1][1][1], values[2][1][1], values[3][1][1], interpZ),\r\n\t          catmullRomv3_(values[0][1][2], values[1][1][2], values[2][1][2], values[3][1][2], interpZ),\r\n\t          catmullRomv3_(values[0][1][3], values[1][1][3], values[2][1][3], values[3][1][3], interpZ)],\r\n\r\n\t          [\r\n\t          catmullRomv3_(values[0][2][0], values[1][2][0], values[2][2][0], values[3][2][0], interpZ),\r\n\t          catmullRomv3_(values[0][2][1], values[1][2][1], values[2][2][1], values[3][2][1], interpZ),\r\n\t          catmullRomv3_(values[0][2][2], values[1][2][2], values[2][2][2], values[3][2][2], interpZ),\r\n\t          catmullRomv3_(values[0][2][3], values[1][2][3], values[2][2][3], values[3][2][3], interpZ)],\r\n\r\n\t          [\r\n\t          catmullRomv3_(values[0][2][0], values[1][3][0], values[2][3][0], values[3][3][0], interpZ),\r\n\t          catmullRomv3_(values[0][2][1], values[1][3][1], values[2][3][1], values[3][3][1], interpZ),\r\n\t          catmullRomv3_(values[0][2][2], values[1][3][2], values[2][3][2], values[3][3][2], interpZ),\r\n\t          catmullRomv3_(values[0][2][3], values[1][3][3], values[2][3][3], values[3][3][3], interpZ)]];\r\n\r\n\r\n\r\n\t          for (var inY = 0; inY < step; ++inY) {\r\n\t            var interpY = inY / step;\r\n\t            var imageY = octY * step + inY;\r\n\r\n\t            var value0 = catmullRomv3_(valuesP[0][0], valuesP[1][0], valuesP[2][0],\r\n\t            valuesP[3][0], interpY);\r\n\t            var value1 = catmullRomv3_(valuesP[0][1], valuesP[1][1], valuesP[2][1],\r\n\t            valuesP[3][1], interpY);\r\n\t            var value2 = catmullRomv3_(valuesP[0][2], valuesP[1][2], valuesP[2][2],\r\n\t            valuesP[3][2], interpY);\r\n\t            var value3 = catmullRomv3_(valuesP[0][3], valuesP[1][3], valuesP[2][3],\r\n\t            valuesP[3][3], interpY);\r\n\r\n\t            for (var inX = 0; inX < step; ++inX) {\r\n\t              var interpX = inX / step;\r\n\t              var imageX = octX * step + inX;\r\n\r\n\t              var octResult = catmullRomv3_(value0, value1, value2, value3, interpX);\r\n\t              var result = ctx.d(ctx.v(octResult, amp), image[imageZ][imageY][imageX]);\r\n\t              var clampedResult = [\r\n\t              clamp_(result[0], -1.0, 1.0),\r\n\t              clamp_(result[1], -1.0, 1.0),\r\n\t              clamp_(result[2], -1.0, 1.0)];\r\n\r\n\r\n\t              image[imageZ][imageY][imageX] = clampedResult;\r\n\t            }\r\n\t          }\r\n\t        }\r\n\t      }\r\n\r\n\t      mixStepIteration++;\r\n\t      this.progress = Progress.INIT + (Progress.MIX - Progress.INIT) * (mixStepIteration / numMixStepIterations);\r\n\r\n\t      octY++;\r\n\t      if (octY >= octSize) {\r\n\t        octY = 0;\r\n\t        octZ++;\r\n\t        if (octZ >= octSize) {\r\n\t          octZ = 0;\r\n\r\n\t          prevStep = step;\r\n\t          amp = Math.pow(amp, fadeDegree);\r\n\r\n\t          if (prevStep <= 1) {\r\n\t            state = States.SCALING;\r\n\t            this.progress = Progress.MIX;\r\n\t          } else {\r\n\t            state = States.MIX_STEP_INIT;\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t    };\r\n\r\n\t    // hardcoded scaling of the image to make it more symethric\r\n\t    var scaling = function scaling() {\r\n\t      var low = [-1.0, -1.0, -1.0];\r\n\t      var high = [0.5, 0.7, 1.0];\r\n\r\n\t      for (var z = 0; z < imageSize; ++z) {\r\n\t        var imageZ = image[z];\r\n\r\n\t        for (var y = 0; y < imageSize; ++y) {\r\n\t          var imageZY = imageZ[y];\r\n\r\n\t          for (var x = 0; x < imageSize; ++x) {\r\n\t            var imageZYX = imageZY[x];\r\n\t            imageZYX[0] = ctx.X(low[0], high[0], imageZYX[0] * 0.5 + 0.5);\r\n\t            imageZYX[1] = ctx.X(low[1], high[1], imageZYX[1] * 0.5 + 0.5);\r\n\t            imageZYX[2] = ctx.X(low[2], high[2], imageZYX[2] * 0.5 + 0.5);\r\n\t          }\r\n\t        }\r\n\t      }\r\n\r\n\t      state = States.DATA_VIEWS;\r\n\t      this.progress = Progress.SCALING;\r\n\t    };\r\n\r\n\t    // filling zd DataViews\r\n\t    var dataViews = function dataViews() {\r\n\t      ctx.yd = imageSize;\r\n\t      ctx.zd = [];\r\n\r\n\t      for (var z = 0; z < imageSize; ++z) {\r\n\t        var imageZ = image[z];\r\n\r\n\t        var plane = new ArrayBuffer(imageSize * imageSize * 3);\r\n\t        var view = new DataView(plane);\r\n\r\n\t        for (var y = 0; y < imageSize; ++y) {\r\n\t          var imageZY = imageZ[y];\r\n\r\n\t          for (var x = 0; x < imageSize; ++x) {\r\n\t            var imageZYX = imageZY[x];\r\n\r\n\t            var rgbOffset = (y * imageSize + x) * 3;\r\n\t            view.setUint8(rgbOffset + 0,\r\n\t            Math.floor(clamp_(256.0 * (imageZYX[0] * 0.5 + 0.5) - 0.5, 0.0, 255.0)));\r\n\t            view.setUint8(rgbOffset + 1,\r\n\t            Math.floor(clamp_(256.0 * (imageZYX[1] * 0.5 + 0.5) - 0.5, 0.0, 255.0)));\r\n\t            view.setUint8(rgbOffset + 2,\r\n\t            Math.floor(clamp_(256.0 * (imageZYX[2] * 0.5 + 0.5) - 0.5, 0.0, 255.0)));\r\n\t          }\r\n\t        }\r\n\r\n\t        ctx.zd[z] = view;\r\n\t      }\r\n\r\n\t      state = States.FINISHED;\r\n\t      this.progress = Progress.DATA_VIEWS;\r\n\t    };\r\n\r\n\t    this.step = function () {\r\n\t      switch (state) {\r\n\t        case States.INITIAL_FILL:initialFill.call(this);break;\r\n\t        case States.MIX_STEP_INIT:mixStepInit.call(this);break;\r\n\t        case States.MIX_STEP_PROCESS:mixStepProcess.call(this);break;\r\n\t        case States.SCALING:scaling.call(this);break;\r\n\t        case States.DATA_VIEWS:dataViews.call(this);break;}\r\n\r\n\r\n\t      return state == States.FINISHED;\r\n\t    };\r\n\t  };\r\n\r\n\t  this.cf = document.createElement('canvas');\r\n\t  this.cf.width = 0;\r\n\t  this.cf.height = 0;\r\n\t  this.bf = this.cf.getContext('2d');\r\n\r\n\t  this.af = function (minWidth, minHeight) {\r\n\t    if (this.cf.width < minWidth || this.cf.height < minHeight) {\r\n\t      this.cf.width = minWidth;\r\n\t      this.cf.height = minHeight;\r\n\t      this.bf = this.cf.getContext('2d');\r\n\t    }\r\n\t  };\r\n\r\n\t  this.effects = [];\r\n\r\n\t  this.loadEffect = function (effectFilePath, onSuccessFunc, onFailFunc) {\r\n\r\n\t    if (this.effects[effectFilePath] != undefined) {\r\n\r\n\t      var effectModel = this.effects[effectFilePath];\r\n\r\n\t      if (effectModel instanceof Array) {\r\n\t        effectModel[effectModel.length] = [onSuccessFunc, onFailFunc];\r\n\t        return;\r\n\t      }\r\n\r\n\t      onSuccessFunc(effectModel);\r\n\t      return;\r\n\t    }\r\n\r\n\t    this.effects[effectFilePath] = [[onSuccessFunc, onFailFunc]];\r\n\r\n\t    var request = new XMLHttpRequest();\r\n\t    request.open(\"GET\", effectFilePath, true);\r\n\t    request.responseType = \"text\";\r\n\t    request.ctx = this;\r\n\t    request.onreadystatechange = function () {\r\n\t      if (request.readyState == 4) {\r\n\t        var callbacks = this.ctx.effects[effectFilePath];\r\n\r\n\t        if (request.status >= 200 && request.status < 300 || request.status == 304) {\r\n\r\n\t          var evalText = \"(function(ctx) {\\n\" +\r\n\t          request.responseText +\r\n\t          \"\\nreturn new NeutrinoEffect(ctx);\\n})(this.ctx);\";\r\n\t          var effectModel = eval(evalText);\r\n\t          this.ctx.effects[effectFilePath] = effectModel;\r\n\r\n\t          callbacks.forEach(function (callback) {\r\n\t            callback[0](effectModel);\r\n\t          });\r\n\r\n\t        } else {\r\n\t          callbacks.forEach(function (callback) {\r\n\t            callback[1]();\r\n\t          });\r\n\t        }\r\n\t      }\r\n\t    };\r\n\r\n\t    request.send();\r\n\t  };\r\n\r\n\t  this.removeEffect = function (effectFilePath) {\r\n\t    delete this.effects[effectFilePath];\r\n\t  };\r\n\t}\r\n\r\n\texports.Context = Context;\r\n\r\n\tObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\n})));\r\n//# sourceMappingURL=neutrinoparticles.umd.js.map\r\n"]}