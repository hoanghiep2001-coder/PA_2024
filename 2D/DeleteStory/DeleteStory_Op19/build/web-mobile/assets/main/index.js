window.__require=function t(e,o,n){function i(c,r){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"16092J/6+9HR5x8fJSUKKad","AudioManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Data/constants"),r=cc._decorator,a=r.ccclass,l=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgSound=null,e.drawSound=null,e.successSound=null,e.moveSound=null,e.fireworksSound=null,e.clickSound=null,e.SheepSound1=null,e.SheepSound2=null,e.LoseSound=null,e}return i(e,t),e.prototype.playSound=function(t){if(c.Constants.ironSource.SoundState&&!c.Constants.ironSource.isEndGame)switch(t){case"bgSound":this.bgSound.play();break;case"drawSound":this.drawSound.play();break;case"LoseSound":this.LoseSound.play();break;case"SheepSound1":this.SheepSound1.play();break;case"SheepSound2":this.SheepSound2.play();break;case"clickSound":this.clickSound.play();break;case"successSound":this.successSound.play();break;case"moveSound":this.moveSound.play();break;case"fireworksSound":this.fireworksSound.play()}},e.prototype.stopSound=function(t){switch(t){case"bgSound":this.bgSound.stop();break;case"drawSound":this.drawSound.stop();break;case"LoseSound":this.LoseSound.stop();break;case"SheepSound1":this.SheepSound1.stop();break;case"SheepSound2":this.SheepSound2.stop();break;case"clickSound":this.clickSound.stop();break;case"successSound":this.successSound.stop();break;case"moveSound":this.moveSound.stop();break;case"fireworksSound":this.fireworksSound.stop()}},e.prototype.stopAllSound=function(){this.bgSound.stop(),this.drawSound.stop(),this.successSound.stop(),this.moveSound.stop(),this.fireworksSound.stop(),this.clickSound.stop(),this.SheepSound1.stop(),this.SheepSound2.stop(),this.LoseSound.stop()},s([l(cc.AudioSource)],e.prototype,"bgSound",void 0),s([l(cc.AudioSource)],e.prototype,"drawSound",void 0),s([l(cc.AudioSource)],e.prototype,"successSound",void 0),s([l(cc.AudioSource)],e.prototype,"moveSound",void 0),s([l(cc.AudioSource)],e.prototype,"fireworksSound",void 0),s([l(cc.AudioSource)],e.prototype,"clickSound",void 0),s([l(cc.AudioSource)],e.prototype,"SheepSound1",void 0),s([l(cc.AudioSource)],e.prototype,"SheepSound2",void 0),s([l(cc.AudioSource)],e.prototype,"LoseSound",void 0),s([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"dfec3bBGHdHY4ShHxSUTm+E","GameController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.GameController=void 0;var c=t("../Data/constants"),r=t("../Plugin/AudioManager"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){window.gameReady&&window.gameReady()},e.prototype.installHandle=function(){if(console.log("install"),this.AudioManager.stopAllSound(),c.Constants.ironSource.isEndGame=!0,window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.ANDROID?void mraid.open("https://play.google.com/store/apps/details?id=com.tvc.deletestory"):cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.IPHONE||cc.sys.os==cc.sys.IPAD?void mraid.open("https://itunes.apple.com/us/app/id1577759626?mt=8"):void mraid.open("https://play.google.com/store/apps/details?id=com.tvc.deletestory"):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},s([u(r.default)],e.prototype,"AudioManager",void 0),s([l],e)}(cc.Component);o.GameController=p,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager"}],GamePlay:[function(t,e,o){"use strict";cc._RF.push(e,"e4962SfSUFOcoqc2Otz+5iQ","GamePlay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Data/constants"),r=t("../Plugin/AudioManager"),a=t("./GameController"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AudioManager=null,e.GameController=null,e.Scratchable=null,e.Opening=null,e.MainContent=null,e.ageLabel=null,e.age54=null,e.age18=null,e.iloveyou=null,e.boy1=null,e.boy2=null,e.girl1=null,e.girl2=null,e.particle=null,e.CTA=null,e.isDoneEraser=!1,e.soundTrack=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){c.Constants.isRestart&&!c.Constants.ironSource.isEndGame&&this.AudioManager.playSound(c.Constants.SoundTrack.bgSound),this.CTA.active=!1,this.soundTrack=this.AudioManager.SheepSound1,this.ageLabel.string=String(c.Constants.age),cc.director.preloadScene("restartGame")},e.prototype.handleIronSourcePlaySound=function(){c.Constants.ironSource.isPlayBgSound||(c.Constants.ironSource.SoundState&&this.AudioManager.playSound(c.Constants.SoundTrack.bgSound),c.Constants.ironSource.isPlayBgSound=!0)},e.prototype.handleMuteSoundIronSource=function(){c.Constants.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),c.Constants.ironSource.State&&(1!==c.Constants.ironSource.State||c.Constants.ironSource.SoundState||c.Constants.ironSource.isEndGame||(c.Constants.ironSource.SoundState=!0,this.AudioManager.playSound(c.Constants.SoundTrack.bgSound)),2===c.Constants.ironSource.State&&c.Constants.ironSource.SoundState&&(c.Constants.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},e.prototype.isDeleteOverHalf=function(){return console.log(this.Scratchable.getComponent("Scratchable").progress),this.Scratchable.getComponent("Scratchable").progress>=.4&&this.Scratchable.getComponent("Scratchable").progress<=.6},e.prototype.RestartGame=function(){cc.director.loadScene("restartGame")},e.prototype.increaseAge=function(t,e){var o=this;c.Constants.age=t,cc.tween(c.Constants).to(1,{age:e},{progress:function(t,e,n,i){var s=Math.floor(cc.misc.lerp(t,e,i));return o.ageLabel.string=s.toString(),s}}).start()},e.prototype.winGame=function(){var t=this;this.AudioManager.playSound(c.Constants.SoundTrack.successSound),this.Scratchable.getChildByName("Mask").active=!1,this.iloveyou.active=!0,this.boy1.active=!1,this.boy2.active=!0,this.girl1.active=!1,this.girl2.active=!0,this.isDoneEraser=!0,this.particle.resetSystem(),this.scheduleOnce(function(){t.CTA.active=!0,t.CTA.getComponent(cc.Animation).play("CTA_Anim")},2)},e.prototype.checkDoneEraser=function(){this.Scratchable.getComponent("Scratchable").isWin&&console.log("lose")},e.prototype.update=function(){},s([p(r.default)],e.prototype,"AudioManager",void 0),s([p(a.GameController)],e.prototype,"GameController",void 0),s([p(cc.Node)],e.prototype,"Scratchable",void 0),s([p(cc.Node)],e.prototype,"Opening",void 0),s([p(cc.Node)],e.prototype,"MainContent",void 0),s([p(cc.Label)],e.prototype,"ageLabel",void 0),s([p(cc.Node)],e.prototype,"age54",void 0),s([p(cc.Node)],e.prototype,"age18",void 0),s([p(cc.Node)],e.prototype,"iloveyou",void 0),s([p(cc.Node)],e.prototype,"boy1",void 0),s([p(cc.Node)],e.prototype,"boy2",void 0),s([p(cc.Node)],e.prototype,"girl1",void 0),s([p(cc.Node)],e.prototype,"girl2",void 0),s([p(cc.ParticleSystem)],e.prototype,"particle",void 0),s([p(cc.Node)],e.prototype,"CTA",void 0),s([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController"}],MaskGamePlay:[function(t,e){"use strict";cc._RF.push(e,"af3b25w7AVJa7LI1CskCfDP","MaskGamePlay");var o=t("Scratchable");cc.Class({extends:cc.Component,properties:{pointClear:cc.Node,touchArea:cc.Node},onLoad:function(){this.scratchables=this.getComponentsInChildren(o)},update:function(){if(this.isTouch=this.touchArea.getComponent("TouchAreaController").isTouch,this.pointClear.active&&this.isTouch){var t=cc.v2(this.pointClear.x+cc.winSize.width/2,this.pointClear.y+cc.winSize.height/2);this.scratchables.forEach(function(e){e.isScratchable&&e.isInBound(t)&&e.scratchHole(t)})}}}),cc._RF.pop()},{Scratchable:"Scratchable"}],Responsive:[function(t,e,o){"use strict";cc._RF.push(e,"d5c01VUSP5G8p7xJENgTwyO","Responsive");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Data/constants"),r=cc._decorator,a=r.ccclass,l=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textOpening=null,e.Options=null,e.text=null,e.BG=null,e.scratchable=null,e.CTA_Btn=null,e.CTA_logo=null,e.device="",e.isRotate=!1,e.HORIZONTAL_IPX="horizontal_IPX",e.HORIZONTAL_TABLET="horizontal_Tablet",e.VERTICAL_IPX="vertical_IPX",e.VERTICAL_MOBILE="vertical_Mobile",e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.handleRotate=function(){cc.view.getFrameSize().width>cc.view.getFrameSize().height?(this.isRotate=!0,this.setHorizontal()):(this.isRotate=!1,this.setVertical())},e.prototype.setHorizontal=function(){cc.view.getFrameSize().height/cc.view.getFrameSize().width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},e.prototype.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,c.Constants.Responsive.currentDevice="horizon_Tablet",this.textOpening.x=0,this.textOpening.y=60,this.textOpening.scale=.6,this.Options.x=0,this.Options.y=-50,this.Options.scale=1.3,this.text.x=0,this.text.y=190,this.text.scale=1,this.scratchable.x=-35,this.scratchable.y=-71,this.scratchable.scale=.62,this.BG.x=0,this.BG.y=-50,this.BG.scale=.62,this.CTA_logo.scale=.7,this.CTA_Btn.scale=.5)},e.prototype.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,c.Constants.Responsive.currentDevice="horizon_Tablet",this.textOpening.x=0,this.textOpening.y=60,this.textOpening.scale=.6,this.Options.x=0,this.Options.y=-50,this.Options.scale=1.3,this.text.x=0,this.text.y=190,this.text.scale=1,this.BG.x=0,this.BG.y=-50,this.BG.scale=.62,this.CTA_logo.scale=.6,this.CTA_Btn.scale=.5)},e.prototype.setVertical=function(){cc.view.getFrameSize().width/cc.view.getFrameSize().height<.5?this.setIphoneX():this.setMobile()},e.prototype.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,c.Constants.Responsive.currentDevice="vertical_mobile",this.textOpening.x=0,this.textOpening.y=50,this.textOpening.scale=.4,this.Options.x=0,this.Options.y=-50,this.Options.scale=.9,this.text.x=0,this.text.y=170,this.text.scale=.8,this.scratchable.x=-35,this.scratchable.y=-71,this.scratchable.scale=.48,this.BG.x=0,this.BG.y=-50,this.BG.scale=.5,this.CTA_logo.scale=.48,this.CTA_Btn.scale=.4)},e.prototype.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,c.Constants.Responsive.currentDevice="vertical_mobile",this.textOpening.x=0,this.textOpening.y=50,this.textOpening.scale=.45,this.Options.x=0,this.Options.y=-50,this.Options.scale=1,this.text.x=0,this.text.y=190,this.text.scale=1,this.scratchable.x=-35,this.scratchable.y=-71,this.scratchable.scale=.62,this.BG.x=0,this.BG.y=-50,this.BG.scale=.62,this.CTA_logo.scale=.54,this.CTA_Btn.scale=.4)},e.prototype.unActiveLogo=function(){},e.prototype.update=function(){this.handleRotate()},s([l(cc.Node)],e.prototype,"textOpening",void 0),s([l(cc.Node)],e.prototype,"Options",void 0),s([l(cc.Node)],e.prototype,"text",void 0),s([l(cc.Node)],e.prototype,"BG",void 0),s([l(cc.Node)],e.prototype,"scratchable",void 0),s([l(cc.Node)],e.prototype,"CTA_Btn",void 0),s([l(cc.Node)],e.prototype,"CTA_logo",void 0),s([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Data/constants":"constants"}],Scratchable:[function(t,e){"use strict";cc._RF.push(e,"836a9YKgBxFXYKE5BcLsYH1","Scratchable"),cc.Class({extends:cc.Component,properties:{isDone:0,isWin:cc.Boolean,eraserRadius:{type:cc.Int,default:60}},start:function(){this.percentToWin=1;var t=this.getComponentInChildren(cc.Mask);this.graphics=t._graphics,this.graphics.fillColor=cc.color(255,255,255,0),this.reset()},calculateProgress:function(){if(this.isScratchable){var t=0;this.polygonPointsList.forEach(function(e){e.isHit&&(t+=1)}),this.progress=t/this.polygonPointsList.length,this.progress>=this.percentToWin&&(this.isWin=!0,this.isDone=1),this.isWin&&(this.fillInstantly(),this.completed=!0,this.isScratchable=!1,this.node.dispatchEvent(new cc.Event.EventCustom("completed",this)))}},reset:function(){this.callbackFlag=!0,this.graphics.clear(),this.tempDrawPoints=[],this.polygonPointsList=[],this.progress=0,this.completed=!1,this.isScratchable=!0,this.initPolygonList()},initPolygonList:function(){for(var t=0;t<this.node.width;t+=this.eraserRadius)for(var e=0;e<this.node.height;e+=this.eraserRadius)this.polygonPointsList.push({rect:cc.rect(t-this.node.width/2,e-this.node.height/2,this.eraserRadius,this.eraserRadius),isHit:!1})},scratchHole:function(t){t=this.node.convertToNodeSpaceAR(t);var e=this.graphics,o=this.tempDrawPoints.length;if(this.tempDrawPoints.push(t),this.calculateProgress(),o<=1)e.circle(t.x,t.y,this.eraserRadius/2),e.fill(),this.polygonPointsList.forEach(function(e){if(!e.isHit){var o=t.x>e.rect.x&&t.x<e.rect.x+e.rect.width,n=t.y>e.rect.y&&t.y<e.rect.y+e.rect.height;o&&n&&(e.isHit=!0)}});else{var n=this.tempDrawPoints[o-2],i=this.tempDrawPoints[o-1];e.moveTo(n.x,n.y),e.lineTo(i.x,i.y),e.lineWidth=this.eraserRadius,e.lineCap=cc.Graphics.LineCap.ROUND,e.lineJoin=cc.Graphics.LineJoin.ROUND,e.strokeColor=cc.color(255,255,255,255),e.stroke(),this.polygonPointsList.forEach(function(t){t.isHit=t.isHit||cc.Intersection.lineRect(n,i,t.rect)})}},resetProgress:function(){this.clearInstantly(),this.polygonPointsList=[],this.tempDrawPoints=[],this.progress=0,this.initPolygonList()},isInBound:function(){return!0},clearInstantly:function(){this.graphics.clear()},fillInstantly:function(){this.graphics.moveTo(0,0),this.graphics.rect(0,0,this.node.width,this.node.height),this.graphics.fill()}}),cc._RF.pop()},{}],TouchAreaController:[function(t,e,o){"use strict";cc._RF.push(e,"cb238j6V3ZEJ5t9cUnXoMCl","TouchAreaController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Data/constants"),r=t("../Plugin/AudioManager"),a=t("./GameController"),l=t("./GamePlay"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GamePlay=null,e.AudioManager=null,e.GameController=null,e.btn_Yes=null,e.btn_No=null,e.hideMask=null,e.hand=null,e.Point=null,e.CTA_Btn=null,e.isTouch=!1,e.isActiveCTA=!1,e}return i(e,t),e.prototype.start=function(){this.btn_Yes.on(cc.Node.EventType.TOUCH_START,this.btnYesTouch,this),this.btn_No.on(cc.Node.EventType.TOUCH_START,this.GameController.installHandle,this),this.GamePlay.Opening.active||this.registerEvent()},e.prototype.registerEvent=function(){this.hideMask.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.hideMask.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.hideMask.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.hideMask.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e.prototype.btnYesTouch=function(){this.btn_Yes.getChildByName("icon").active=!0,this.AudioManager.playSound(c.Constants.SoundTrack.clickSound),this.GamePlay.Opening.active=!1,this.GamePlay.MainContent.active=!0,this.GamePlay.handleIronSourcePlaySound(),this.registerEvent()},e.prototype.touchStart=function(t){if(c.Constants.life<=0&&this.GameController.installHandle(),!c.Constants.ironSource.isEndGame){this.isTouch=!0,this.hand.active=!1,this.Point.getComponent(cc.Animation).stop(),!c.Constants.isDoneEraser&&this.AudioManager.playSound(c.Constants.SoundTrack.drawSound);var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e);this.Point.setPosition(o),c.Constants.touchPoints.push(o)}},e.prototype.touchMove=function(t){var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e);this.Point.setPosition(o),c.Constants.touchPoints.push(o)},e.prototype.checkStraightLine=function(t){if(t.length<3)return!1;var e=t[t.length-3],o=t[t.length-2],n=t[t.length-1];return(o.x-e.x)*(n.y-e.y)==(o.y-e.y)*(n.x-e.x)},e.prototype.touchEnd=function(){var t=this;this.isTouch=!1,this.AudioManager.stopSound(c.Constants.SoundTrack.drawSound),this.unActivePoint(),this.GamePlay.isDeleteOverHalf()&&this.checkStraightLine(c.Constants.touchPoints)&&(this.isActiveCTA=!0,c.Constants.isDoneEraser=!0,this.GamePlay.winGame(),this.GamePlay.ageLabel.node.color=cc.Color.GREEN,this.GamePlay.increaseAge(c.Constants.age,18),this.CTA_Btn.on(cc.Node.EventType.TOUCH_START,this.GameController.installHandle,this)),c.Constants.isDoneEraser||(c.Constants.isRestart=!0,c.Constants.life-=1,c.Constants.ageIncrease+=3,this.GamePlay.ageLabel.node.color=cc.Color.RED,this.GamePlay.increaseAge(c.Constants.age,c.Constants.ageIncrease),this.AudioManager.playSound(c.Constants.SoundTrack.LoseSound),this.scheduleOnce(function(){t.GamePlay.RestartGame()},1.5))},e.prototype.unActivePoint=function(){this.Point.active=!1},e.prototype.update=function(){this.GamePlay.handleMuteSoundIronSource()},s([h(l.default)],e.prototype,"GamePlay",void 0),s([h(r.default)],e.prototype,"AudioManager",void 0),s([h(a.GameController)],e.prototype,"GameController",void 0),s([h(cc.Node)],e.prototype,"btn_Yes",void 0),s([h(cc.Node)],e.prototype,"btn_No",void 0),s([h(cc.Node)],e.prototype,"hideMask",void 0),s([h(cc.Node)],e.prototype,"hand",void 0),s([h(cc.Node)],e.prototype,"Point",void 0),s([h(cc.Node)],e.prototype,"CTA_Btn",void 0),s([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Data/constants":"constants","../Plugin/AudioManager":"AudioManager","./GameController":"GameController","./GamePlay":"GamePlay"}],constants:[function(t,e,o){"use strict";cc._RF.push(e,"d0b68xTANVBsaIBjAI8Yj1K","constants"),Object.defineProperty(o,"__esModule",{value:!0}),o.Constants=void 0;var n,i=cc._decorator;i.ccclass,i.property,function(t){t.touchStart="touchstart",t.touchMove="touchmove",t.touchEnd="touchend",t.touchCancel="touchcancel"}(n||(n={}));var s,c={SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1},r={calculated:0,currentDevice:""};(function(t){t.bgSound="bgSound",t.drawSound="drawSound",t.successSound="successSound",t.moveSound="moveSound",t.fireworksSound="fireworksSound",t.clickSound="clickSound",t.SheepSound1="SheepSound1",t.SheepSound2="SheepSound2",t.LoseSound="LoseSound"})(s||(s={}));var a=function(){function t(){}return t.currentLv=1,t.isClickGameStart=!1,t.isRotate=!1,t.isCanTouch=!1,t.isDoneEraser=!1,t.isRestart=!1,t.age=54,t.ageIncrease=58,t.life=3,t.step=1,t.touchPoints=[],t.Event=n,t.SoundTrack=s,t.ironSource=c,t.Responsive=r,t}();o.Constants=a,cc._RF.pop()},{}]},{},["GameController","GamePlay","MaskGamePlay","Scratchable","TouchAreaController","constants","AudioManager","Responsive"]);