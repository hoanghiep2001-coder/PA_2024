{"version":3,"sources":["file:///D:/PA_2024/3D/ArtPuzzle/ArtPuzzle_Op1/assets/Script/Game/Responsive.ts"],"names":["_decorator","Component","screen","UITransform","Constants","UIController","ccclass","property","Responsive","onLoad","start","scrollView_view","ScrollView","node","getChildByName","scrollView_content","handleRotate","windowSize","width","height","isRotate","setHorizontal","setVertical","setHorizontalForIpX","setHorizontalForTablet","HORIZONTAL_IPX","device","Progress","parent","setPosition","Tutorial","getComponent","setAnchorPoint","HORIZONTAL_TABLET","console","log","setIphoneX","setMobile","VERTICAL_IPX","VERTICAL_MOBILE","update","dt"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, math, Node, Tween, tween, view, Animation, screen, log, Widget, Camera, Vec3, UITransform } from 'cc';\nimport { GamePlay } from './GamePlay';\nimport { Constants } from '../Data/constants';\nimport { UIController } from './UIController';\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('Responsive')\nexport class Responsive extends Component {\n\n    @property(UIController)\n    UIController: UIController = null;\n\n    // Node\n    scrollView_view: Node = null;\n    scrollView_content: Node = null;\n\n    // state\n    device: string = \"\";\n    isRotate: boolean = false;\n\n    HORIZONTAL_IPX: string = \"horizontal_IPX\";\n    HORIZONTAL_TABLET: string = \"horizontal_Tablet\";\n    VERTICAL_IPX: string = \"vertical_IPX\";\n    VERTICAL_MOBILE: string = \"vertical_Mobile\";\n\n\n    protected onLoad(): void {\n\n    }\n\n\n    protected start(): void {\n        this.scrollView_view = this.UIController.ScrollView.node.getChildByName(\"View\");\n        this.scrollView_content = this.scrollView_view.getChildByName(\"content\");\n    }\n\n\n    private handleRotate(): void {\n        if (screen.windowSize.width > screen.windowSize.height) {\n            Constants.isRotate = true;\n            this.setHorizontal();\n        } else {\n            Constants.isRotate = false;\n            this.setVertical();\n        }\n    }\n\n\n    private setHorizontal(): void {\n        if (screen.windowSize.height / screen.windowSize.width < 0.65) {\n            // Iphone 6 / 6 plus / 7 / 7 Plus / X\n            this.setHorizontalForIpX();\n        } else {\n            this.setHorizontalForTablet();\n        }\n    }\n\n\n    private setHorizontalForIpX(): void {\n        if (this.HORIZONTAL_IPX === this.device) {\n            return;\n        }\n\n        this.device = this.HORIZONTAL_IPX;\n\n        this.UIController.Progress.parent.setPosition(0, 780, 0);\n        this.UIController.Tutorial.setPosition(0, 0, 0);\n        this.UIController.ScrollView.node.setPosition(0, -195, 0);\n        this.UIController.ScrollView.getComponent(UITransform).width = 1000;\n        this.scrollView_view.getComponent(UITransform).width = 1000;\n        this.scrollView_content.getComponent(UITransform).setAnchorPoint(0.5, 0.5);\n\n        // if(cc.screen.windowSize.height / cc.screen.windowSize.width >= 0.6) {\n        //     // Applovin horizontal\n\n        //     return;\n        // }    \n\n\n        // if (screen.windowSize.height / screen.windowSize.width > 0.55) {\n        //     // Ip 6 / 6Plus / 7 / 7 Plus\n\n        //     console.log(1);\n        // } else {\n\n        //     // IpX\n  \n        //     console.log(2);\n        // }\n\n    }\n\n\n    private setHorizontalForTablet(): void {\n        if (this.HORIZONTAL_TABLET === this.device) {\n            return;\n        }\n\n        this.device = this.HORIZONTAL_TABLET;\n\n        this.UIController.Progress.parent.setPosition(0, 800, 0);\n        this.UIController.Tutorial.setPosition(0, 0, 0);\n        this.UIController.ScrollView.node.setPosition(0, -195, 0);\n        this.UIController.ScrollView.getComponent(UITransform).width = 1000;\n        this.scrollView_view.getComponent(UITransform).width = 1000;\n        this.scrollView_content.getComponent(UITransform).setAnchorPoint(0.5, 0.5);\n\n\n        console.log(3);\n\n        // horizontal google\n        // if(cc.screen.windowSize.width / cc.screen.windowSize.height <= 1.2 && cc.screen.windowSize.width / cc.screen.windowSize.height >= 1.2) {\n\n        //     return;\n        // }\n\n    }\n\n\n    private setVertical(): void {\n        if (screen.windowSize.width / screen.windowSize.height < 0.5) {\n            this.setIphoneX();\n        } else {\n            this.setMobile();\n        }\n    }\n\n\n    private setIphoneX(): void {\n        if (this.VERTICAL_IPX === this.device) {\n            return;\n        }\n\n        this.device = this.VERTICAL_IPX;\n\n        console.log(4);\n        \n        this.UIController.Progress.parent.setPosition(0, 870, 0);\n        this.UIController.Tutorial.setPosition(0, -45, 0);\n        this.UIController.ScrollView.node.setPosition(0, -230, 0);\n        this.UIController.ScrollView.getComponent(UITransform).width = 200;\n        this.scrollView_view.getComponent(UITransform).width = 280;\n        this.scrollView_content.getComponent(UITransform).setAnchorPoint(0.07, 0.5);\n\n    }\n\n\n    private setMobile(): void {\n        if (this.VERTICAL_MOBILE === this.device) {\n            return;\n        }\n\n        this.device = this.VERTICAL_MOBILE;\n\n        this.UIController.Progress.parent.setPosition(0, 800, 0);\n        this.UIController.Tutorial.setPosition(0, 0, 0);\n        this.UIController.ScrollView.node.setPosition(0, -195, 0);\n        this.UIController.ScrollView.getComponent(UITransform).width = 500;\n        this.scrollView_view.getComponent(UITransform).width = 280;\n        this.scrollView_content.getComponent(UITransform).setAnchorPoint(0.07, 0.5);\n\n        // if (screen.windowSize.width / screen.windowSize.height < 0.7) {\n        //     // if (cc.screen.windowSize.width / cc.screen.windowSize.height >= 0.6 && cc.screen.windowSize.width / cc.screen.windowSize.height < 0.62) {\n        //     //     // mobile mode applovin\n\n        //     //     return;\n        //     // }\n\n        //     // Iphone 6 / 6 plus / 7 / 7 Plus\n\n        //     console.log(5);\n        // } else {\n        //     // Ipad\n        //     console.log(6);\n        // }\n    }\n\n    protected update(dt: number): void {\n        this.handleRotate();\n    }\n}\n\n"]}