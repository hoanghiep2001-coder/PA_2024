System.register("chunks:///_virtual/GameController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./AudioManager.ts"],(function(e){"use strict";var n,o,t,i,a,r,s,l,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Component},function(e){l=e.Constants},function(e){c=e.AudioManager}],execute:function(){var d,p,u,f,y;a._RF.push({},"068c9ERAfJF1b4+fsWryUsH","GameController",void 0);var g=r.ccclass,w=r.property;e("GameController",(d=g("GameController"),p=w(c),d((y=n((f=function(e){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,t(i(n),"AudioManager",y,i(n)),n}o(n,e);var a=n.prototype;return a.onLoad=function(){},a.start=function(){window.gameReady&&window.gameReady()},a.installHandle=function(){if(console.log("install"),l.ironSource.isEndGame=!0,this.AudioManager.stopAllSound(),window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?(cc.sys.os==cc.sys.OS_ANDROID||(cc.sys.os,cc.sys.ANDROID),void mraid.open("https://play.google.com/store/apps/details?id=com.an.artpuzzle.jigsaw")):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},n}(s)).prototype,"AudioManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=f))||u));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameCommon.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"15f524T0YFGRY2Q6YsLT9m1","GameCommon",void 0);var o=e("GameCommon",(function(){}));t(o,"currentStep",1),t(o,"Step1States",[!1,!1,!1,!1,!1]),t(o,"Step2States",[!1,!1,!1,!1]),n._RF.pop()}}}));

System.register("chunks:///_virtual/constants.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.defineProperty},function(t){e=t.cclegacy}],execute:function(){var o;e._RF.push({},"2561f056PZNnalT4L0PDxZm","constants",void 0),function(t){t.touchStart="touchstart",t.touchMove="touchmove",t.touchEnd="touchend",t.touchCancel="touchcancel"}(o||(o={}));var u,c;!function(t){t.bgSound="bgSound",t.clickSound="clickSound",t.matchSound="matchSound",t.NextStepSound="NextStepSound",t.WrongSound="WrongSound"}(u||(u={})),function(t){t.HORIZONTAL_IPX="horizontal_IPX",t.HORIZONTAL_TABLET="horizontal_Tablet",t.VERTICAL_IPX="vertical_IPX",t.VERTICAL_MOBILE="vertical_Mobile"}(c||(c={}));var s=t("Constants",(function(){}));n(s,"isRotate",!1),n(s,"isCanClick",!1),n(s,"isToStore",!1),n(s,"isTouching",!1),n(s,"currentDragNode",null),n(s,"sameArea",null),n(s,"blendedNode",null),n(s,"targetNode",null),n(s,"isDissolveFirstTime",!1),n(s,"isDissolveOut",!1),n(s,"isDissolveIn",!1),n(s,"dissolvedItemNumber",0),n(s,"currentDissolveOutPercent",0),n(s,"currentDissolveInPercent",1),n(s,"Event",o),n(s,"ironSource",{SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1}),n(s,"Responsive",c),n(s,"SoundTrack",u),e._RF.pop()}}}));

System.register("chunks:///_virtual/Responsive.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./UIController.ts"],(function(t){"use strict";var e,o,i,n,s,r,l,c,h,a,w,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,l=t._decorator,c=t.screen,h=t.UITransform,a=t.Component},function(t){w=t.Constants},function(t){I=t.UIController}],execute:function(){var p,d,C,u,_;r._RF.push({},"2c659dyycZOSLXLEYpk8aF8","Responsive",void 0);var P=l.ccclass,V=l.property;t("Responsive",(p=P("Responsive"),d=V(I),p((_=e((u=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(n(e),"UIController",_,n(e)),s(n(e),"scrollView_view",null),s(n(e),"scrollView_content",null),s(n(e),"device",""),s(n(e),"isRotate",!1),s(n(e),"HORIZONTAL_IPX","horizontal_IPX"),s(n(e),"HORIZONTAL_TABLET","horizontal_Tablet"),s(n(e),"VERTICAL_IPX","vertical_IPX"),s(n(e),"VERTICAL_MOBILE","vertical_Mobile"),e}o(e,t);var r=e.prototype;return r.onLoad=function(){},r.start=function(){this.scrollView_view=this.UIController.ScrollView.node.getChildByName("View"),this.scrollView_content=this.scrollView_view.getChildByName("content")},r.handleRotate=function(){c.windowSize.width>c.windowSize.height?(w.isRotate=!0,this.setHorizontal()):(w.isRotate=!1,this.setVertical())},r.setHorizontal=function(){c.windowSize.height/c.windowSize.width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},r.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,this.UIController.Progress.parent.setPosition(0,780,0),this.UIController.Tutorial.setPosition(0,0,0),this.UIController.ScrollView.node.setPosition(0,-195,0),this.UIController.ScrollView.getComponent(h).width=1e3,this.scrollView_view.getComponent(h).width=1e3,this.scrollView_content.getComponent(h).setAnchorPoint(.5,.5))},r.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,this.UIController.Progress.parent.setPosition(0,800,0),this.UIController.Tutorial.setPosition(0,0,0),this.UIController.ScrollView.node.setPosition(0,-195,0),this.UIController.ScrollView.getComponent(h).width=1e3,this.scrollView_view.getComponent(h).width=1e3,this.scrollView_content.getComponent(h).setAnchorPoint(.5,.5),console.log(3))},r.setVertical=function(){c.windowSize.width/c.windowSize.height<.5?this.setIphoneX():this.setMobile()},r.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,console.log(4),this.UIController.Progress.parent.setPosition(0,870,0),this.UIController.Tutorial.setPosition(0,-45,0),this.UIController.ScrollView.node.setPosition(0,-230,0),this.UIController.ScrollView.getComponent(h).width=200,this.scrollView_view.getComponent(h).width=280,this.scrollView_content.getComponent(h).setAnchorPoint(.07,.5))},r.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,this.UIController.Progress.parent.setPosition(0,800,0),this.UIController.Tutorial.setPosition(0,0,0),this.UIController.ScrollView.node.setPosition(0,-195,0),this.UIController.ScrollView.getComponent(h).width=500,this.scrollView_view.getComponent(h).width=280,this.scrollView_content.getComponent(h).setAnchorPoint(.07,.5))},r.update=function(t){this.handleRotate()},e}(a)).prototype,"UIController",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=u))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/TouchArea.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./AudioManager.ts","./GameController.ts","./UIController.ts","./GamePlay.ts"],(function(e){"use strict";var n,t,o,r,i,a,l,u,c,s,f,h,p,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,u=e.Vec3,c=e.Component},function(e){s=e.Constants},function(e){f=e.AudioManager},function(e){h=e.GameController},function(e){p=e.UIController},function(e){y=e.GamePlay}],execute:function(){var d,m,C,T,b,g,v,G,P,A,I;a._RF.push({},"762402k5a1Jv7U1aBPHNkIj","TouchArea",void 0);var S=l.ccclass,w=l.property;e("TouchArea",(d=S("TouchArea"),m=w(p),C=w(h),T=w(f),b=w(y),d((G=n((v=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,o(r(n),"UIController",G,r(n)),o(r(n),"GameController",P,r(n)),o(r(n),"AudioManager",A,r(n)),o(r(n),"GamePlay",I,r(n)),i(r(n),"isTouch",!1),n}t(n,e);var a=n.prototype;return a.start=function(){},a.handleTouchStart=function(e){s.isCanClick&&(s.isToStore&&this.GameController.installHandle(),this.GamePlay.handleIronSourcePlaySound(),this.isTouch=!0)},a.handleTouchMove=function(e){if(s.isCanClick)this.convertToNodeSpace(e.getUILocation())},a.convertToNodeSpace=function(e){return new u(-(e.x-160),-(e.y-240),0)},a.handleTouchEnd=function(e){this.isTouch&&(this.isTouch=!1)},n}(c)).prototype,"UIController",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(v.prototype,"GameController",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(v.prototype,"AudioManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(v.prototype,"GamePlay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewHandler.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./AudioManager.ts","./GameController.ts","./GameCommon.ts","./UIController.ts","./GamePlay.ts"],(function(e){"use strict";var t,n,o,r,i,a,c,l,u,s,d,p,m,g,h,C,f,v,S,I,T,y,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.defineProperty},function(e){a=e.cclegacy,c=e._decorator,l=e.Node,u=e.ScrollView,s=e.instantiate,d=e.Sprite,p=e.log,m=e.Vec3,g=e.tween,h=e.easing,C=e.UITransform,f=e.Component},function(e){v=e.Constants},function(e){S=e.AudioManager},function(e){I=e.GameController},function(e){T=e.GameCommon},function(e){y=e.UIController},function(e){k=e.GamePlay}],execute:function(){var N,b,U,A,D,P,w,G,_,H,E;a._RF.push({},"7cd0cpcm4tBeYvcI30Hkdcj","ScrollViewHandler",void 0);var M=c.ccclass,B=c.property;e("ScrollViewHandler",(N=M("ScrollViewHandler"),b=B(y),U=B(S),A=B(I),D=B(k),N((G=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,o(r(t),"UIController",G,r(t)),o(r(t),"AudioManager",_,r(t)),o(r(t),"GameController",H,r(t)),o(r(t),"GamePlay",E,r(t)),i(r(t),"prevPos",null),i(r(t),"pickingStep",0),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;this.UIController.Items.forEach((function(t){t.on(l.EventType.TOUCH_START,e.onItemTouchStart,e),t.on(l.EventType.TOUCH_MOVE,e.onItemTouchMove,e),t.on(l.EventType.TOUCH_END,e.onItemTouchEnd,e),t.on(l.EventType.TOUCH_CANCEL,e.onItemTouchEnd,e)}))},a.onItemClicked=function(e,t){this.UIController.Tutorial.active=!1,console.log("Item clicked: ",t)},a.onItemTouchStart=function(e){if(v.dissolvedItemNumber>=20)this.GameController.installHandle();else if(v.isCanClick){this.AudioManager.playSound(v.SoundTrack.clickSound),v.isTouching=!0,this.node.getComponent(u).enabled=!1;var t=e.target,n=s(t),o=this.convertToNodeSpace(e.getUILocation()),r=t.children[0].name,i=r.match(/Step(\d+)_/);v.currentDragNode=n,this.prevPos=o,this.pickingStep=Number(i[1]),this.GamePlay.filterSameArea(r),this.UIController.ImpactArea.addChild(v.currentDragNode),t.children[0].getComponent(d).enabled=!1,v.currentDragNode.setPosition(o),this.scaleUpNode(v.currentDragNode),this.UIController.Tutorial.active=!1,p("picking step: "+this.pickingStep+", item: "+r)}},a.onItemTouchMove=function(e){if(v.isCanClick){var t=e.target,n=this.convertToNodeSpace(e.getUILocation());v.currentDragNode&&v.currentDragNode.setPosition(n),this.checkImpactArea(v.sameArea)&&this.pickingStep===T.currentStep&&(this.AudioManager.playSound(v.SoundTrack.matchSound),v.isCanClick=!1,v.isDissolveIn=!0,v.targetNode.active=!0,v.currentDragNode.active=!1,this.prevPos=null,this.node.getComponent(u).enabled=!0,this.UIController.ImpactArea.removeChild(v.currentDragNode),t.active=!1,t.removeFromParent(),p("Correct!!"))}},a.onItemTouchEnd=function(e){if(v.isCanClick&&v.currentDragNode){var t=e.target;v.isTouching=!1,this.pickingStep===T.currentStep&&this.checkImpactArea(v.sameArea)||(this.turnBack(v.currentDragNode,t),this.AudioManager.playSound(v.SoundTrack.WrongSound)),this.GamePlay.caculateTimeShowHint()}},a.convertToNodeSpace=function(e){return new m(e.x-160,e.y-240,0)},a.scaleUpNode=function(e){p("saleUp ```");var t=2;"item_16"!==e.name&&"item_17"!==e.name&&"item_8"!==e.name||(t=3.5),g(e).to(.5,{scale:new m(t,t,t)},{easing:h.elasticOut}).start()},a.turnBack=function(e,t){var n=this;p("TurnBack ```"),v.isCanClick=!1,this.node.getComponent(u).enabled=!0,g(e).to(.5,{scale:new m(1,1,1),position:this.prevPos}).call((function(){n.prevPos=null,t.children[0].getComponent(d).enabled=!0,e.active=!1,v.currentDragNode=null,n.node.getComponent(u).enabled=!0,v.isCanClick=!0})).start()},a.checkImpactArea=function(e){if(v.currentDragNode){var t=v.currentDragNode.getComponent(C).getBoundingBox();return!!e.getComponent(C).getBoundingBox().intersects(t)}},t}(f)).prototype,"UIController",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(w.prototype,"AudioManager",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(w.prototype,"GameController",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"GamePlay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=w))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts"],(function(n){"use strict";var t,e,o,u,i,a,r,c,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,u=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,r=n.AudioSource,c=n.Component},function(n){s=n.Constants}],execute:function(){var S,d,l,p,h,b,g,k,f,m,y,v,x;i._RF.push({},"8852crIf49LULXJpY9pXiqJ","AudioManager",void 0);var w=a.ccclass,N=a.property;n("AudioManager",(S=w("AudioManager"),d=N(r),l=N(r),p=N(r),h=N(r),b=N(r),S((f=t((k=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i))||this,o(u(t),"bgSound",f,u(t)),o(u(t),"clickSound",m,u(t)),o(u(t),"matchSound",y,u(t)),o(u(t),"NextStepSound",v,u(t)),o(u(t),"WrongSound",x,u(t)),t}e(t,n);var i=t.prototype;return i.playSound=function(n){if(s.ironSource.SoundState)switch(n){case"bgSound":this.bgSound.play();break;case"clickSound":this.clickSound.play();break;case"matchSound":this.matchSound.play();break;case"NextStepSound":this.NextStepSound.play();break;case"WrongSound":this.WrongSound.play()}},i.switchVolume=function(n,t){switch(n){case"bgSound":this.bgSound.volume=t;break;case"clickSound":this.clickSound.volume=t;break;case"matchSound":this.matchSound.volume=t;break;case"NextStepSound":this.NextStepSound.volume=t;break;case"WrongSound":this.WrongSound.volume=t}},i.pauseSound=function(n){switch(n){case"bgSound":this.bgSound.pause();break;case"clickSound":this.clickSound.pause();break;case"matchSound":this.matchSound.pause();break;case"NextStepSound":this.NextStepSound.pause();break;case"WrongSound":this.WrongSound.pause()}},i.stopSound=function(n){switch(n){case"bgSound":this.bgSound.stop();break;case"clickSound":this.clickSound.stop();break;case"matchSound":this.matchSound.stop();break;case"NextStepSound":this.NextStepSound.stop();break;case"WrongSound":this.WrongSound.stop()}},i.stopAllSound=function(){this.bgSound.stop(),this.clickSound.stop(),this.matchSound.stop(),this.NextStepSound.stop(),this.WrongSound.stop()},t}(c)).prototype,"bgSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(k.prototype,"clickSound",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(k.prototype,"matchSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(k.prototype,"NextStepSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(k.prototype,"WrongSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=k))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,n,a,l,o,u,s,p,c,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty},function(e){l=e.cclegacy,o=e._decorator,u=e.Camera,s=e.Node,p=e.Material,c=e.ScrollView,h=e.Component}],execute:function(){var m,g,b,y,f,C,d,I,w,B,U,N,z,D,_,v,H,M,W;l._RF.push({},"bbbeewRqIxDUJyFgFUdCrAU","UIController",void 0);var P=o.ccclass,S=o.property;e("UIController",(m=P("UIController"),g=S(u),b=S(u),y=S(s),f=S(s),C=S(s),d=S(s),I=S([p]),w=S([p]),m((N=r((U=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,i(n(r),"Camera3D",N,n(r)),i(n(r),"Camera2D",z,n(r)),i(n(r),"Canvas",D,n(r)),i(n(r),"Container3D",_,n(r)),i(n(r),"HideMask",v,n(r)),i(n(r),"UI",H,n(r)),a(n(r),"Warpper",null),a(n(r),"Tutorial",null),a(n(r),"Base_Wrapper",null),a(n(r),"Progress",null),a(n(r),"ScrollView",null),a(n(r),"ImpactArea",null),a(n(r),"Items",[]),a(n(r),"Hints",[]),i(n(r),"Materials",M,n(r)),i(n(r),"HintMaterials",W,n(r)),r}return t(r,e),r.prototype.start=function(){this.Tutorial=this.UI.getChildByName("Tutorial"),this.Warpper=this.UI.getChildByName("Wrapper"),this.Base_Wrapper=this.UI.getChildByName("Base_Wrapper"),this.Progress=this.Warpper.getChildByName("Progress").getChildByName("img_progress"),this.ScrollView=this.UI.getChildByName("ScrollView").getComponent(c),this.Hints=this.Warpper.getChildByName("Hint").children,this.Items=this.ScrollView.node.getChildByName("View").getChildByName("content").children,this.ImpactArea=this.UI.getChildByName("ImpactArea")},r}(h)).prototype,"Camera3D",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(U.prototype,"Camera2D",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(U.prototype,"Canvas",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(U.prototype,"Container3D",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(U.prototype,"HideMask",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=r(U.prototype,"UI",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=r(U.prototype,"Materials",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=r(U.prototype,"HintMaterials",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=U))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/Dissolve.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(s){"use strict";var e,i,o,l,t,n,r,d,a,h,v;return{setters:[function(s){e=s.applyDecoratedDescriptor,i=s.inheritsLoose,o=s.initializerDefineProperty,l=s.assertThisInitialized,t=s.defineProperty},function(s){n=s.cclegacy,r=s._decorator,d=s.MeshRenderer,a=s.Texture2D,h=s.gfx,v=s.Component}],execute:function(){var u,p,c,T,f,m,y,H,g;n._RF.push({},"c8407Y4Hb1Gzqy/BzEZYN0H","Dissolve",void 0);var b=r.ccclass,x=r.property;s("Dissolve",(u=b("Dissolve"),p=x(d),c=x(a),T=x(a),u((y=e((m=function(s){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=s.call.apply(s,[this].concat(n))||this,o(l(e),"mr",y,l(e)),o(l(e),"txtNoise1",H,l(e)),o(l(e),"txtNoise2",g,l(e)),t(l(e),"dissolve",!1),t(l(e),"dissolve2",!1),t(l(e),"dissolveThresholdHandle",-1),t(l(e),"dissolveThresholdTyeHandle",-1),t(l(e),"dissolveType2Handle",-1),t(l(e),"dissolveNoiseMapBinding",-1),t(l(e),"dissolveThreshold",0),e}i(e,s);var n=e.prototype;return n.start=function(){},n.update=function(s){var e;if(null===(e=this.mr)||void 0===e?void 0:e.materials){var i,o,l,t,n=null===(i=this.mr)||void 0===i||null===(o=i.materials[0])||void 0===o?void 0:o.passes[0];n&&(this.dissolve&&(this.dissolveThreshold+=1*s,this.dissolveThreshold>1&&(this.dissolveThreshold=0)),this.processPass(n)),(n=null===(l=this.mr)||void 0===l||null===(t=l.materials[1])||void 0===t?void 0:t.passes[0])&&this.processPass(n),0==this.dissolveThreshold&&(this.dissolve=!1)}},n.processPass=function(s){(this.dissolve||this.dissolve2)&&this.setDissolveThreshold(s,this.dissolveThreshold)},n.preFetchHandles=function(s){-1==this.dissolveThresholdHandle&&(this.dissolveThresholdHandle=s.getHandle("dissolveThreshold")),-1==this.dissolveThresholdTyeHandle&&(this.dissolveThresholdTyeHandle=s.getHandle("dissolveOffsetDir",3,h.Type.FLOAT)),-1==this.dissolveType2Handle&&(this.dissolveType2Handle=s.getHandle("dissolveParams2",0,h.Type.FLOAT)),-1==this.dissolveNoiseMapBinding&&(this.dissolveNoiseMapBinding=s.getBinding("dissolveMap"))},n.setDissolveThreshold=function(s,e){s.setUniform(this.dissolveThresholdHandle,e),s.update()},n.onBtnDissolve=function(){var s;if(this.dissolve=!0,null===(s=this.mr)||void 0===s?void 0:s.materials){var e,i,o,l,t,n,r=null===(e=this.mr)||void 0===e||null===(i=e.materials[0])||void 0===i?void 0:i.passes[0];if(r)this.preFetchHandles(r),console.log(r),r.setUniform(this.dissolveThresholdTyeHandle,1),r.setUniform(this.dissolveType2Handle,1),r.bindTexture(this.dissolveNoiseMapBinding,null===(t=this.txtNoise1)||void 0===t?void 0:t.getGFXTexture()),r.update();if(r=null===(o=this.mr)||void 0===o||null===(l=o.materials[1])||void 0===l?void 0:l.passes[0])r.setUniform(this.dissolveThresholdTyeHandle,1),r.setUniform(this.dissolveType2Handle,1),r.bindTexture(this.dissolveNoiseMapBinding,null===(n=this.txtNoise1)||void 0===n?void 0:n.getGFXTexture()),r.update()}},e}(v)).prototype,"mr",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(m.prototype,"txtNoise1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(m.prototype,"txtNoise2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./AudioManager.ts","./GameController.ts","./GameCommon.ts","./UIController.ts"],(function(e){"use strict";var t,o,r,n,i,a,l,s,u,c,d,S,m,p,h,I,g,f,v,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,s=e.EffectAsset,u=e.Texture2D,c=e.Sprite,d=e.tween,S=e.Vec3,m=e.easing,p=e.log,h=e.Component},function(e){I=e.Constants},function(e){g=e.AudioManager},function(e){f=e.GameController},function(e){v=e.GameCommon},function(e){C=e.UIController}],execute:function(){var y,D,b,N,M,U,P,T,A,H,G,k,w;a._RF.push({},"d6ba26BX9VFWrvN11awPr8L","GamePlay",void 0);var B=l.ccclass,z=l.property;e("GamePlay",(y=B("GamePlay"),D=z(C),b=z(f),N=z(g),M=z(s),U=z(u),y((A=t((T=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,r(n(t),"UIController",A,n(t)),r(n(t),"GameController",H,n(t)),r(n(t),"AudioManager",G,n(t)),r(n(t),"DissolveEffect",k,n(t)),r(n(t),"DissolveTexture",w,n(t)),i(n(t),"timeoutId",null),t}o(t,e);var a=t.prototype;return a.start=function(){this.AudioManager.playSound(I.SoundTrack.bgSound),I.isDissolveIn=!0,I.targetNode=this.UIController.Warpper,this.addHintMaterials(),this.addDecorItemsMaterial()},a.caculateTimeShowHint=function(){var e=this;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){e.UIController.Tutorial.active=!0}),3e3)},a.addHintMaterials=function(){var e=this;this.UIController.Warpper.getChildByName("Hint").children.forEach((function(t,o){t.getComponent(c).customMaterial=e.UIController.HintMaterials[o]}))},a.addDecorItemsMaterial=function(){var e=this;this.UIController.Warpper.getChildByName("Decor").children.forEach((function(t,o){t.getComponent(c).customMaterial=e.UIController.Materials[o]}))},a.dissolveSprite=function(e){e.getComponent(c).customMaterial.setProperty("dissolveThreshold",I.currentDissolveInPercent)},a.updateProgress=function(){var e=this.UIController.Progress.scale;d(this.UIController.Progress).to(.5,{scale:new S((I.dissolvedItemNumber-2)/18,e.y,e.z)},{easing:m.elasticOut}).start(),p("---- update progress!!")},a.filterSameArea=function(e){I.sameArea=this.UIController.ImpactArea.getChildByName(e),I.targetNode=this.UIController.Warpper.getChildByName("Decor").getChildByName(e)},a.handleMuteSoundIronSource=function(){I.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),I.ironSource.State&&(1!==I.ironSource.State||I.ironSource.SoundState||I.ironSource.isEndGame||(I.ironSource.SoundState=!0),2===I.ironSource.State&&I.ironSource.SoundState&&(I.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},a.handleIronSourcePlaySound=function(){I.ironSource.isPlayBgSound||(I.ironSource.SoundState&&this.AudioManager.playSound(I.SoundTrack.bgSound),I.ironSource.isPlayBgSound=!0)},a.dissolveIn=function(){if(I.currentDissolveInPercent<=0)return I.targetNode.getComponent(c).customMaterial=null,I.targetNode=null,I.isDissolveIn=!1,I.currentDissolveInPercent=1,I.dissolvedItemNumber+=1,I.dissolvedItemNumber>=2&&(I.isCanClick=!0),I.isDissolveFirstTime?(this.checkDoneHint(),void(this.UIController.Tutorial.active=!0)):(I.isDissolveFirstTime=!0,I.isDissolveIn=!0,void(I.targetNode=this.UIController.Hints[0]));I.isCanClick=!1,this.dissolveSprite(I.targetNode),I.currentDissolveInPercent-=.01},a.checkDoneHint=function(){7===I.dissolvedItemNumber&&(v.currentStep=2,this.UIController.Hints[0].active=!1,I.isDissolveIn=!0,I.targetNode=this.UIController.Hints[1],this.AudioManager.playSound(I.SoundTrack.NextStepSound)),12===I.dissolvedItemNumber&&(v.currentStep=3,this.UIController.Hints[1].active=!1,I.isDissolveIn=!0,I.targetNode=this.UIController.Hints[2],this.AudioManager.playSound(I.SoundTrack.NextStepSound)),17===I.dissolvedItemNumber&&(v.currentStep=4,this.UIController.Hints[2].active=!1,I.isDissolveIn=!0,I.targetNode=this.UIController.Hints[3],this.AudioManager.playSound(I.SoundTrack.NextStepSound)),this.updateProgress()},a.update=function(e){I.isDissolveIn&&this.dissolveIn()},t}(h)).prototype,"UIController",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"GameController",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"AudioManager",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"DissolveEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(T.prototype,"DissolveTexture",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./constants.ts","./AudioManager.ts","./GameController.ts","./GameCommon.ts","./UIController.ts","./Responsive.ts","./GamePlay.ts","./TouchArea.ts","./ScrollViewHandler.ts","./Dissolve.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});