{"version":3,"sources":["file:///D:/PA_2024/3D/MergeCraft/MergeCraft_Op7/assets/Script/Controller/NodesController.ts"],"names":["_decorator","Camera","Component","Node","ParticleSystem","sp","ccclass","property","NodesController","start","FX_Lightning","canvas2D","getChildByName","getComponent","Skeleton","Boss","Details","Boss_Die","Points","children","splice","Nuggets","SkibidiNugget","length","forEach","nugget","NuggetLines","push","Popup_Btns","Popup","CTA","CTA_btn","CTA_overlay"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAkBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,c,OAAAA,c;AAA6CC,MAAAA,E,OAAAA,E;;;;;;;OAC5F;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;iCAIjBQ,e,WADZF,OAAO,CAAC,iBAAD,C,UAILC,QAAQ,CAACN,MAAD,C,UAKRM,QAAQ,CAACJ,IAAD,C,UAIRI,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACJ,IAAD,C,UAIRI,QAAQ,CAACJ,IAAD,C,UAIRI,QAAQ,CAACJ,IAAD,C,WAYRI,QAAQ,CAAC,CAACH,cAAD,CAAD,C,oCAvCX,MACaI,eADb,SACqCN,SADrC,CAC+C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,8CAyBxB,EAzBwB;;AAAA;;AAAA,wCA6BhC,IA7BgC;;AAAA,4CA8B5B,IA9B4B;;AAAA,iDA+BvB,IA/BuB;;AAAA,0CAgC5B,EAhC4B;;AAAA,2CAiC3B,EAjC2B;;AAAA,+CAkCvB,EAlCuB;;AAAA,gDAqCjB,IArCiB;;AAAA;;AAAA,uCA6CjC,IA7CiC;;AAAA,2CA8C7B,IA9C6B;;AAAA,+CA+CzB,IA/CyB;;AAAA,kDAiDnB,KAjDmB;AAAA;;AAoDnCO,QAAAA,KAAK,GAAS;AACtB,eAAKC,YAAL,GAAoB,KAAKC,QAAL,CAAcC,cAAd,CAA6B,cAA7B,EAA6CC,YAA7C,CAA0DR,EAAE,CAACS,QAA7D,CAApB;AAEA,eAAKC,IAAL,GAAY,KAAKC,OAAL,CAAaJ,cAAb,CAA4B,OAA5B,CAAZ;AACA,eAAKK,QAAL,GAAgB,KAAKD,OAAL,CAAaJ,cAAb,CAA4B,OAA5B,CAAhB;AACA,eAAKM,MAAL,GAAc,KAAKP,QAAL,CAAcC,cAAd,CAA6B,QAA7B,EAAuCO,QAArD,CALsB,CAOtB;;AACA,eAAKD,MAAL,CAAYE,MAAZ,CAAmB,CAAnB,EAAsB,CAAtB;AAEA,eAAKC,OAAL,GAAe,KAAKL,OAAL,CAAaJ,cAAb,CAA4B,MAA5B,EAAoCO,QAAnD;AACA,eAAKG,aAAL,GAAqB,KAAKN,OAAL,CAAaJ,cAAb,CAA4B,MAA5B,EAAoCA,cAApC,CAAmD,eAAnD,CAArB,CAXsB,CAatB;;AACA,eAAKS,OAAL,CAAaD,MAAb,CAAoB,KAAKC,OAAL,CAAaE,MAAb,GAAsB,CAA1C,EAA6C,CAA7C;AAEA,eAAKF,OAAL,CAAaG,OAAb,CAAqBC,MAAM,IAAI,KAAKC,WAAL,CAAiBC,IAAjB,CAAsBF,MAAM,CAACb,cAAP,CAAsB,MAAtB,CAAtB,CAA/B;AAEA,eAAKgB,UAAL,GAAkB,KAAKC,KAAL,CAAWjB,cAAX,CAA0B,MAA1B,EAAkCO,QAApD;AAEA,eAAKW,GAAL,GAAW,KAAKnB,QAAL,CAAcC,cAAd,CAA6B,KAA7B,CAAX;AACA,eAAKmB,OAAL,GAAe,KAAKD,GAAL,CAASlB,cAAT,CAAwB,KAAxB,CAAf;AACA,eAAKoB,WAAL,GAAmB,KAAKF,GAAL,CAASlB,cAAT,CAAwB,SAAxB,CAAnB;AACD;;AA3E4C,O;;;;;iBAI5B,I;;;;;;;iBAKJ,I;;;;;;;iBAIC,I;;;;;;;iBAEG,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAIH,I;;;;;;;iBAIE,I;;;;;;;iBAYa,E","sourcesContent":["import { _decorator, Camera, Component, Label, Node, ParticleSystem, SkeletalAnimation, Skeleton, sp, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('NodesController')\r\nexport class NodesController extends Component {\r\n\r\n  // Camera\r\n  @property(Camera)\r\n  Camera: Camera = null;\r\n\r\n\r\n  // hints\r\n  @property(Node)\r\n  hint: Node = null;\r\n\r\n  // touch area\r\n  @property(Node)\r\n  point: Node = null;\r\n  @property(Node)\r\n  canvas2D: Node = null;\r\n  @property(Node)\r\n  hideMask: Node = null;\r\n  @property(Node)\r\n  btnFight: Node = null;\r\n\r\n  // UI\r\n  @property(Node)\r\n  Popup: Node = null;\r\n\r\n  Popup_Btns: Node[] = [];\r\n  @property(Node)\r\n  Details: Node = null;\r\n  \r\n  Boss: Node = null;\r\n  Boss_Die: Node = null;\r\n  SkibidiNugget: Node = null;\r\n  Points: Node[] = [];\r\n  Nuggets: Node[] = [];\r\n  NuggetLines: Node[] = [];\r\n\r\n  // FX\r\n  FX_Lightning: sp.Skeleton = null;\r\n  @property([ParticleSystem])\r\n  FX_Fires: ParticleSystem[] = [];\r\n\r\n  // array\r\n\r\n\r\n  // UI \r\n  CTA: Node = null;\r\n  CTA_btn: Node = null;\r\n  CTA_overlay: Node = null;\r\n\r\n  isSaveOnceFlag: boolean = false;\r\n\r\n\r\n  protected start(): void {\r\n    this.FX_Lightning = this.canvas2D.getChildByName(\"sp_lightning\").getComponent(sp.Skeleton);\r\n\r\n    this.Boss = this.Details.getChildByName(\"Enemy\");\r\n    this.Boss_Die = this.Details.getChildByName(\"Dying\");\r\n    this.Points = this.canvas2D.getChildByName(\"Points\").children;\r\n\r\n    // cắt thằng đầu tiên vì thằng đầu tiên là point để bắt va chạm\r\n    this.Points.splice(0, 1);\r\n\r\n    this.Nuggets = this.Details.getChildByName(\"Ally\").children;\r\n    this.SkibidiNugget = this.Details.getChildByName(\"Ally\").getChildByName(\"SkibidiNugget\");\r\n\r\n    // cắt thằng cuối vì thằng cuối để merge\r\n    this.Nuggets.splice(this.Nuggets.length - 1, 1);\r\n\r\n    this.Nuggets.forEach(nugget => this.NuggetLines.push(nugget.getChildByName(\"Line\")));\r\n\r\n    this.Popup_Btns = this.Popup.getChildByName(\"btns\").children;\r\n\r\n    this.CTA = this.canvas2D.getChildByName(\"CTA\");\r\n    this.CTA_btn = this.CTA.getChildByName(\"Btn\");\r\n    this.CTA_overlay = this.CTA.getChildByName(\"Overlay\");\r\n  }\r\n\r\n}\r\n\r\n"]}