{"version":3,"sources":["file:///D:/PA_2024/3D/TangleUNS/TangleUNS_Op2/assets/Script/Game/GamePlay.ts"],"names":["_decorator","Component","Label","Node","Vec3","VideoPlayer","GameController","AudioManager","Constants","UIController","ccclass","property","GamePlay","onLoad","CTA","active","start","isCanClick","initVideo","registerEvent","index","Hints","length","hint","Btns","btn","on","EventType","TOUCH_START","handleBtnTouch","e","handleIronSourcePlaySound","btnName","target","name","filterBtn","isCanPlayVideo","playSound","SoundTrack","rope_1Sound","video","play","caculatedTime","scheduleOnce","pause","nextHint","nextBtn","currentMoves","endVideo","isTouchThirdBtn","currentHint","isTouchFirstBtn","isTouchSeventhBtn","isTouchEighthBtn","isTouchSecondBtn","isTouchForthBtn","isTouchFifthBtn","isTouchSixthBtn","isTouchNinthBtn","convertToNodeSpace","pos","result","x","y","node","COMPLETED","stopSound","bgSound","off","installHandle","ironSource","isPlayBgSound","SoundState","handleMuteSoundIronSource","State","parseInt","localStorage","getItem","isEndGame","stopAllSound","update","dt","label","string","String"],"mappings":"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","sourcesContent":["import { _decorator, Component, EventTouch, Label, Node, tween, Vec2, Vec3, VideoPlayer } from 'cc';\nconst { ccclass, property } = _decorator;\nimport { GameController } from './GameController';\nimport { AudioManager } from './AudioManager';\nimport { Constants } from '../Data/constants';\nimport { UIController } from './UIController';\n\n@ccclass('GamePlay')\nexport class GamePlay extends Component {\n    // Component\n    @property(UIController)\n    UIController: UIController = null;\n    @property(GameController)\n    GameController: GameController = null;\n    @property(AudioManager)\n    AudioManager: AudioManager = null;\n\n    @property(VideoPlayer)\n    video: VideoPlayer = null;\n    @property(Node)\n    HideMask: Node = null;\n\n    @property(Node)\n    CTA: Node = null;\n    @property(Node)\n    CTA_overlay: Node = null;\n    @property(Node)\n    CTA_icon: Node = null;\n    @property(Node)\n    CTA_btn: Node = null;\n\n    @property(Node)\n    layer: Node = null;\n    @property(Node)\n    layer_icon: Node = null;\n\n    @property(Label)\n    label: Label = null;\n\n    isDoneFirstDot: boolean = false;\n    isDoneSecondDot: boolean = false;\n    isCanPlayVideo: boolean = false;\n\n    caculatedTime: number = null;\n    currentPos: Vec3 = null;\n    nextBtn: string = \"Btn_4\";\n    currentMoves: number = 5;\n    currentHint: number = null;\n    nextHint: number = null;\n\n\n    protected onLoad(): void {\n        this.CTA.active = false;\n    }\n\n\n    protected start(): void {\n        // this.AudioManager.playSound(Constants.SoundTrack.bgSound);\n        Constants.isCanClick = true;\n        this.initVideo();\n        this.registerEvent();\n\n        for (let index = 0; index < this.UIController.Hints.length; index++) {\n            const hint = this.UIController.Hints[index];\n            hint.active = false;\n        }\n        this.UIController.Hints[3].active = true;\n    }\n\n\n    private registerEvent(): void {\n        for (let index = 0; index < this.UIController.Btns.length; index++) {\n            const btn = this.UIController.Btns[index];\n            btn.on(Node.EventType.TOUCH_START, this.handleBtnTouch, this);\n        }\n    }\n\n\n    private handleBtnTouch(e: EventTouch): void {\n        if (!Constants.isCanClick) return;\n\n        this.handleIronSourcePlaySound();\n\n        let btnName: string = e.target.name;\n\n        this.filterBtn(btnName);\n\n        if (this.isCanPlayVideo) {\n            this.AudioManager.playSound(Constants.SoundTrack.rope_1Sound)\n            this.video.play();\n            Constants.isCanClick = false;\n        }\n\n        if (this.caculatedTime) {\n            this.scheduleOnce(() => {\n                this.video.pause();\n                if (this.nextHint || this.nextHint === 0) this.UIController.Hints[this.nextHint].active = true;\n                Constants.isCanClick = true;\n            }, this.caculatedTime);\n        }\n    }\n\n\n    private filterBtn(btnName: string): void {\n        switch (btnName) {\n\n            case \"Btn_4\":\n                if (this.nextBtn !== \"Btn_4\") {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                }\n\n                this.currentMoves -= 1;\n                this.currentMoves <= 0 && this.endVideo();\n\n                if (Constants.isTouchThirdBtn) {\n                    this.nextBtn = \"Btn_1\";\n                    this.currentHint = 3;\n                    this.nextHint = 0;\n                    this.isCanPlayVideo = true;\n                    this.caculatedTime = 1.4;\n                    if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n\n                    break;\n                }\n\n                Constants.isTouchFirstBtn = true;\n                this.nextBtn = \"Btn_3\";\n                this.currentHint = 3;\n                this.nextHint = 2;\n                this.isCanPlayVideo = true;\n                this.caculatedTime = 1;\n                if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n\n                break;\n\n\n            case \"Btn_3\":\n                if (this.nextBtn !== \"Btn_3\") {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                }\n\n                this.currentMoves -= 1;\n                this.currentMoves <= 0 && this.endVideo();\n\n                if (Constants.isTouchSeventhBtn) {\n                    Constants.isTouchEighthBtn = true;\n                    this.nextBtn = \"Btn_5\";\n                    this.isCanPlayVideo = true;\n                    this.caculatedTime = 1.1;\n                    this.currentHint = 2;\n                    this.nextHint = 4;\n                    if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n\n                    return;\n                }\n\n                if (!Constants.isTouchFirstBtn) {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                };\n\n                Constants.isTouchSecondBtn = true;\n                this.nextBtn = \"Btn_2\";\n                this.currentHint = 2;\n                this.nextHint = 1;\n                this.isCanPlayVideo = true;\n                this.caculatedTime = 1.5;\n                if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n\n                break;\n\n\n            case \"Btn_2\":\n                if (this.nextBtn !== \"Btn_2\") {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                }\n\n                this.currentMoves -= 1;\n                this.currentMoves <= 0 && this.endVideo();\n\n                if (!Constants.isTouchSecondBtn) {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                };\n\n                if (Constants.isTouchForthBtn && !Constants.isTouchFifthBtn) {\n                    Constants.isTouchFifthBtn = true;\n                    this.nextBtn = \"Btn_5\";\n                    this.isCanPlayVideo = true;\n                    this.caculatedTime = 1;\n                    this.currentHint = 1;\n                    this.nextHint = 4;\n                    if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n\n                    return;\n                }\n\n                Constants.isTouchThirdBtn = true;\n                this.nextBtn = \"Btn_4\";\n                this.isCanPlayVideo = true;\n                this.caculatedTime = 0.5;\n                this.currentHint = 1;\n                this.nextHint = 3;\n                if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n\n                break;\n\n\n            case \"Btn_1\":\n                if (this.nextBtn !== \"Btn_1\") {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                }\n\n                this.currentMoves -= 1;\n                this.currentMoves <= 0 && this.endVideo();\n\n                if (!Constants.isTouchThirdBtn) {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                };\n\n                if (Constants.isTouchSixthBtn) {\n                    Constants.isTouchSeventhBtn = true;\n                    this.nextBtn = \"Btn_3\";\n                    this.isCanPlayVideo = true;\n                    this.caculatedTime = 1.75;\n                    this.currentHint = 0;\n                    this.nextHint = 2;\n                    if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n\n                    return;\n                }\n\n                Constants.isTouchForthBtn = true;\n                this.nextBtn = \"Btn_2\";\n                this.isCanPlayVideo = true;\n                this.caculatedTime = 0.6;\n                this.currentHint = 0;\n                this.nextHint = null;\n                this.UIController.Hints[this.currentHint].active = false;\n\n                break;\n\n\n            case \"Btn_5\":\n                if (this.nextBtn !== \"Btn_5\") {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                }\n\n                this.currentMoves -= 1;\n                this.currentMoves <= 0 && this.endVideo();\n\n                if (Constants.isTouchEighthBtn) {\n                    Constants.isTouchNinthBtn = true;\n                    this.nextBtn = null;\n                    this.isCanPlayVideo = true;\n                    this.caculatedTime = null;\n                    this.currentHint = 4;\n                    this.nextHint = null;\n                    if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n\n                    return;\n                }\n\n                if (!Constants.isTouchFifthBtn) {\n                    this.isCanPlayVideo = false;\n                    this.caculatedTime = null;\n                    return;\n                };\n\n                Constants.isTouchSixthBtn = true;\n                this.nextBtn = \"Btn_1\";\n                this.isCanPlayVideo = true;\n                this.caculatedTime = 0.92;\n                this.currentHint = 4;\n                this.nextHint = 0;\n                if (this.currentHint) this.UIController.Hints[this.currentHint].active = false;\n            default:\n                break;\n        }\n    }\n\n\n    private convertToNodeSpace(pos: Vec2): Vec3 {\n        let result = new Vec3(pos.x - 160, pos.y - 240, 0);\n        return result;\n    }\n\n\n    private initVideo(): void {\n        this.video.node.on(VideoPlayer.EventType.COMPLETED, this.endVideo, this);\n    }\n\n\n    private endVideo(): void {\n        this.AudioManager.stopSound(Constants.SoundTrack.bgSound);\n        // this.CTA.active = true;\n\n        for (let index = 0; index < this.UIController.Btns.length; index++) {\n            const btn = this.UIController.Btns[index];\n            btn.off(Node.EventType.TOUCH_START);\n            btn.on(Node.EventType.TOUCH_START, this.GameController.installHandle, this);\n        }\n\n        // tween(this.CTA_btn)\n        //     .repeatForever(\n        //         tween(this.CTA_btn)\n        //             .to(0.5, { scale: new Vec3(0.45, 0.45, 0.45) })\n        //             .to(0.5, { scale: new Vec3(0.5, 0.5, 0.5) }, { easing: 'elasticOut' })\n        //     ).start();\n\n        // this.CTA_btn.on(Node.EventType.TOUCH_START, this.GameController.installHandle, this);\n        this.GameController.installHandle();\n\n        // mtg & applovin\n        // this.HideMask.on(Node.EventType.TOUCH_START, this.GameController.installHandle, this);\n    }\n\n\n    public handleIronSourcePlaySound(): void {\n        if (Constants.ironSource.isPlayBgSound) {\n            return;\n        }\n\n        if (Constants.ironSource.SoundState) {\n            this.AudioManager.playSound(Constants.SoundTrack.bgSound);\n        }\n\n        Constants.ironSource.isPlayBgSound = true;\n    }\n\n\n    private handleMuteSoundIronSource(): void {\n        Constants.ironSource.State = parseInt(localStorage.getItem(\"cocosSoundState\"), 10)\n\n        if (Constants.ironSource.State) {\n            if (Constants.ironSource.State === 1 && !Constants.ironSource.SoundState && !Constants.ironSource.isEndGame) {\n                Constants.ironSource.SoundState = true;\n                this.AudioManager.playSound(Constants.SoundTrack.bgSound);\n            }\n\n            if (Constants.ironSource.State === 2 && Constants.ironSource.SoundState) {\n                Constants.ironSource.SoundState = false;\n                this.AudioManager.stopAllSound();\n            }\n        }\n    }\n\n\n    protected update(dt: number): void {\n        this.label.string = String(this.currentMoves);\n\n        // if (this.currentMoves <= 0 && !this.CTA.active) this.endVideo();\n\n        // ironsource\n        this.handleMuteSoundIronSource();\n    }\n}\n"]}