{"version":3,"sources":["file:///D:/PA_2024/3D/MergeRobo/MergeRobo/assets/Script/Plugin/IronSource.ts"],"names":["_decorator","Component","Constants","AudioManager","ccclass","property","IronSource","handleIronSourcePlaySound","ironSource","isPlayBgSound","SoundState","playSound","SoundTrack","bgSound","handleMuteSoundIronSource","State","parseInt","localStorage","getItem","isEndGame","stopAllSound","update","dt"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;4BAIjBM,U,WADZF,OAAO,CAAC,YAAD,C,UAGHC,QAAQ;AAAA;AAAA,uC,oCAHb,MACaC,UADb,SACgCL,SADhC,CAC0C;AAAA;AAAA;;AAAA;AAAA;;AAM/BM,QAAAA,yBAAyB,GAAS;AACrC,cAAI;AAAA;AAAA,sCAAUC,UAAV,CAAqBC,aAAzB,EAAwC;AACpC;AACH;;AAED,cAAI;AAAA;AAAA,sCAAUD,UAAV,CAAqBE,UAAzB,EAAqC;AACjC,iBAAKP,YAAL,CAAkBQ,SAAlB,CAA4B;AAAA;AAAA,wCAAUC,UAAV,CAAqBC,OAAjD;AACH;;AAED;AAAA;AAAA,sCAAUL,UAAV,CAAqBC,aAArB,GAAqC,IAArC;AACH;;AAGMK,QAAAA,yBAAyB,GAAS;AACrC;AAAA;AAAA,sCAAUN,UAAV,CAAqBO,KAArB,GAA6BC,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAD,EAA0C,EAA1C,CAArC;;AAEA,cAAI;AAAA;AAAA,sCAAUV,UAAV,CAAqBO,KAAzB,EAAgC;AAC5B,gBAAI;AAAA;AAAA,wCAAUP,UAAV,CAAqBO,KAArB,KAA+B,CAA/B,IAAoC,CAAC;AAAA;AAAA,wCAAUP,UAAV,CAAqBE,UAA1D,IAAwE,CAAC;AAAA;AAAA,wCAAUF,UAAV,CAAqBW,SAAlG,EAA6G;AACzG;AAAA;AAAA,0CAAUX,UAAV,CAAqBE,UAArB,GAAkC,IAAlC;AACA,mBAAKP,YAAL,CAAkBQ,SAAlB,CAA4B;AAAA;AAAA,0CAAUC,UAAV,CAAqBC,OAAjD;AACH;;AAED,gBAAI;AAAA;AAAA,wCAAUL,UAAV,CAAqBO,KAArB,KAA+B,CAA/B,IAAoC;AAAA;AAAA,wCAAUP,UAAV,CAAqBE,UAA7D,EAAyE;AACrE;AAAA;AAAA,0CAAUF,UAAV,CAAqBE,UAArB,GAAkC,KAAlC;AACA,mBAAKP,YAAL,CAAkBiB,YAAlB;AACH;AACJ;AACJ;;AAGSC,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC/B,eAAKR,yBAAL;AACH;;AAtCqC,O;;;;;iBAGT,I","sourcesContent":["\nimport { _decorator, Component, Node } from 'cc';\nimport { Constants } from '../Data/Constant';\nimport { AudioManager } from './AudioManager';\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('IronSource')\nexport class IronSource extends Component {\n\n    @property(AudioManager)\n    AudioManager: AudioManager = null;\n\n\n    public handleIronSourcePlaySound(): void {\n        if (Constants.ironSource.isPlayBgSound) {\n            return;\n        }\n\n        if (Constants.ironSource.SoundState) {\n            this.AudioManager.playSound(Constants.SoundTrack.bgSound);\n        }\n\n        Constants.ironSource.isPlayBgSound = true;\n    }\n\n\n    public handleMuteSoundIronSource(): void {\n        Constants.ironSource.State = parseInt(localStorage.getItem(\"cocosSoundState\"), 10)\n\n        if (Constants.ironSource.State) {\n            if (Constants.ironSource.State === 1 && !Constants.ironSource.SoundState && !Constants.ironSource.isEndGame) {\n                Constants.ironSource.SoundState = true;\n                this.AudioManager.playSound(Constants.SoundTrack.bgSound);\n            }\n\n            if (Constants.ironSource.State === 2 && Constants.ironSource.SoundState) {\n                Constants.ironSource.SoundState = false;\n                this.AudioManager.stopAllSound();\n            }\n        }\n    }\n\n\n    protected update(dt: number): void {\n        this.handleMuteSoundIronSource();\n    }\n}\n\n"]}