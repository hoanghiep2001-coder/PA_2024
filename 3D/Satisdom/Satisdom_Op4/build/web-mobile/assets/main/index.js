System.register("chunks:///_virtual/GameController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts"],(function(e){"use strict";var o,n,t,i,s;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,i=e.Component},function(e){s=e.Constants}],execute:function(){var r;n._RF.push({},"068c9ERAfJF1b4+fsWryUsH","GameController",void 0);var a=t.ccclass;t.property,e("GameController",a("GameController")(r=function(e){function n(){return e.apply(this,arguments)||this}o(n,e);var t=n.prototype;return t.onLoad=function(){},t.start=function(){window.gameReady&&window.gameReady()},t.installHandle=function(){if(console.log("install"),s.ironSource.isEndGame=!0,window.gameEnd&&window.gameEnd(),"undefined"==typeof playableSDK)if("undefined"==typeof ExitApi){if("undefined"==typeof dapi)return"undefined"!=typeof mraid?(cc.sys.os==cc.sys.OS_ANDROID||(cc.sys.os,cc.sys.ANDROID),void mraid.open("https://play.google.com/store/apps/details?id=com.nextsol.muscleemotion")):void(window.install&&window.install());dapi.openStoreUrl()}else ExitApi.exit();else window.playableSDK.openAppStore()},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/BottleItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./AudioManager.ts"],(function(t){"use strict";var e,i,o,r,h,n,a,s,l,c,g,u,p,d,b,f,w,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,h=t.defineProperty,n=t.createClass},function(t){a=t.cclegacy,s=t._decorator,l=t.CCInteger,c=t.Color,g=t.Graphics,u=t.log,p=t.tween,d=t.Vec3,b=t.UITransform,f=t.Component},function(t){w=t.Constants},function(t){C=t.AudioManager}],execute:function(){var T,y,m,H,W,_,v,S,G,A,P,M,k,B,I,O,z,N;a._RF.push({},"1c7c6iJbhpOyZPbVaEnE7BT","BottleItem",void 0);var x=s.ccclass,D=s.property,F=s.executeInEditMode;t("BottleItem",(T=x("BottleItem"),y=D(C),m=D({type:[l]}),H=D({type:[c]}),W=D(l),_=D(l),v=D(l),S=D(l),G=D(g),T(A=F((M=e((P=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(r(e),"AudioManager",M,r(e)),o(r(e),"_waterHeights",k,r(e)),o(r(e),"_waterColors",B,r(e)),o(r(e),"bottleWidth",I,r(e)),o(r(e),"bottleHeight",O,r(e)),o(r(e),"_bottleAngle",z,r(e)),o(r(e),"drawGraphics",N,r(e)),h(r(e),"height1",900),h(r(e),"height2",450),h(r(e),"height3",200),h(r(e),"tubeSide",""),h(r(e),"initPos",null),h(r(e),"tubeController",null),h(r(e),"graphics",null),e}i(e,t);var a=e.prototype;return a.onLoad=function(){},a.start=function(){this.initPos=this.node.getPosition(),this.applyHeightToColors(),this.initTubeSide(),this.drawWater(),this.tubeController=this.node.parent.getComponent("TubeController"),this.graphics=this.tubeController.Graphics},a.applyHeightToColors=function(){this._waterHeights=[this.height1,this.height2,this.height3]},a.getColorStatus=function(){return this.node.parent.parent.parent.getChildByName("GamePlay").getComponent("GamePlay").getColorStatus(this.waterColors)},a.applyWaterColor=function(){var t=this.getColorStatus(),e=t.firstColorOfTube.match(/\d+(\.\d+)?/g).map(Number),i=new c(e[0],e[1],e[2],255*e[3]);this._waterColors[t.indexOfFirstColor-1]=i,u("Màu đc chuyển đổi: "+i)},a.rotateTube=function(t){u("angling"),t.otherTube.setIndexHeightToZero(t.currentHeightOfColor),t.otherTube.applyWaterColor(),t.otherTube.increseHeightOfWater(),this.decreaseHeightOfWater(t),this.AudioManager.playSound(w.SoundTrack.WaterDropSound),p(this.node).to(1.5,{angle:t.angle}).start()},a.increseHeightOfWater=function(){var t=this;console.log("Tăng mực nước");var e=this.getColorStatus(),i=null,o={height:null};switch(e.nonTransparentColorArr.length){case 3:i=900,o.height=this.height1;break;case 2:i=900,o.height=this.height2,w.isFillUp2Color=!0}p(o).to(1.5,{height:i},{onUpdate:function(e){w.isFillUp2Color?t.height2=e.height:900===i?t.height1=e.height:450===i?t.height2=e.height:200===i&&(t.height3=e.height),t.applyHeightToColors()}}).start()},a.fakeDrawSortWater=function(t){var e=this.node.getChildByName("LeftPoint"),i=this.node.getChildByName("RightPoint"),o=t.otherTube.node.getChildByName("MiddlePoint"),r=t.firstColorOfTube.match(/\d+(\.\d+)?/g).map(Number),h=new c(r[0],r[1],r[2],255*r[3]),n=new d,a=new d;"left"===t.drawWaterSide?(n=e.getWorldPosition(),a=o.getWorldPosition()):(n=i.getWorldPosition(),a=o.getWorldPosition());var s=this.graphics.getComponent(b),l=s.convertToNodeSpaceAR(n),g=s.convertToNodeSpaceAR(a);this.graphics.clear(),this.graphics.strokeColor=h,this.graphics.moveTo(l.x,l.y),this.graphics.lineTo(g.x,g.y),this.graphics.stroke(),u("vẽ giọt nước")},a.decreaseHeightOfWater=function(t){var e=this,i=this.getColorStatus(),o=null,r={height:null};switch(i.nonTransparentColorArr.length){case 3:case 2:o=900,r.height=this.height1}p(r).to(1.5,{height:0},{onUpdate:function(i){e.fakeDrawSortWater(t),w.isFillUp2Color?(e.height1=i.height,e.height2=i.height):900===o?e.height1=i.height:450===o?e.height2=i.height:200===o&&(e.height3=i.height),e.applyHeightToColors()}}).call((function(){e.AudioManager.playSound(w.SoundTrack.CompleteSound),e.comeBackInitPos(),e._waterColors[w.interactingColorNumber]=w.transparentColor,w.isFillUp2Color&&(e._waterColors[w.interactingColorNumber+1]=w.transparentColor),w.isFillUp2Color=!1,e.graphics.clear(),console.log("Sort Xong"),u("------------------")})).start()},a.comeBackInitPos=function(){p(this.node).to(.3,{position:this.initPos,angle:0}).call((function(){return w.isCanTouch=!0})).start()},a.MoveToAnotherTube=function(t){var e=this;u("Di chuyển"),w.isCanTouch=!1,p(this.node).to(.3,{position:t.position}).call((function(){return e.rotateTube(t)})).start()},a.setIndexHeightToZero=function(t){var e="";switch(t){case 900:this.height1=0,e="height1";break;case 450:this.height2=450,e="height2","Base_Tube_2"===this.node.name&&(this.height1=0);break;case 200:this.height3=200,e="height3"}u("test height1: "+this.height1),u(this.node.name+" - index Height to zero: "+e),this.applyHeightToColors()},a.initTubeSide=function(){switch(this.node.name){case"Base_Tube_0":this.tubeSide="left";break;case"Base_Tube_1":case"Base_Tube_2":this.tubeSide="right";break;case"Base_Tube_3":this.tubeSide="left"}},a.drawWater=function(){if(this.drawGraphics){this.drawGraphics.clear();for(var t=0;t<this.waterHeights.length;t++){var e=this.waterHeights[t];this.drawOneWater(e,this.waterColors[t])}}},a.drawOneWater=function(t,e){var i=this.bottleAngle/180*Math.PI,o=Math.atan(2*t/this.bottleWidth),r=this.bottleWidth*Math.tan(i);if(this.drawGraphics.fillColor=e,i<=o)if(i<-o){var h=Math.sqrt(2*t*-r),n=(h=h>this.bottleHeight?this.bottleHeight:h)/Math.tan(-i);this.drawGraphics.moveTo(this.bottleWidth,0),this.drawGraphics.lineTo(this.bottleWidth,h),this.drawGraphics.lineTo(this.bottleWidth-n,0),this.drawGraphics.lineTo(this.bottleWidth,0)}else{this.drawGraphics.moveTo(0,0);var a=t+r/2,s=0;a>this.bottleHeight&&(s+=a-this.bottleHeight);var l=t-r/2;l>this.bottleHeight&&(s+=l-this.bottleHeight),this.drawGraphics.lineTo(this.bottleWidth,0),this.drawGraphics.lineTo(this.bottleWidth,l-s),this.drawGraphics.lineTo(0,a-s),this.drawGraphics.lineTo(0,0)}else{var c=Math.sqrt(2*t*r),g=(c=c>this.bottleHeight?this.bottleHeight:c)/Math.tan(i);this.drawGraphics.moveTo(0,0),this.drawGraphics.lineTo(g,0),this.drawGraphics.lineTo(0,c),this.drawGraphics.lineTo(0,0)}this.drawGraphics.fill()},a.update=function(t){this.bottleAngle=this.node.eulerAngles.z},n(e,[{key:"waterHeights",get:function(){return this._waterHeights},set:function(t){this._waterHeights=t,this.drawWater()}},{key:"waterColors",get:function(){return this._waterColors},set:function(t){this._waterColors=t,this.drawWater()}},{key:"bottleAngle",get:function(){return this._bottleAngle},set:function(t){this._bottleAngle=t,this.node.angle=t,this.drawWater()}}]),e}(f)).prototype,"AudioManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(P.prototype,"_waterHeights",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(P.prototype,"_waterColors",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(P.prototype,"bottleWidth",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 564}}),O=e(P.prototype,"bottleHeight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1024}}),z=e(P.prototype,"_bottleAngle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(P.prototype,"bottleAngle",[S],Object.getOwnPropertyDescriptor(P.prototype,"bottleAngle"),P.prototype),N=e(P.prototype,"drawGraphics",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=P))||A)||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/constants.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,n,e;return{setters:[function(o){t=o.defineProperty},function(o){n=o.cclegacy,e=o.Color}],execute:function(){var u;n._RF.push({},"2561f056PZNnalT4L0PDxZm","constants",void 0),function(o){o.touchStart="touchstart",o.touchMove="touchmove",o.touchEnd="touchend",o.touchCancel="touchcancel"}(u||(u={}));var c,r;!function(o){o.bgSound="bgSound",o.CompleteSound="CompleteSound",o.WaterDropSound="WaterDropSound"}(c||(c={})),function(o){o.HORIZONTAL_IPX="horizontal_IPX",o.HORIZONTAL_TABLET="horizontal_Tablet",o.VERTICAL_IPX="vertical_IPX",o.VERTICAL_MOBILE="vertical_Mobile"}(r||(r={}));var a=o("Constants",(function(){}));t(a,"isRotate",!1),t(a,"isCanTouch",!0),t(a,"isFillUp2Color",!1),t(a,"TubeClicked",null),t(a,"interactingColorNumber",null),t(a,"transparentColor",new e(255,255,255,0)),t(a,"Event",u),t(a,"ironSource",{SoundState:!0,State:1,isEndGame:!1,isPlayBgSound:!1}),t(a,"Responsive",r),t(a,"SoundTrack",c),n._RF.pop()}}}));

System.register("chunks:///_virtual/interfaces.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"26a83ugiDlFw5ASSLaYBxP4","interfaces",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Responsive.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./GamePlay.ts"],(function(t){"use strict";var i,e,o,n,s,r,l,a,c,h,u,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,c=t.screen,h=t.Component},function(t){u=t.Constants},function(t){d=t.GamePlay}],execute:function(){var p,w,I,f,_,v,T,z,L;r._RF.push({},"2c659dyycZOSLXLEYpk8aF8","Responsive",void 0);var R=l.ccclass,g=l.property;t("Responsive",(p=R("Responsive"),w=g(a),I=g(a),f=g(d),p((T=i((v=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,o(n(i),"TopBG",T,n(i)),o(n(i),"BotBG",z,n(i)),o(n(i),"GamePlay",L,n(i)),s(n(i),"device",""),s(n(i),"isRotate",!1),s(n(i),"hint_Pos_X",void 0),s(n(i),"hint_Pos_Y",void 0),s(n(i),"hand",null),s(n(i),"HORIZONTAL_IPX","horizontal_IPX"),s(n(i),"HORIZONTAL_TABLET","horizontal_Tablet"),s(n(i),"VERTICAL_IPX","vertical_IPX"),s(n(i),"VERTICAL_MOBILE","vertical_Mobile"),i}e(i,t);var r=i.prototype;return r.onLoad=function(){},r.start=function(){},r.handleRotate=function(){c.windowSize.width>c.windowSize.height?(u.isRotate=!0,this.setHorizontal()):(u.isRotate=!1,this.setVertical())},r.setHorizontal=function(){c.windowSize.height/c.windowSize.width<.65?this.setHorizontalForIpX():this.setHorizontalForTablet()},r.setHorizontalForIpX=function(){this.HORIZONTAL_IPX!==this.device&&(this.device=this.HORIZONTAL_IPX,c.windowSize.height/c.windowSize.width>.55?console.log(1):console.log(2))},r.setHorizontalForTablet=function(){this.HORIZONTAL_TABLET!==this.device&&(this.device=this.HORIZONTAL_TABLET,console.log(3))},r.setVertical=function(){c.windowSize.width/c.windowSize.height<.5?this.setIphoneX():this.setMobile()},r.setIphoneX=function(){this.VERTICAL_IPX!==this.device&&(this.device=this.VERTICAL_IPX,console.log(4))},r.setMobile=function(){this.VERTICAL_MOBILE!==this.device&&(this.device=this.VERTICAL_MOBILE,c.windowSize.width/c.windowSize.height<.7?console.log(5):console.log(6))},r.update=function(t){this.handleRotate()},i}(h)).prototype,"TopBG",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(v.prototype,"BotBG",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(v.prototype,"GamePlay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/TouchController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./BottleItem.ts","./NodeController.ts","./GamePlay.ts"],(function(e){"use strict";var t,o,n,r,i,l,a,c,u,s,C,f,T,b,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Node,c=e.log,u=e.tween,s=e.Vec3,C=e.easing,f=e.Component},function(e){T=e.Constants},function(e){b=e.BottleItem},function(e){h=e.NodeController},function(e){g=e.GamePlay}],execute:function(){var p,d,y,m,v,w,P;i._RF.push({},"555fbtXYS1MyrKSGXDGNOn2","TouchController",void 0);var k=l.ccclass,G=l.property,N=l.executeInEditMode;e("TouchController",(p=k("TouchController"),d=G(g),y=G(h),p(m=N((w=t((v=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(r(t),"GamePlay",w,r(t)),n(r(t),"NodeController",P,r(t)),t}o(t,e);var i=t.prototype;return i.start=function(){this.registerEvent()},i.registerEvent=function(){var e=this;this.NodeController.Tubes.forEach((function(t){t.on(a.EventType.TOUCH_START,e.tubeTouchStart,e)}))},i.tubeTouchStart=function(e){if(T.isCanTouch){var t=e.target;T.TubeClicked?(this.isPickCorrectTube(T.TubeClicked,t)?this.GamePlay.handleMoveToAnotherTube(T.TubeClicked,t):console.log("wrong"),this.scaleDownTube(T.TubeClicked),T.TubeClicked=null):(T.TubeClicked=t,this.scaleUpTube(t),console.log("wrong"),c("------------------------"))}},i.scaleUpTube=function(e){u(e).to(.5,{scale:new s(.17,.17,.17)},{easing:C.elasticOut}).start()},i.scaleDownTube=function(e){u(e).to(.5,{scale:new s(.15,.15,.15)},{easing:C.elasticOut}).start()},i.isPickCorrectTube=function(e,t){var o=e.getComponent(b),n=t.getComponent(b),r=this.GamePlay.getColorStatus(o.waterColors),i=this.GamePlay.getColorStatus(n.waterColors);return T.interactingColorNumber=r.indexOfFirstColor,c("Index Màu đang tương tác: "+T.interactingColorNumber),3!==i.nonTransparentColorArr.length&&r.firstColorOfTube===i.firstColorOfTube},t}(f)).prototype,"GamePlay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"NodeController",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/TubeController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BottleItem.ts"],(function(t){"use strict";var e,o,r,n,l,i,s,a,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,l=t.defineProperty},function(t){i=t.cclegacy,s=t._decorator,a=t.Graphics,u=t.Color,c=t.Component},function(t){p=t.BottleItem}],execute:function(){var h,C,b,f,w,m,y;i._RF.push({},"83117W9E+1POLMuSfQsWekM","TubeController",void 0);var g=s.ccclass,I=s.property,B=s.executeInEditMode;t("TubeController",(h=g("TubeController"),C=I([p]),b=I(a),h(f=B((m=e((w=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,r(n(e),"BottleItems",m,n(e)),r(n(e),"Graphics",y,n(e)),l(n(e),"blueColor",new u(28,101,170,255)),l(n(e),"brownColor",new u(161,71,71,255)),l(n(e),"orangeColor",new u(241,116,58,255)),l(n(e),"transparent",new u(255,255,255,0)),e}return o(e,t),e.prototype.start=function(){this.BottleItems[0]._waterColors=[this.blueColor,this.brownColor,this.blueColor],this.BottleItems[1]._waterColors=[this.orangeColor,this.blueColor,this.brownColor],this.BottleItems[2]._waterColors=[this.transparent,this.brownColor,this.orangeColor],this.BottleItems[3]._waterColors=[this.transparent,this.orangeColor,this.brownColor]},e}(c)).prototype,"BottleItems",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(w.prototype,"Graphics",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=w))||f)||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts"],(function(e){"use strict";var o,t,n,r,u,a,i,s,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,a=e._decorator,i=e.AudioSource,s=e.Component},function(e){p=e.Constants}],execute:function(){var c,l,d,S,b,h,f,g,y;u._RF.push({},"8852crIf49LULXJpY9pXiqJ","AudioManager",void 0);var m=a.ccclass,D=a.property;e("AudioManager",(c=m("AudioManager"),l=D(i),d=D(i),S=D(i),c((f=o((h=function(e){function o(){for(var o,t=arguments.length,u=new Array(t),a=0;a<t;a++)u[a]=arguments[a];return o=e.call.apply(e,[this].concat(u))||this,n(r(o),"bgSound",f,r(o)),n(r(o),"CompleteSound",g,r(o)),n(r(o),"WaterDropSound",y,r(o)),o}t(o,e);var u=o.prototype;return u.playSound=function(e){if(p.ironSource.SoundState)switch(e){case"bgSound":this.bgSound.play();break;case"CompleteSound":this.CompleteSound.play();break;case"WaterDropSound":this.WaterDropSound.play()}},u.pauseSound=function(e){switch(e){case"bgSound":this.bgSound.pause();break;case"CompleteSound":this.CompleteSound.pause();break;case"WaterDropSound":this.WaterDropSound.pause()}},u.stopSound=function(e){switch(e){case"bgSound":this.bgSound.stop();break;case"CompleteSound":this.CompleteSound.stop();break;case"WaterDropSound":this.WaterDropSound.stop()}},u.stopAllSound=function(){this.bgSound.stop(),this.CompleteSound.stop(),this.WaterDropSound.stop()},o}(s)).prototype,"bgSound",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=o(h.prototype,"CompleteSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=o(h.prototype,"WaterDropSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b));u._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./GameController.ts","./AudioManager.ts","./BottleItem.ts","./NodeController.ts"],(function(e){"use strict";var o,t,r,n,l,a,i,u,s,c,f,g,S,d;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,i=e.Node,u=e.Vec3,s=e.Component},function(e){c=e.Constants},function(e){f=e.GameController},function(e){g=e.AudioManager},function(e){S=e.BottleItem},function(e){d=e.NodeController}],execute:function(){var h,C,p,b,m,T,v,y,w,A,M;l._RF.push({},"d6ba26BX9VFWrvN11awPr8L","GamePlay",void 0);var N=a.ccclass,G=a.property;e("GamePlay",(h=N("GamePlay"),C=G(f),p=G(g),b=G(d),m=G(i),h((y=o((v=function(e){function o(){for(var o,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return o=e.call.apply(e,[this].concat(l))||this,r(n(o),"GameController",y,n(o)),r(n(o),"AudioManager",w,n(o)),r(n(o),"NodeController",A,n(o)),r(n(o),"HideMask",M,n(o)),o}t(o,e);var l=o.prototype;return l.onLoad=function(){},l.start=function(){},l.getColorStatus=function(e){var o,t=null,r=null,n=[],l=null,a=[900,450,200];o=this.hasConsecutiveDuplicateColors(e);for(var i=0;i<e.length;i++)0!==e[i].a&&(t||(t=e[i].toCSS(),l=a[i],r=i),n.push(e[i].toCSS()));return{firstColorOfTube:t,indexOfFirstColor:r,nonTransparentColorArr:n,heightOfFirstColor:l,isHasTwoSameColor:o}},l.areColorsEqual=function(e,o){return e.r===o.r&&e.g===o.g&&e.b===o.b&&e.a===o.a},l.hasConsecutiveDuplicateColors=function(e){for(var o=0;o<e.length-1;o++)if(this.areColorsEqual(e[o],e[o+1]))return!0;return!1},l.handleMoveToAnotherTube=function(e,o){var t=e.getComponent(S),r=o.getComponent(S);o.setSiblingIndex(this.NodeController.Tubes.length-1),e.setSiblingIndex(this.NodeController.Tubes.length-2);var n=this.calculateNewTubeState(r,t);t.MoveToAnotherTube(n),console.log("correct")},l.calculateNewTubeState=function(e,o){var t={position:null,angle:null,firstColorOfTube:null,currentHeightOfColor:null,otherTube:null,drawWaterSide:null},r=e.node.getPosition(),n=this.getColorStatus(o.waterColors);switch(t.firstColorOfTube=n.firstColorOfTube,t.currentHeightOfColor=n.heightOfFirstColor,t.otherTube=e,e.tubeSide){case"left":t.position=new u(30,r.y+120,0),3===n.nonTransparentColorArr.length?t.angle=65:2===n.nonTransparentColorArr.length?t.angle=85:t.angle=90,t.drawWaterSide="left";break;case"right":t.position=new u(-30,r.y+120,0),3===n.nonTransparentColorArr.length?t.angle=-75:2===n.nonTransparentColorArr.length?t.angle=-85:t.angle=-90,t.drawWaterSide="right"}return t},l.handleMuteSoundIronSource=function(){c.ironSource.State=parseInt(localStorage.getItem("cocosSoundState"),10),c.ironSource.State&&(1!==c.ironSource.State||c.ironSource.SoundState||c.ironSource.isEndGame||(c.ironSource.SoundState=!0),2===c.ironSource.State&&c.ironSource.SoundState&&(c.ironSource.SoundState=!1,this.AudioManager.stopAllSound()))},o}(s)).prototype,"GameController",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(v.prototype,"AudioManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(v.prototype,"NodeController",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=o(v.prototype,"HideMask",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=v))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/NodeController.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,o,i,l,a,c,s,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.defineProperty},function(e){l=e.cclegacy,a=e._decorator,c=e.Node,s=e.Graphics,u=e.Component}],execute:function(){var p,d,f,h,y,b,v;l._RF.push({},"e5f20qnLEJGvJuH9RZO0TCD","NodeController",void 0);var g=a.ccclass,C=a.property,N=a.executeInEditMode;e("NodeController",(p=g("NodeController"),d=C(c),f=C(s),p(h=N((b=r((y=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return r=e.call.apply(e,[this].concat(l))||this,n(o(r),"canvas",b,o(r)),i(o(r),"Tubes",[]),n(o(r),"graphics",v,o(r)),r}return t(r,e),r.prototype.start=function(){this.Tubes=this.canvas.getChildByName("TubeController").children},r}(u)).prototype,"canvas",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(y.prototype,"graphics",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h)||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./constants.ts","./GameController.ts","./AudioManager.ts","./BottleItem.ts","./interfaces.ts","./NodeController.ts","./GamePlay.ts","./Responsive.ts","./TouchController.ts","./TubeController.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});