{"version":3,"sources":["file:///D:/PA_2024/3D/CatEscape/CatEscape_OP16/assets/Script/Plugin/Responsive.ts"],"names":["_decorator","Component","Node","screen","Constants","Game","ccclass","property","Responsive","onLoad","start","handleRotate","windowSize","width","height","isRotate","setHorizontal","setVertical","setHorizontalForIpX","setHorizontalForTablet","HORIZONTAL_IPX","device","ironSource","isEndGame","title","active","icon","Gradient","setScale","setPosition","HORIZONTAL_TABLET","setIphoneX","setMobile","VERTICAL_IPX","VERTICAL_MOBILE","update","dt"],"mappings":"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","sourcesContent":["import { Constants } from \"../Data/Constant\";\r\n\r\nconst { ccclass, property } = _decorator;\r\nimport { _decorator, Component, CircleCollider2D, Node, Prefab,Animation,Camera,Label, instantiate, RigidBody2D, Vec2, Vec3, toRadian, math, Skeleton, sp, tween, EventTouch, screen } from 'cc';\r\nimport { Game } from \"../Game/Game\";\r\n\r\n@ccclass\r\nexport default class Responsive extends Component {\r\n\r\n    @property(Node)\r\n    Gradient: Node = null;\r\n    @property(Game)\r\n    Game: Game = null;\r\n\r\n    // state\r\n    device: string = \"\";\r\n    HORIZONTAL_IPX: string = \"horizontal_IPX\";\r\n    HORIZONTAL_TABLET: string = \"horizontal_Tablet\";\r\n    VERTICAL_IPX: string = \"vertical_IPX\";\r\n    VERTICAL_MOBILE: string = \"vertical_Mobile\";\r\n\r\n    protected onLoad(): void {\r\n\r\n    }\r\n\r\n    protected start(): void {\r\n\r\n    }\r\n\r\n    private handleRotate(): void {\r\n        if (screen.windowSize.width > screen.windowSize.height) {\r\n            Constants.isRotate = true;\r\n            this.setHorizontal();\r\n        } else {\r\n            Constants.isRotate = false;\r\n            this.setVertical();\r\n        }\r\n    }\r\n\r\n    private setHorizontal(): void {\r\n        if(screen.windowSize.height / screen.windowSize.width < 0.65) {\r\n            // Iphone 6 / 6 plus / 7 / 7 Plus / X\r\n            this.setHorizontalForIpX(); \r\n        } else {\r\n            this.setHorizontalForTablet();\r\n        }\r\n    }\r\n\r\n    private setHorizontalForIpX(): void {\r\n        if(this.HORIZONTAL_IPX === this.device) {\r\n            return;\r\n        }\r\n\r\n        this.device = this.HORIZONTAL_IPX;\r\n\r\n        if(!Constants.ironSource.isEndGame) {\r\n            this.Game.title.active = true;\r\n            this.Game.icon.active = true;\r\n        }\r\n\r\n        if(screen.windowSize.height / screen.windowSize.width > 0.55) {\r\n            // Ip 6 / 6Plus / 7 / 7 Plus\r\n            this.Gradient.setScale(55, 0.2, 1);\r\n            this.Gradient.setPosition(0, 210, 0);\r\n        } else {\r\n            // IpX\r\n            this.Gradient.setScale(65, 0.2, 1);\r\n            this.Gradient.setPosition(0, 210, 0);\r\n        }\r\n    }\r\n\r\n    private setHorizontalForTablet(): void {\r\n        if(this.HORIZONTAL_TABLET === this.device) {\r\n            return;\r\n        }\r\n\r\n        this.device = this.HORIZONTAL_TABLET;\r\n\r\n        if(!Constants.ironSource.isEndGame) {\r\n            this.Game.title.active = true;\r\n            this.Game.icon.active = true;\r\n        }\r\n        this.Gradient.setScale(50, 0.2, 1);\r\n        this.Gradient.setPosition(0, 220, 0);\r\n        // horizontal google\r\n        // if(screen.windowSize.width / screen.windowSize.height <= 1.2 && screen.windowSize.width / screen.windowSize.height >= 1.2) {\r\n\r\n        //     return;\r\n        // }\r\n    }\r\n\r\n    private setVertical(): void {\r\n        if (screen.windowSize.width / screen.windowSize.height < 0.5) {\r\n            this.setIphoneX();\r\n        } else {\r\n            this.setMobile();\r\n        }\r\n    }\r\n\r\n    private setIphoneX(): void {\r\n        if(this.VERTICAL_IPX === this.device) {\r\n            return;\r\n        }\r\n\r\n        this.device = this.VERTICAL_IPX;\r\n\r\n        this.Game.title.active = false;\r\n        this.Game.icon.active = false;\r\n        this.Gradient.setScale(50, 0.2, 1);\r\n        this.Gradient.setPosition(0, 310, 0);\r\n    }\r\n\r\n    private setMobile(): void {\r\n        if(this.VERTICAL_MOBILE === this.device) {\r\n            return;\r\n        }   \r\n\r\n        this.device = this.VERTICAL_MOBILE;           \r\n\r\n        if(screen.windowSize.width / screen.windowSize.height < 0.7) {\r\n\r\n            if (screen.windowSize.width / screen.windowSize.height >= 0.6 && screen.windowSize.width / screen.windowSize.height < 0.62) {\r\n                // mobile mode applovin\r\n\r\n                this.Game.title.active = false;\r\n                this.Game.icon.active = false;\r\n                this.Gradient.setScale(50, 0.2, 1);\r\n                this.Gradient.setPosition(0, 240, 0);\r\n                return;\r\n            }\r\n\r\n            // Iphone 6 / 6 plus / 7 / 7 Plus\r\n            this.Game.title.active = false;\r\n            this.Game.icon.active = false;\r\n            this.Gradient.setScale(50, 0.2, 1);\r\n            this.Gradient.setPosition(0, 240, 0);\r\n        } else {    \r\n\r\n            // Ipad\r\n            this.Game.title.active = false;\r\n            this.Game.icon.active = false;\r\n            this.Gradient.setScale(50, 0.2, 1);\r\n            this.Gradient.setPosition(0, 220, 0);\r\n        }\r\n        \r\n    }\r\n\r\n    protected update(dt: number): void {\r\n        this.handleRotate();\r\n    }\r\n\r\n}\r\n"]}