{"version":3,"sources":["file:///D:/playable-ads-hiepdh/RopeTangle/RopeTangle_Op2/assets/Script/Responsive.ts"],"names":["_decorator","Component","math","screen","log","GamePlay","ccclass","property","Responsive","onLoad","start","handleRotate","windowSize","width","height","isRotate","setHorizontal","setVertical","setHorizontalForIpX","setHorizontalForTablet","HORIZONTAL_IPX","device","HORIZONTAL_TABLET","video","node","setPosition","Vec3","setScale","setIphoneX","setMobile","VERTICAL_IPX","VERTICAL_MOBILE","update","dt"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, math, Node, Tween, tween, view, Animation, screen, log } from 'cc';\nimport { GamePlay } from './GamePlay';\nconst { ccclass, property } = _decorator;\n \n@ccclass('Responsive')\nexport class Responsive extends Component {\n    \n    @property(GamePlay)\n    GamePlay: GamePlay = null;\n    \n    // state\n    device: string = \"\";\n    isRotate: boolean = false;\n    hint_Pos_X: number;\n    hint_Pos_Y: number;\n    \n    hand: Node = null;\n\n    HORIZONTAL_IPX: string = \"horizontal_IPX\";\n    HORIZONTAL_TABLET: string = \"horizontal_Tablet\";\n    VERTICAL_IPX: string = \"vertical_IPX\";\n    VERTICAL_MOBILE: string = \"vertical_Mobile\";    \n\n\n    protected onLoad(): void {\n\n    }\n\n\n    protected start(): void {\n\n    }\n\n\n    private handleRotate(): void {\n        if (screen.windowSize.width > screen.windowSize.height) {\n            this.isRotate = true;\n            this.setHorizontal();\n        } else {\n            this.isRotate = false;\n            this.setVertical();\n        }\n    }\n\n\n    private setHorizontal(): void {\n        if(screen.windowSize.height / screen.windowSize.width < 0.65) {\n            // Iphone 6 / 6 plus / 7 / 7 Plus / X\n            this.setHorizontalForIpX(); \n        } else {\n            this.setHorizontalForTablet();\n        }\n    }\n\n\n    private setHorizontalForIpX(): void {\n        if(this.HORIZONTAL_IPX === this.device) {\n            return;\n        }\n\n        log(screen.windowSize.width)\n        log(screen.windowSize.height)\n\n        this.device = this.HORIZONTAL_IPX;\n\n        // if(cc.screen.windowSize.height / cc.screen.windowSize.width >= 0.6) {\n        //     // Applovin horizontal\n\n        //     return;\n        // }\n\n        if(screen.windowSize.height / screen.windowSize.width > 0.55) {\n            // Ip 6 / 6Plus / 7 / 7 Plus\n        \n        } else {\n            // IpX\n         \n        }\n        \n    }\n\n\n    private setHorizontalForTablet(): void {\n        if(this.HORIZONTAL_TABLET === this.device) {\n            return;\n        }\n\n        this.device = this.HORIZONTAL_TABLET;\n\n        this.GamePlay.video.node.setPosition(new math.Vec3(0, 30, 0));\n        this.GamePlay.video.node.setScale(new math.Vec3(0.27, 0.27, 0.27));\n\n        // horizontal google\n        // if(cc.screen.windowSize.width / cc.screen.windowSize.height <= 1.2 && cc.screen.windowSize.width / cc.screen.windowSize.height >= 1.2) {\n\n        //     return;\n        // }\n\n    }\n\n\n    private setVertical(): void {\n\n        if (screen.windowSize.width / screen.windowSize.height < 0.5) {\n            this.setIphoneX();\n        } else {\n            this.setMobile();\n        }\n    }\n\n\n    private setIphoneX(): void {\n        if(this.VERTICAL_IPX === this.device) {\n            return;\n        }\n\n        this.device = this.VERTICAL_IPX;\n    }\n\n\n    private setMobile(): void {\n        if(this.VERTICAL_MOBILE === this.device) {\n            return;\n        }   \n\n        this.device = this.VERTICAL_MOBILE;           \n\n        if(screen.windowSize.width / screen.windowSize.height < 0.7) {\n\n            // if (cc.screen.windowSize.width / cc.screen.windowSize.height >= 0.6 && cc.screen.windowSize.width / cc.screen.windowSize.height < 0.62) {\n            //     // mobile mode applovin\n\n\n            //     return;\n            // }\n\n            // Iphone 6 / 6 plus / 7 / 7 Plus\n\n        } else {    \n            // Ipad\n            this.GamePlay.video.node.setPosition(new math.Vec3(0, 30, 0));\n            this.GamePlay.video.node.setScale(new math.Vec3(0.27, 0.27, 0.27));\n        }\n        \n    }\n\n    protected update(dt: number): void {\n        this.handleRotate();\n    }\n}\n\n"]}